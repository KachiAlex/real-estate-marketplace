"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[482],{2482:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var r=t(5043),a=t(3216),n=t(5016),l=t(3768),o=t(5369),c=t(6213),i=t(1876),d=t(579);const m=()=>{const e=(0,a.Zp)(),{user:s}=(0,n.As)(),[t,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(1),[b,p]=(0,r.useState)({name:"",registrationNumber:"",email:"",phone:"",address:{street:"",city:"",state:"",country:"Nigeria",zipCode:""},contactPerson:{firstName:"",lastName:"",email:"",phone:"",position:""},userAccount:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""}}),[g,h]=(0,r.useState)([]),[f,N]=(0,r.useState)({}),y=e=>{const{name:s,value:t}=e.target;if(s.includes(".")){const[e,r]=s.split(".");p(s=>({...s,[e]:{...s[e],[r]:t}}))}else p(e=>({...e,[s]:t}));f[s]&&N(e=>{const t={...e};return delete t[s],t})},j=()=>{1===u&&(()=>{const e={};return b.name.trim()||(e.name="Bank name is required"),b.registrationNumber.trim()||(e.registrationNumber="Registration number is required"),b.email.trim()||(e.email="Email is required"),b.phone.trim()||(e.phone="Phone number is required"),b.address.street.trim()||(e["address.street"]="Street address is required"),b.address.city.trim()||(e["address.city"]="City is required"),b.address.state.trim()||(e["address.state"]="State is required"),N(e),0===Object.keys(e).length})()?x(2):2===u&&(()=>{const e={};return b.contactPerson.firstName.trim()||(e["contactPerson.firstName"]="First name is required"),b.contactPerson.lastName.trim()||(e["contactPerson.lastName"]="Last name is required"),b.contactPerson.email.trim()||(e["contactPerson.email"]="Email is required"),b.contactPerson.phone.trim()||(e["contactPerson.phone"]="Phone number is required"),b.contactPerson.position.trim()||(e["contactPerson.position"]="Position is required"),N(e),0===Object.keys(e).length})()&&x(3)},v=()=>{u>1&&x(u-1)};return(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,d.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:(0,d.jsx)(o.ymh,{className:"text-blue-600 text-2xl"})}),(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mortgage Bank Registration"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Register your mortgage bank to start receiving loan applications"})]}),(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsx)("div",{className:"flex items-center justify-between",children:[1,2,3].map(e=>(0,d.jsxs)(r.Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold "+(u>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:u>e?(0,d.jsx)(o.A7C,{}):e}),(0,d.jsx)("span",{className:"mt-2 text-sm text-gray-600",children:1===e?"Bank Info":2===e?"Contact":"Account"})]}),e<3&&(0,d.jsx)("div",{className:"flex-1 h-1 mx-2 "+(u>e?"bg-blue-600":"bg-gray-200")})]},e))})}),(0,d.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),(()=>{const e={};return b.userAccount.firstName.trim()||(e["userAccount.firstName"]="First name is required"),b.userAccount.lastName.trim()||(e["userAccount.lastName"]="Last name is required"),b.userAccount.email.trim()||(e["userAccount.email"]="Email is required"),b.userAccount.password||(e["userAccount.password"]="Password is required"),b.userAccount.password.length<6&&(e["userAccount.password"]="Password must be at least 6 characters"),b.userAccount.password!==b.userAccount.confirmPassword&&(e["userAccount.confirmPassword"]="Passwords do not match"),N(e),0===Object.keys(e).length})())if(0!==g.length){m(!0);try{const s=await Promise.all(g.map(async e=>({type:e.type,name:e.name,url:`https://example.com/documents/${e.name}`,uploadedAt:(new Date).toISOString()}))),t={name:b.name,registrationNumber:b.registrationNumber,email:b.email,phone:b.phone,address:b.address,contactPerson:b.contactPerson,userAccount:{firstName:b.userAccount.firstName,lastName:b.userAccount.lastName,email:b.userAccount.email,password:b.userAccount.password},documents:s},r=await c.A.post((0,i.e9)("/mortgage-banks/register"),t);r.data.success?(l.Ay.success("Registration submitted successfully! Please wait for admin verification."),setTimeout(()=>{e("/")},2e3)):l.Ay.error(r.data.message||"Registration failed")}catch(u){var t,r,a,n,o,d;console.error("Registration error:",u),l.Ay.error((null===(t=u.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||(null===(a=u.response)||void 0===a||null===(n=a.data)||void 0===n||null===(o=n.errors)||void 0===o||null===(d=o[0])||void 0===d?void 0:d.message)||"Error submitting registration. Please try again.")}finally{m(!1)}}else l.Ay.error("Please upload at least one document")},children:[1===u&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Bank Information"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Name ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"name",value:b.name,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f.name?"border-red-500":"border-gray-300"),placeholder:"e.g., First Bank Mortgage"}),f.name&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.name})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Registration Number ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"registrationNumber",value:b.registrationNumber,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f.registrationNumber?"border-red-500":"border-gray-300"),placeholder:"RC123456"}),f.registrationNumber&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.registrationNumber})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"email",name:"email",value:b.email,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f.email?"border-red-500":"border-gray-300"),placeholder:"bank@example.com"}),f.email&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.email})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"tel",name:"phone",value:b.phone,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f.phone?"border-red-500":"border-gray-300"),placeholder:"+234 800 123 4567"}),f.phone&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.phone})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Street Address ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"address.street",value:b.address.street,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["address.street"]?"border-red-500":"border-gray-300"),placeholder:"123 Main Street"}),f["address.street"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["address.street"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"address.city",value:b.address.city,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["address.city"]?"border-red-500":"border-gray-300"),placeholder:"Lagos"}),f["address.city"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["address.city"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"address.state",value:b.address.state,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["address.state"]?"border-red-500":"border-gray-300"),placeholder:"Lagos State"}),f["address.state"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["address.state"]})]})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)("button",{type:"button",onClick:j,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Next"})})]}),2===u&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Person Information"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["First Name ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"contactPerson.firstName",value:b.contactPerson.firstName,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["contactPerson.firstName"]?"border-red-500":"border-gray-300")}),f["contactPerson.firstName"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["contactPerson.firstName"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Last Name ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"contactPerson.lastName",value:b.contactPerson.lastName,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["contactPerson.lastName"]?"border-red-500":"border-gray-300")}),f["contactPerson.lastName"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["contactPerson.lastName"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"email",name:"contactPerson.email",value:b.contactPerson.email,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["contactPerson.email"]?"border-red-500":"border-gray-300")}),f["contactPerson.email"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["contactPerson.email"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"tel",name:"contactPerson.phone",value:b.contactPerson.phone,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["contactPerson.phone"]?"border-red-500":"border-gray-300")}),f["contactPerson.phone"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["contactPerson.phone"]})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Position ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"contactPerson.position",value:b.contactPerson.position,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["contactPerson.position"]?"border-red-500":"border-gray-300"),placeholder:"e.g., Managing Director"}),f["contactPerson.position"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["contactPerson.position"]})]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("button",{type:"button",onClick:v,className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Back"}),(0,d.jsx)("button",{type:"button",onClick:j,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Next"})]})]}),3===u&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"User Account & Documents"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["First Name ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"userAccount.firstName",value:b.userAccount.firstName,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["userAccount.firstName"]?"border-red-500":"border-gray-300")}),f["userAccount.firstName"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["userAccount.firstName"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Last Name ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",name:"userAccount.lastName",value:b.userAccount.lastName,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["userAccount.lastName"]?"border-red-500":"border-gray-300")}),f["userAccount.lastName"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["userAccount.lastName"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"email",name:"userAccount.email",value:b.userAccount.email,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["userAccount.email"]?"border-red-500":"border-gray-300")}),f["userAccount.email"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["userAccount.email"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"password",name:"userAccount.password",value:b.userAccount.password,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["userAccount.password"]?"border-red-500":"border-gray-300")}),f["userAccount.password"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["userAccount.password"]})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"password",name:"userAccount.confirmPassword",value:b.userAccount.confirmPassword,onChange:y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(f["userAccount.confirmPassword"]?"border-red-500":"border-gray-300")}),f["userAccount.confirmPassword"]&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f["userAccount.confirmPassword"]})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Documents ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,d.jsx)(o.l1U,{className:"mx-auto text-4xl text-gray-400 mb-4"}),(0,d.jsx)("input",{type:"file",id:"documents",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:e=>{const s=Array.from(e.target.files),t=s.map(e=>({type:e.name.includes("license")?"license":e.name.includes("registration")?"registration":e.name.includes("tax")?"tax_certificate":"other",name:e.name,size:e.size,file:e}));h(e=>[...e,...t]),l.Ay.success(`${s.length} document(s) added`)},className:"hidden"}),(0,d.jsx)("label",{htmlFor:"documents",className:"cursor-pointer inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Upload Documents"}),(0,d.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Upload license, registration certificate, tax certificate, etc."})]}),g.length>0&&(0,d.jsx)("div",{className:"mt-4 space-y-2",children:g.map((e,s)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-sm text-gray-700",children:e.name}),(0,d.jsx)("button",{type:"button",onClick:()=>(e=>{h(s=>s.filter((s,t)=>t!==e)),l.Ay.success("Document removed")})(s),className:"text-red-600 hover:text-red-800",children:(0,d.jsx)(o._Hm,{})})]},s))})]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("button",{type:"button",onClick:v,className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Back"}),(0,d.jsx)("button",{type:"submit",disabled:t,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Submitting...":"Submit Registration"})]})]})]})]})})})}}}]);
//# sourceMappingURL=482.feaf6908.chunk.js.map