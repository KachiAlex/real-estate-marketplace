"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[945],{5945:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var t=a(5043),r=a(3216),l=a(5016),i=a(5369),n=a(3768),c=a(579);const m=()=>{const{user:e}=(0,l.As)(),s=(0,r.Zp)(),[a,m]=(0,t.useState)([]),[o,d]=(0,t.useState)(!0),[x,h]=(0,t.useState)(!1),[p,u]=(0,t.useState)(null),[j,g]=(0,t.useState)("all"),[y,v]=(0,t.useState)({name:"",location:"",propertyType:"all",minPrice:"",maxPrice:"",minBedrooms:"",maxBedrooms:"",minBathrooms:"",maxBathrooms:"",minArea:"",maxArea:"",features:[],frequency:"daily",isActive:!0});(0,t.useEffect)(()=>{const e=[{id:1,name:"Lagos Luxury Homes",location:"Victoria Island, Lagos",propertyType:"apartment",minPrice:1e8,maxPrice:3e8,minBedrooms:3,maxBedrooms:5,minBathrooms:2,maxBathrooms:4,minArea:200,maxArea:500,features:["pool","gym","security"],frequency:"daily",isActive:!0,matches:12,lastChecked:"2024-01-15T10:30:00Z",created:"2024-01-01T00:00:00Z"},{id:2,name:"Abuja Investment Properties",location:"Asokoro, Abuja",propertyType:"house",minPrice:2e8,maxPrice:5e8,minBedrooms:4,maxBedrooms:6,minBathrooms:3,maxBathrooms:5,minArea:300,maxArea:800,features:["garden","parking","security"],frequency:"weekly",isActive:!0,matches:8,lastChecked:"2024-01-14T15:20:00Z",created:"2024-01-05T00:00:00Z"},{id:3,name:"Lekki Budget Apartments",location:"Lekki Phase 1, Lagos",propertyType:"apartment",minPrice:5e7,maxPrice:15e7,minBedrooms:2,maxBedrooms:3,minBathrooms:2,maxBathrooms:3,minArea:150,maxArea:300,features:["security"],frequency:"daily",isActive:!1,matches:5,lastChecked:"2024-01-10T09:15:00Z",created:"2024-01-08T00:00:00Z"},{id:4,name:"Ikoyi Premium Properties",location:"Ikoyi, Lagos",propertyType:"all",minPrice:15e7,maxPrice:4e8,minBedrooms:3,maxBedrooms:6,minBathrooms:3,maxBathrooms:5,minArea:250,maxArea:600,features:["pool","gym","security","parking"],frequency:"immediate",isActive:!0,matches:15,lastChecked:"2024-01-15T08:45:00Z",created:"2024-01-12T00:00:00Z"}];setTimeout(()=>{m(e),d(!1)},1e3)},[]);const b=()=>{v({name:"",location:"",propertyType:"all",minPrice:"",maxPrice:"",minBedrooms:"",maxBedrooms:"",minBathrooms:"",maxBathrooms:"",minArea:"",maxArea:"",features:[],frequency:"daily",isActive:!0})},N=e=>{const{name:s,value:a,type:t,checked:r}=e.target;v(e=>({...e,[s]:"checkbox"===t?r:a}))},f=e=>{switch(e){case"apartment":return"Apartment";case"house":return"House";case"duplex":return"Duplex";case"penthouse":return"Penthouse";case"all":return"All Types";default:return e}},A=e=>{switch(e){case"immediate":return"Immediate";case"daily":return"Daily";case"weekly":return"Weekly";case"monthly":return"Monthly";default:return e}},B=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=a.filter(e=>"all"===j||("active"===j?e.isActive:"inactive"!==j||!e.isActive));return o?(0,c.jsx)("div",{className:"p-6",children:(0,c.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue"})})}):(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsx)("div",{className:"mb-8",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Property Alerts"}),(0,c.jsx)("p",{className:"text-gray-600",children:"Set up alerts to get notified when properties matching your criteria become available"})]}),(0,c.jsxs)("button",{onClick:()=>h(!0),className:"btn-primary flex items-center space-x-2",children:[(0,c.jsx)(i.OiG,{}),(0,c.jsx)("span",{children:"Create Alert"})]})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,c.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,c.jsx)(i.jNV,{className:"text-brand-blue text-xl"})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Alerts"}),(0,c.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]})]})}),(0,c.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,c.jsx)(i.RIx,{className:"text-green-600 text-xl"})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Alerts"}),(0,c.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(e=>e.isActive).length})]})]})}),(0,c.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,c.jsx)(i.jNV,{className:"text-brand-orange text-xl"})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Matches"}),(0,c.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.reduce((e,s)=>e+s.matches,0)})]})]})}),(0,c.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"p-3 bg-gray-100 rounded-lg",children:(0,c.jsx)(i.jZj,{className:"text-gray-600 text-xl"})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Inactive Alerts"}),(0,c.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(e=>!e.isActive).length})]})]})})]}),x&&(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:p?"Edit Alert":"Create New Alert"}),(0,c.jsx)("button",{onClick:()=>{h(!1),u(null),b()},className:"text-gray-400 hover:text-gray-600",children:(0,c.jsx)(i.QCr,{className:"text-xl"})})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Alert Name"}),(0,c.jsx)("input",{type:"text",name:"name",value:y.name,onChange:N,className:"form-input",placeholder:"e.g., Lagos Luxury Homes"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Location"}),(0,c.jsx)("input",{type:"text",name:"location",value:y.location,onChange:N,className:"form-input",placeholder:"e.g., Victoria Island, Lagos"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Property Type"}),(0,c.jsxs)("select",{name:"propertyType",value:y.propertyType,onChange:N,className:"form-input",children:[(0,c.jsx)("option",{value:"all",children:"All Types"}),(0,c.jsx)("option",{value:"apartment",children:"Apartment"}),(0,c.jsx)("option",{value:"house",children:"House"}),(0,c.jsx)("option",{value:"duplex",children:"Duplex"}),(0,c.jsx)("option",{value:"penthouse",children:"Penthouse"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Frequency"}),(0,c.jsxs)("select",{name:"frequency",value:y.frequency,onChange:N,className:"form-input",children:[(0,c.jsx)("option",{value:"immediate",children:"Immediate"}),(0,c.jsx)("option",{value:"daily",children:"Daily"}),(0,c.jsx)("option",{value:"weekly",children:"Weekly"}),(0,c.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Min Price (\u20a6)"}),(0,c.jsx)("input",{type:"number",name:"minPrice",value:y.minPrice,onChange:N,className:"form-input",placeholder:"50000000"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Max Price (\u20a6)"}),(0,c.jsx)("input",{type:"number",name:"maxPrice",value:y.maxPrice,onChange:N,className:"form-input",placeholder:"300000000"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Min Bedrooms"}),(0,c.jsx)("input",{type:"number",name:"minBedrooms",value:y.minBedrooms,onChange:N,className:"form-input",placeholder:"2"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Max Bedrooms"}),(0,c.jsx)("input",{type:"number",name:"maxBedrooms",value:y.maxBedrooms,onChange:N,className:"form-input",placeholder:"5"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Min Bathrooms"}),(0,c.jsx)("input",{type:"number",name:"minBathrooms",value:y.minBathrooms,onChange:N,className:"form-input",placeholder:"2"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Max Bathrooms"}),(0,c.jsx)("input",{type:"number",name:"maxBathrooms",value:y.maxBathrooms,onChange:N,className:"form-input",placeholder:"4"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Min Area (m\xb2)"}),(0,c.jsx)("input",{type:"number",name:"minArea",value:y.minArea,onChange:N,className:"form-input",placeholder:"150"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"form-label",children:"Max Area (m\xb2)"}),(0,c.jsx)("input",{type:"number",name:"maxArea",value:y.maxArea,onChange:N,className:"form-input",placeholder:"500"})]})]}),(0,c.jsxs)("div",{className:"mt-6",children:[(0,c.jsx)("label",{className:"form-label",children:"Features"}),(0,c.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-2",children:["pool","gym","security","parking","garden","balcony","elevator","generator"].map(e=>(0,c.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,c.jsx)("input",{type:"checkbox",checked:y.features.includes(e),onChange:()=>(e=>{v(s=>({...s,features:s.features.includes(e)?s.features.filter(s=>s!==e):[...s.features,e]}))})(e),className:"rounded border-gray-300 text-brand-blue focus:ring-brand-blue"}),(0,c.jsx)("span",{className:"text-sm text-gray-700 capitalize",children:e})]},e))})]}),(0,c.jsx)("div",{className:"mt-6 flex items-center space-x-4",children:(0,c.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,c.jsx)("input",{type:"checkbox",name:"isActive",checked:y.isActive,onChange:N,className:"rounded border-gray-300 text-brand-blue focus:ring-brand-blue"}),(0,c.jsx)("span",{className:"text-sm text-gray-700",children:"Active Alert"})]})}),(0,c.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,c.jsx)("button",{onClick:p?()=>{m(e=>e.map(e=>e.id===p.id?{...e,...y}:e)),h(!1),u(null),b()}:()=>{const e={id:Date.now(),...y,matches:0,lastChecked:(new Date).toISOString(),created:(new Date).toISOString()};m(s=>[e,...s]),h(!1),b()},className:"btn-primary",children:p?"Update Alert":"Create Alert"}),(0,c.jsx)("button",{onClick:()=>{h(!1),u(null),b()},className:"btn-outline",children:"Cancel"})]})]}),(0,c.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,c.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,c.jsxs)("select",{value:j,onChange:e=>g(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-blue focus:border-transparent",children:[(0,c.jsx)("option",{value:"all",children:"All Alerts"}),(0,c.jsx)("option",{value:"active",children:"Active Alerts"}),(0,c.jsx)("option",{value:"inactive",children:"Inactive Alerts"})]}),(0,c.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",w.length," of ",a.length," alerts"]})]})}),0===w.length?(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,c.jsx)(i.jNV,{className:"text-gray-300 text-6xl mx-auto mb-4"}),(0,c.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Alerts Found"}),(0,c.jsx)("p",{className:"text-gray-600 mb-6",children:"all"===j?"You haven't created any property alerts yet. Create your first alert to get notified about new properties!":`No ${j} alerts found.`}),(0,c.jsxs)("button",{onClick:()=>h(!0),className:"btn-primary inline-flex items-center",children:[(0,c.jsx)(i.OiG,{className:"mr-2"}),"Create Your First Alert"]})]}):(0,c.jsx)("div",{className:"space-y-6",children:w.map(a=>(0,c.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.name}),(0,c.jsxs)("button",{onClick:()=>{return e=a.id,void m(s=>s.map(s=>s.id===e?{...s,isActive:!s.isActive}:s));var e},className:"flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium "+(a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:[a.isActive?(0,c.jsx)(i.RIx,{}):(0,c.jsx)(i.jZj,{}),(0,c.jsx)("span",{children:a.isActive?"Active":"Inactive"})]})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,c.jsx)(i.vq8,{}),(0,c.jsx)("span",{children:a.location})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,c.jsx)(i.jNV,{}),(0,c.jsx)("span",{children:A(a.frequency)})]}),(0,c.jsx)("div",{className:"flex items-center space-x-1",children:(0,c.jsx)("span",{children:f(a.propertyType)})})]})]}),(0,c.jsxs)("div",{className:"flex space-x-2",children:[(0,c.jsxs)("button",{onClick:()=>(e=>{u(e),v(e),h(!0)})(a),className:"btn-outline py-2 px-4",children:[(0,c.jsx)(i.uO9,{className:"inline mr-1"}),"Edit"]}),(0,c.jsxs)("button",{onClick:()=>{return e=a.id,void m(s=>s.filter(s=>s.id!==e));var e},className:"btn-outline py-2 px-4 text-red-600 border-red-300 hover:bg-red-50",children:[(0,c.jsx)(i.qbC,{className:"inline mr-1"}),"Delete"]})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Price Range"}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:["\u20a6",a.minPrice.toLocaleString()," - \u20a6",a.maxPrice.toLocaleString()]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Bedrooms & Bathrooms"}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:[a.minBedrooms,"-",a.maxBedrooms," bedrooms, ",a.minBathrooms,"-",a.maxBathrooms," bathrooms"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Area Range"}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:[a.minArea,"m\xb2 - ",a.maxArea,"m\xb2"]})]})]}),a.features.length>0&&(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Required Features"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:a.features.map(e=>(0,c.jsx)("span",{className:"tag tag-new",children:e},e))})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,c.jsx)("span",{className:"font-medium text-brand-orange",children:a.matches}),(0,c.jsx)("span",{children:"matches found"})]}),(0,c.jsxs)("div",{children:["Last checked: ",B(a.lastChecked)]}),(0,c.jsxs)("div",{children:["Created: ",B(a.created)]})]}),a.matches>0&&(0,c.jsxs)("button",{onClick:()=>(a=>{if(console.log("View Matches clicked for alert:",a.name),!e)return n.Ay.error("Please login to view property matches"),void s("/");const t=new URLSearchParams;a.location&&t.set("location",a.location),a.propertyType&&"all"!==a.propertyType&&t.set("type",a.propertyType),a.minPrice&&t.set("minPrice",a.minPrice.toString()),a.maxPrice&&t.set("maxPrice",a.maxPrice.toString()),a.minBedrooms&&t.set("minBedrooms",a.minBedrooms.toString()),a.maxBedrooms&&t.set("maxBedrooms",a.maxBedrooms.toString()),a.minBathrooms&&t.set("minBathrooms",a.minBathrooms.toString()),a.maxBathrooms&&t.set("maxBathrooms",a.maxBathrooms.toString()),a.minArea&&t.set("minArea",a.minArea.toString()),a.maxArea&&t.set("maxArea",a.maxArea.toString()),a.features&&a.features.length>0&&t.set("features",a.features.join(",")),t.set("fromAlert",a.id.toString()),t.set("alertName",a.name);const r=`/properties?${t.toString()}`;console.log("Navigating to properties with search params:",r),n.Ay.success(`Showing properties matching "${a.name}" criteria`),s(r)})(a),className:"btn-primary py-2 px-4",title:`View ${a.matches} properties matching this alert criteria`,children:[(0,c.jsx)(i.Ny1,{className:"inline mr-1"}),"View Matches"]})]})]})},a.id))})]})}}}]);
//# sourceMappingURL=945.46f6648f.chunk.js.map