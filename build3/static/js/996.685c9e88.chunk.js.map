{"version":3,"file":"static/js/996.685c9e88.chunk.js","mappings":"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","sources":["services/storageService.js","pages/VendorProfile.js"],"sourcesContent":["class StorageService {\r\n  async uploadFile(file, path, metadata = {}) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('uploadType', 'generic');\r\n      formData.append('metadata', JSON.stringify({ path, ...metadata }));\r\n\r\n      const response = await fetch('/api/upload', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok || !result?.success) {\r\n        throw new Error(result?.message || 'Upload failed');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        url: result.data?.url,\r\n        path: result.data?.publicId || path,\r\n        name: result.data?.originalName || file.name,\r\n        size: result.data?.size || file.size,\r\n        type: result.data?.format || file.type\r\n      };\r\n    } catch (error) {\r\n      console.error('Error uploading file:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Upload failed'\r\n      };\r\n    }\r\n  }\r\n\r\n  async uploadMultipleFiles(files, basePath, metadata = {}) {\r\n    try {\r\n      const formData = new FormData();\r\n      files.forEach((file) => formData.append('files', file));\r\n      formData.append('uploadType', 'multiple');\r\n      formData.append('metadata', JSON.stringify({ basePath, ...metadata }));\r\n\r\n      const response = await fetch('/api/upload/multiple', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok || !result?.success) {\r\n        throw new Error(result?.message || 'Upload failed');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        successful: result.data?.successful || [],\r\n        failed: result.data?.failed || [],\r\n        total: result.data?.total || files.length\r\n      };\r\n    } catch (error) {\r\n      console.error('Error uploading multiple files:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Upload failed'\r\n      };\r\n    }\r\n  }\r\n\r\n  async moveFile(oldPath, newPath) {\r\n    return {\r\n      success: true,\r\n      url: null,\r\n      path: newPath || oldPath,\r\n      name: (newPath || oldPath || '').split('/').pop()\r\n    };\r\n  }\r\n\r\n  async uploadPropertyImages(files, propertyId, userId) {\r\n    try {\r\n      const formData = new FormData();\r\n      files.forEach((file) => {\r\n        formData.append('files', file);\r\n      });\r\n      formData.append('uploadType', 'property_images');\r\n      formData.append('metadata', JSON.stringify({\r\n        propertyId,\r\n        userId\r\n      }));\r\n\r\n      const response = await fetch('/api/upload/multiple', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok || !result?.success) {\r\n        throw new Error(result?.message || 'Upload failed');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        successful: result.data?.successful || [],\r\n        failed: result.data?.failed || [],\r\n        total: result.data?.total || files.length\r\n      };\r\n    } catch (error) {\r\n      console.error('Error uploading property images:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Upload failed'\r\n      };\r\n    }\r\n  }\r\n\r\n  async uploadUserAvatar(file, userId) {\r\n    if (!userId) {\r\n      return { success: false, error: 'User ID is required' };\r\n    }\r\n\r\n    const timestamp = Date.now();\r\n    const fileExtension = file.name.split('.').pop();\r\n    const fileName = `avatar_${userId}_${timestamp}.${fileExtension}`;\r\n    const path = `users/${userId}/avatar/${fileName}`;\r\n\r\n    const validation = this.validateFile(file, ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'], 5 * 1024 * 1024);\r\n    if (!validation.valid) {\r\n      return {\r\n        success: false,\r\n        error: validation.errors.join(', ')\r\n      };\r\n    }\r\n\r\n    const result = await this.uploadFile(file, path, { userId });\r\n    if (result.success) {\r\n      const avatarInfo = {\r\n        userId,\r\n        avatarUrl: result.url,\r\n        uploadDate: new Date().toISOString(),\r\n        fileName: result.name\r\n      };\r\n      localStorage.setItem(`user_avatar_${userId}`, JSON.stringify(avatarInfo));\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  getFallbackAvatar(userId) {\r\n    const mockAvatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(userId)}&background=random&size=200`;\r\n\r\n    const avatarInfo = {\r\n      userId,\r\n      avatarUrl: mockAvatarUrl,\r\n      uploadDate: new Date().toISOString(),\r\n      fileName: 'fallback_avatar',\r\n      isFallback: true\r\n    };\r\n\r\n    localStorage.setItem(`user_avatar_${userId}`, JSON.stringify(avatarInfo));\r\n\r\n    return {\r\n      success: true,\r\n      url: mockAvatarUrl,\r\n      path: `users/${userId}/avatar/fallback_${Date.now()}`,\r\n      name: 'fallback_avatar',\r\n      size: 0,\r\n      type: 'image/png',\r\n      isFallback: true\r\n    };\r\n  }\r\n\r\n  async uploadEscrowDocument(file, escrowId, documentType, userId) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('uploadType', 'escrow_document');\r\n      formData.append('metadata', JSON.stringify({\r\n        escrowId,\r\n        documentType,\r\n        userId\r\n      }));\r\n\r\n      const response = await fetch('/api/upload', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok || !result?.success) {\r\n        throw new Error(result?.message || 'Upload failed');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        url: result.data?.url,\r\n        path: result.data?.publicId,\r\n        name: result.data?.originalName,\r\n        size: result.data?.size,\r\n        type: result.data?.format\r\n      };\r\n    } catch (error) {\r\n      console.error('Error uploading escrow document:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Upload failed'\r\n      };\r\n    }\r\n  }\r\n\r\n  async deleteFile() {\r\n    return { success: false, error: 'Delete is not supported in this build.' };\r\n  }\r\n\r\n  async getFileMetadata() {\r\n    return { success: false, error: 'Metadata lookup is not supported in this build.' };\r\n  }\r\n\r\n  async listFiles() {\r\n    return { success: false, error: 'Listing files is not supported in this build.' };\r\n  }\r\n\r\n  async getPropertyImages() {\r\n    return { success: false, error: 'Listing images is not supported in this build.' };\r\n  }\r\n\r\n  async getEscrowDocuments() {\r\n    return { success: false, error: 'Listing documents is not supported in this build.' };\r\n  }\r\n\r\n  validateFile(file, allowedTypes = [], maxSize = 5 * 1024 * 1024) {\r\n    const errors = [];\r\n\r\n    if (allowedTypes.length > 0 && !allowedTypes.includes(file.type)) {\r\n      errors.push(`File type ${file.type} is not allowed. Allowed types: ${allowedTypes.join(', ')}`);\r\n    }\r\n\r\n    if (file.size > maxSize) {\r\n      errors.push(`File size ${(file.size / 1024 / 1024).toFixed(2)}MB exceeds maximum allowed size of ${(maxSize / 1024 / 1024).toFixed(2)}MB`);\r\n    }\r\n\r\n    return {\r\n      valid: errors.length === 0,\r\n      errors\r\n    };\r\n  }\r\n\r\n  formatFileSize(bytes) {\r\n    if (bytes === 0) return '0 Bytes';\r\n\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  }\r\n}\r\n\r\nconst storageService = new StorageService();\r\nexport default storageService;\r\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaUser, FaCamera, FaTimes, FaUpload } from 'react-icons/fa';\nimport toast from 'react-hot-toast';\nimport storageService from '../services/storageService';\n\nconst VendorProfile = () => {\n  const { user, updateUserProfile } = useAuth();\n  const [formData, setFormData] = useState({\n    firstName: user?.firstName || '',\n    lastName: user?.lastName || '',\n    email: user?.email || user?.user?.email || '',\n    phone: user?.phone || '',\n    bio: user?.bio || '',\n    avatar: user?.avatar || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [uploadingAvatar, setUploadingAvatar] = useState(false);\n  const [avatarPreview, setAvatarPreview] = useState(user?.avatar || null);\n  const [success, setSuccess] = useState(false);\n  const fileInputRef = useRef(null);\n\n  // Sync form data and avatar preview when user changes\n  useEffect(() => {\n    if (user) {\n      let savedAvatar = null;\n      try {\n        const currentUserData = JSON.parse(localStorage.getItem('currentUser') || '{}');\n        if (currentUserData.avatar && currentUserData.avatar.startsWith('data:')) {\n          savedAvatar = currentUserData.avatar;\n        }\n      } catch (e) {\n        console.error('Error reading localStorage:', e);\n      }\n      \n      const avatarToUse = savedAvatar || user?.avatar || '';\n      const shouldUpdateAvatar = !avatarPreview || (avatarToUse && avatarToUse !== avatarPreview);\n      \n      setFormData({\n        firstName: user?.firstName || '',\n        lastName: user?.lastName || '',\n        email: user?.email || user?.user?.email || '',\n        phone: user?.phone || '',\n        bio: user?.bio || '',\n        avatar: avatarToUse\n      });\n      \n      if (shouldUpdateAvatar) {\n        setAvatarPreview(avatarToUse || null);\n      }\n    }\n  }, [user]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.firstName) newErrors.firstName = 'First name is required';\n    if (!formData.lastName) newErrors.lastName = 'Last name is required';\n    return newErrors;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newErrors = validateForm();\n    \n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n\n    setLoading(true);\n    try {\n      // Use avatarPreview if available (from recent upload), otherwise use formData.avatar\n      const avatarToSave = avatarPreview || formData.avatar || user?.avatar || '';\n      \n      const updatedUserData = {\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        phone: formData.phone,\n        bio: formData.bio,\n        avatar: avatarToSave\n      };\n\n      // Update local context and localStorage\n      if (updateUserProfile) {\n        await updateUserProfile(updatedUserData);\n      }\n      \n      // Also update localStorage directly to ensure persistence\n      try {\n        const currentUserData = JSON.parse(localStorage.getItem('currentUser') || '{}');\n        const updatedUser = { ...currentUserData, ...updatedUserData };\n        localStorage.setItem('currentUser', JSON.stringify(updatedUser));\n        console.log('Profile saved to localStorage');\n      } catch (e) {\n        console.error('Error updating localStorage:', e);\n      }\n      \n      // Update formData and preview to ensure consistency\n      setFormData(prev => ({ ...prev, avatar: avatarToSave }));\n      if (avatarToSave) {\n        setAvatarPreview(avatarToSave);\n      }\n      \n      setSuccess(true);\n      toast.success('Profile updated successfully!');\n      setTimeout(() => setSuccess(false), 3000);\n    } catch (error) {\n      console.error('Profile update error:', error);\n      toast.error('Failed to update profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAvatarClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleFileChange = async (e) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Validate file\n    const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'];\n    const maxSize = 5 * 1024 * 1024; // 5MB\n\n    if (!validTypes.includes(file.type)) {\n      toast.error('Please select a valid image file (JPEG, PNG, WEBP, or GIF)');\n      return;\n    }\n\n    if (file.size > maxSize) {\n      toast.error('Image size must be less than 5MB');\n      return;\n    }\n\n    // Create preview immediately for better UX and get local data URL\n    const localDataUrl = await new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        setAvatarPreview(event.target.result);\n        resolve(event.target.result);\n      };\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n\n    setUploadingAvatar(true);\n\n    try {\n      const userId = user?.id || user?.uid;\n\n      if (!userId) {\n        throw new Error('User not authenticated');\n      }\n\n      // Upload to backend API\n      const uploadResult = await storageService.uploadUserAvatar(file, userId);\n\n      let avatarUrl;\n      \n      if (!uploadResult.success) {\n        // If backend upload fails, use local data URL as fallback\n        console.error('Backend upload failed:', uploadResult.error);\n        console.log('Using local data URL as fallback');\n        avatarUrl = localDataUrl;\n        \n        // Update local state with local URL\n        try {\n          const currentUserData = JSON.parse(localStorage.getItem('currentUser') || '{}');\n          const updatedUser = { ...currentUserData, avatar: avatarUrl };\n          localStorage.setItem('currentUser', JSON.stringify(updatedUser));\n          console.log('Saved avatar to localStorage:', avatarUrl.substring(0, 50) + '...');\n        } catch (localError) {\n          console.error('Error saving to localStorage:', localError);\n        }\n        \n        // Try to update via updateUserProfile\n        try {\n          await updateUserProfile({ avatar: avatarUrl });\n        } catch (profileError) {\n          console.warn('updateUserProfile failed:', profileError);\n          // Continue anyway - we've saved to localStorage\n        }\n        \n        setFormData(prev => ({ ...prev, avatar: avatarUrl }));\n        setAvatarPreview(avatarUrl);\n        toast.error('Profile picture saved locally. Server upload failed.');\n        return; // Exit early since we're using local fallback\n      }\n\n      avatarUrl = uploadResult.url;\n      console.log('Backend upload successful:', avatarUrl);\n\n      // Update local state\n      await updateUserProfile({ avatar: avatarUrl });\n      setFormData(prev => ({ ...prev, avatar: avatarUrl }));\n      setAvatarPreview(avatarUrl);\n      \n      // Also update localStorage to ensure persistence\n      try {\n        const currentUserData = JSON.parse(localStorage.getItem('currentUser') || '{}');\n        const updatedUser = { ...currentUserData, avatar: avatarUrl };\n        localStorage.setItem('currentUser', JSON.stringify(updatedUser));\n      } catch (localError) {\n        console.error('Error saving to localStorage:', localError);\n      }\n      \n      toast.success('Profile picture uploaded successfully!');\n    } catch (error) {\n      console.error('Avatar upload error:', error);\n      \n      let errorMessage = 'Failed to upload profile picture';\n      \n      if (error.message?.includes('permission')) {\n        errorMessage = 'Upload permission denied. Please try again.';\n      } else if (error.message) {\n        errorMessage = error.message;\n      }\n      \n      toast.error(errorMessage);\n      \n      // Revert preview on error\n      setAvatarPreview(user?.avatar || null);\n    } finally {\n      setUploadingAvatar(false);\n      // Reset file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleRemoveAvatar = async () => {\n    try {\n      setAvatarPreview(null);\n      setFormData(prev => ({ ...prev, avatar: '' }));\n      \n      // Clear from localStorage\n      try {\n        const currentUserData = JSON.parse(localStorage.getItem('currentUser') || '{}');\n        delete currentUserData.avatar;\n        localStorage.setItem('currentUser', JSON.stringify(currentUserData));\n      } catch (e) {\n        console.error('Error removing avatar from localStorage:', e);\n      }\n      \n      // Update user profile\n      await updateUserProfile({ avatar: '' });\n      \n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      toast.success('Profile picture removed');\n    } catch (error) {\n      console.error('Error removing avatar:', error);\n      toast.error('Failed to remove profile picture');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n      {/* Header */}\n      <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Profile Settings</h1>\n          <p className=\"mt-1 text-gray-600\">Manage your account information</p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Form */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Personal Information</h2>\n              \n              {/* Profile Picture */}\n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">Profile Picture</label>\n                <div className=\"flex items-center space-x-6\">\n                  <div className=\"relative\">\n                    {avatarPreview ? (\n                      <img\n                        src={avatarPreview}\n                        alt=\"Profile\"\n                        className=\"h-24 w-24 rounded-full object-cover border-4 border-gray-200\"\n                      />\n                    ) : (\n                      <div className=\"h-24 w-24 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-300\">\n                        <FaUser className=\"h-10 w-10 text-gray-400\" />\n          </div>\n                    )}\n                <button\n                      type=\"button\"\n                      onClick={handleAvatarClick}\n                      disabled={uploadingAvatar}\n                      className=\"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-colors disabled:opacity-50\"\n                    >\n                      <FaCamera className=\"h-3 w-3\" />\n                </button>\n                  </div>\n                  <div className=\"flex flex-col space-y-2\">\n                <button\n                      type=\"button\"\n                      onClick={handleAvatarClick}\n                      disabled={uploadingAvatar}\n                      className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50\"\n                    >\n                      <FaUpload className=\"mr-2 h-4 w-4\" />\n                      {uploadingAvatar ? 'Uploading...' : 'Change Picture'}\n                </button>\n                    {avatarPreview && (\n              <button\n                        type=\"button\"\n                        onClick={handleRemoveAvatar}\n                        className=\"flex items-center px-4 py-2 bg-red-100 text-red-600 rounded-md hover:bg-red-200 transition-colors\"\n              >\n                        <FaTimes className=\"mr-2 h-4 w-4\" />\n                        Remove Picture\n              </button>\n            )}\n                    <p className=\"text-xs text-gray-500\">JPG, PNG, WEBP or GIF. Max size 5MB</p>\n          </div>\n                  <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    accept=\"image/jpeg,image/png,image/gif,image/webp\"\n                    onChange={handleFileChange}\n                    className=\"hidden\"\n                  />\n        </div>\n      </div>\n\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">First Name</label>\n                    <input\n                      type=\"text\"\n                      name=\"firstName\"\n                      value={formData.firstName}\n                      onChange={handleChange}\n                      className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                        errors.firstName ? 'border-red-300' : 'border-gray-300'\n                      }`}\n                    />\n                    {errors.firstName && <p className=\"mt-1 text-sm text-red-600\">{errors.firstName}</p>}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Last Name</label>\n                    <input\n                      type=\"text\"\n                      name=\"lastName\"\n                      value={formData.lastName}\n                      onChange={handleChange}\n                      className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                        errors.lastName ? 'border-red-300' : 'border-gray-300'\n                      }`}\n                    />\n                    {errors.lastName && <p className=\"mt-1 text-sm text-red-600\">{errors.lastName}</p>}\n                </div>\n              </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Email <span className=\"text-gray-400 text-xs\">(Cannot be changed)</span>\n                  </label>\n                  <input\n                      type=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    readOnly\n                    disabled\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 cursor-not-allowed\"\n                    />\n                  <p className=\"mt-1 text-xs text-gray-500\">Your email is locked to your login credentials</p>\n              </div>\n\n              <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone Number</label>\n                  <input\n                    type=\"tel\"\n                    name=\"phone\"\n                    value={formData.phone}\n                    onChange={handleChange}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"(555) 123-4567\"\n                  />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bio</label>\n                  <textarea\n                    name=\"bio\"\n                    value={formData.bio}\n                    onChange={handleChange}\n                    rows={4}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Tell us about yourself...\"\n                  />\n            </div>\n\n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\n                  >\n                    {loading ? 'Saving...' : 'Save Changes'}\n                  </button>\n                </div>\n              </form>\n                </div>\n              </div>\n\n          {/* Sidebar */}\n          <div className=\"lg:col-span-1\">\n            {/* Account Info */}\n            <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Account Information</h3>\n              <div className=\"space-y-3\">\n                <div>\n                  <span className=\"text-sm text-gray-500\">Member Since</span>\n                  <p className=\"font-medium\">{user?.createdAt ? new Date(user.createdAt).toLocaleDateString() : 'N/A'}</p>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-500\">Account Status</span>\n                  <p className=\"font-medium text-green-600\">Active</p>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-500\">User ID</span>\n                  <div className=\"flex items-center gap-2\">\n                    <p className=\"font-mono font-bold text-blue-600 text-lg tracking-wider\">{user?.userCode || 'PAK-XXXXXX'}</p>\n                    <button\n                      onClick={async (e) => {\n                        const button = e.currentTarget;\n                        const originalText = button.textContent;\n                        try {\n                          const textToCopy = user?.userCode || '';\n                          if (!textToCopy) {\n                            toast.error('User ID not available');\n                            return;\n                          }\n                          \n                          await navigator.clipboard.writeText(textToCopy);\n                          button.textContent = 'Copied!';\n                          button.classList.add('bg-green-100', 'text-green-700');\n                          button.classList.remove('bg-blue-100', 'text-blue-700');\n                          \n                          toast.success(`User ID \"${textToCopy}\" copied!`, {\n                            icon: '✅',\n                            duration: 3000,\n                            style: {\n                              background: '#10b981',\n                              color: '#fff',\n                            },\n                          });\n                          \n                          setTimeout(() => {\n                            button.textContent = originalText;\n                            button.classList.remove('bg-green-100', 'text-green-700');\n                            button.classList.add('bg-blue-100', 'text-blue-700');\n                          }, 2000);\n                        } catch (err) {\n                          // Fallback for older browsers\n                          const textToCopy = user?.userCode || '';\n                          if (!textToCopy) {\n                            toast.error('User ID not available');\n                            return;\n                          }\n                          \n                          const textArea = document.createElement('textarea');\n                          textArea.value = textToCopy;\n                          textArea.style.position = 'fixed';\n                          textArea.style.opacity = '0';\n                          document.body.appendChild(textArea);\n                          textArea.select();\n                          document.execCommand('copy');\n                          document.body.removeChild(textArea);\n                          \n                          button.textContent = 'Copied!';\n                          button.classList.add('bg-green-100', 'text-green-700');\n                          button.classList.remove('bg-blue-100', 'text-blue-700');\n                          \n                          toast.success(`User ID \"${textToCopy}\" copied!`, {\n                            icon: '✅',\n                            duration: 3000,\n                            style: {\n                              background: '#10b981',\n                              color: '#fff',\n                            },\n                          });\n                          \n                          setTimeout(() => {\n                            button.textContent = originalText;\n                            button.classList.remove('bg-green-100', 'text-green-700');\n                            button.classList.add('bg-blue-100', 'text-blue-700');\n                          }, 2000);\n                        }\n                      }}\n                      className=\"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 px-2 py-1 rounded transition-colors\"\n                    >\n                      Copy\n                    </button>\n                </div>\n              </div>\n                {/* Vendor ID - only shown if user is a vendor */}\n                {user?.vendorCode && (\n                  <div>\n                    <span className=\"text-sm text-gray-500\">Vendor ID</span>\n                    <div className=\"flex items-center gap-2\">\n                      <p className=\"font-mono font-bold text-green-600 text-lg tracking-wider\">{user.vendorCode}</p>\n                      <button\n                        onClick={async (e) => {\n                          const button = e.currentTarget;\n                          const originalText = button.textContent;\n                          try {\n                            const textToCopy = user?.vendorCode || '';\n                            if (!textToCopy) {\n                              toast.error('Vendor ID not available');\n                              return;\n                            }\n                            \n                            await navigator.clipboard.writeText(textToCopy);\n                            button.textContent = 'Copied!';\n                            button.classList.add('bg-blue-100', 'text-blue-700');\n                            button.classList.remove('bg-green-100', 'text-green-700');\n                            \n                            toast.success(`Vendor ID \"${textToCopy}\" copied!`, {\n                              icon: '✅',\n                              duration: 3000,\n                              style: {\n                                background: '#10b981',\n                                color: '#fff',\n                              },\n                            });\n                            \n                            setTimeout(() => {\n                              button.textContent = originalText;\n                              button.classList.remove('bg-blue-100', 'text-blue-700');\n                              button.classList.add('bg-green-100', 'text-green-700');\n                            }, 2000);\n                          } catch (err) {\n                            // Fallback for older browsers\n                            const textToCopy = user?.vendorCode || '';\n                            if (!textToCopy) {\n                              toast.error('Vendor ID not available');\n                              return;\n                            }\n                            \n                            const textArea = document.createElement('textarea');\n                            textArea.value = textToCopy;\n                            textArea.style.position = 'fixed';\n                            textArea.style.opacity = '0';\n                            document.body.appendChild(textArea);\n                            textArea.select();\n                            document.execCommand('copy');\n                            document.body.removeChild(textArea);\n                            \n                            button.textContent = 'Copied!';\n                            button.classList.add('bg-blue-100', 'text-blue-700');\n                            button.classList.remove('bg-green-100', 'text-green-700');\n                            \n                            toast.success(`Vendor ID \"${textToCopy}\" copied!`, {\n                              icon: '✅',\n                              duration: 3000,\n                              style: {\n                                background: '#10b981',\n                                color: '#fff',\n                              },\n                            });\n                            \n                            setTimeout(() => {\n                              button.textContent = originalText;\n                              button.classList.remove('bg-blue-100', 'text-blue-700');\n                              button.classList.add('bg-green-100', 'text-green-700');\n                            }, 2000);\n                          }\n                        }}\n                        className=\"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded transition-colors\"\n                      >\n                        Copy\n                      </button>\n                      </div>\n                    <p className=\"text-xs text-gray-500 mt-1\">Share this with buyers to find your properties</p>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Quick Actions */}\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h3>\n              <div className=\"space-y-3\">\n                <button className=\"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md\">\n                  Change Password\n                </button>\n                <button className=\"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md\">\n                  Notification Settings\n                </button>\n                <button className=\"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md\">\n                  Privacy Settings\n                </button>\n                <button className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md\">\n                  Delete Account\n                </button>\n              </div>\n              </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VendorProfile;\n"],"names":["uploadFile","file","path","metadata","arguments","length","undefined","_result$data","_result$data2","_result$data3","_result$data4","_result$data5","formData","FormData","append","JSON","stringify","response","fetch","method","headers","Authorization","localStorage","getItem","body","result","json","ok","success","Error","message","url","data","publicId","name","originalName","size","type","format","error","console","uploadMultipleFiles","files","basePath","_result$data6","_result$data7","_result$data8","forEach","successful","failed","total","moveFile","oldPath","newPath","split","pop","uploadPropertyImages","propertyId","userId","_result$data9","_result$data0","_result$data1","uploadUserAvatar","Date","now","validation","this","validateFile","valid","errors","join","avatarInfo","avatarUrl","uploadDate","toISOString","fileName","setItem","getFallbackAvatar","mockAvatarUrl","encodeURIComponent","isFallback","uploadEscrowDocument","escrowId","documentType","_result$data10","_result$data11","_result$data12","_result$data13","_result$data14","deleteFile","getFileMetadata","listFiles","getPropertyImages","getEscrowDocuments","allowedTypes","maxSize","includes","push","toFixed","formatFileSize","bytes","i","Math","floor","log","parseFloat","pow","VendorProfile","_user$user","user","updateUserProfile","useAuth","setFormData","useState","firstName","lastName","email","phone","bio","avatar","setErrors","loading","setLoading","uploadingAvatar","setUploadingAvatar","avatarPreview","setAvatarPreview","setSuccess","fileInputRef","useRef","useEffect","_user$user2","savedAvatar","currentUserData","parse","startsWith","e","avatarToUse","shouldUpdateAvatar","handleChange","value","target","prev","handleAvatarClick","_fileInputRef$current","current","click","_jsx","className","children","_jsxs","src","alt","FaUser","onClick","disabled","FaCamera","FaUpload","async","toast","FaTimes","ref","accept","onChange","_e$target$files","localDataUrl","Promise","resolve","reject","reader","FileReader","onload","event","onerror","readAsDataURL","id","uid","uploadResult","storageService","updatedUser","substring","localError","profileError","warn","_error$message","errorMessage","onSubmit","preventDefault","newErrors","validateForm","Object","keys","avatarToSave","updatedUserData","setTimeout","readOnly","placeholder","rows","createdAt","toLocaleDateString","userCode","button","currentTarget","originalText","textContent","textToCopy","navigator","clipboard","writeText","classList","add","remove","icon","duration","style","background","color","err","textArea","document","createElement","position","opacity","appendChild","select","execCommand","removeChild","vendorCode"],"sourceRoot":""}