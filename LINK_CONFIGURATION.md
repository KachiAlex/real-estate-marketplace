# Password Reset Link Configuration

This document explains how all links are configured for the Firebase Auth password reset flow.

## Link Flow Overview

```
Login Page → /forgot-password → Firebase Auth Email → /reset-password
```

## Current Link Configuration

### 1. Login Page Link ✅
**File:** `src/pages/Login.js`  
**Line:** 227

```javascript
<Link to="/forgot-password" className="...">
  Forgot your password?
</Link>
```

**Status:** ✅ Correct - Points to our custom forgot password page

### 2. Forgot Password Page ✅
**File:** `src/pages/ForgotPassword.js`  
**Action Code Settings:** Lines 38-41

```javascript
const actionCodeSettings = {
  url: `${getFrontendUrl()}/reset-password`,
  handleCodeInApp: false, // Open link in browser, not app
};
```

**Frontend URL Priority:**
1. `process.env.REACT_APP_FRONTEND_URL` (if set)
2. `window.location.origin` (current domain)
3. Fallback: `https://real-estate-marketplace-37544.web.app`

**Status:** ✅ Correct - Points to reset password page

### 3. Reset Password Route ✅
**File:** `src/App.js`  
**Line:** 96

```javascript
<Route path="/reset-password" element={<ResetPassword />} />
```

**Status:** ✅ Correct - Handles Firebase Auth reset flow

## Email Link Format

When Firebase sends the password reset email, the link will be:

```
https://real-estate-marketplace-37544.web.app/reset-password?mode=resetPassword&oobCode=ABC123xyz...&apiKey=...
```

This link is automatically generated by Firebase Auth based on:
- The `actionCodeSettings.url` we provide
- The authorized domains configured in Firebase Console
- The email template action URL (if customized)

## Required Configuration

### Firebase Console Email Template

**Location:** Firebase Console → Authentication → Templates → Password Reset

**Action URL should be:**
```
https://real-estate-marketplace-37544.web.app/reset-password
```

Or use a custom domain if you have one configured.

### Environment Variable (Optional)

You can set a custom frontend URL via environment variable:

```env
REACT_APP_FRONTEND_URL=https://your-custom-domain.com
```

If not set, it will use `window.location.origin` or the fallback URL.

## All Links Are Correctly Configured ✅

1. ✅ Login page links to `/forgot-password`
2. ✅ Forgot password page uses Firebase Auth
3. ✅ Action code settings point to `/reset-password`
4. ✅ Reset password page handles Firebase Auth flow
5. ✅ Routes are configured in App.js

No changes needed - everything is already configured correctly!

