npm : npm warn config optional Use `--omit=optional` to exclude optional dependencies, or
At line:1 char:1
+ npm run frontend:test -- --watchAll=false --passWithNoTests 2>&1 | Ou ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm warn config...ependencies, or:String) [], R 
   emoteException
    + FullyQualifiedErrorId : NativeCommandError
 
npm warn config `--include=optional` to include them.
npm warn config
npm warn config       Default value does install optional deps unless otherwise omitted.

> real-estate-marketplace@1.0.1 frontend:test
> react-scripts test --watchAll=false --passWithNoTests

PASS src/components/__tests__/Breadcrumbs.test.js (9.717 s)
FAIL src/hooks/__tests__/useAutoSave.test.js (9.823 s)
  ΓùÅ Console

    console.error
      Error: Uncaught [TypeError: destroy is not a function]
          at reportException (D:\real-estate-marketplace\node_modules\jsdom\lib\jsdom\living\
helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (D:\real-estate-marketplace\node_modules\jsdom\lib\jsd
om\living\events\EventTarget-impl.js:341:9)
          at invokeEventListeners (D:\real-estate-marketplace\node_modules\jsdom\lib\jsdom\li
ving\events\EventTarget-impl.js:274:3)
          at HTMLUnknownElementImpl._dispatch (D:\real-estate-marketplace\node_modules\jsdom\
lib\jsdom\living\events\EventTarget-impl.js:221:9)
          at HTMLUnknownElementImpl.dispatchEvent (D:\real-estate-marketplace\node_modules\js
dom\lib\jsdom\living\events\EventTarget-impl.js:94:17)
          at HTMLUnknownElement.dispatchEvent (D:\real-estate-marketplace\node_modules\jsdom\
lib\jsdom\living\generated\EventTarget.js:231:34)
          at Object.invokeGuardedCallbackDev 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at reportUncaughtErrorInDEV 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:22877:5)
          at captureCommitPhaseError 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27165:5)
          at safelyCallDestroy 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:22973:5)
          at commitHookEffectListUnmount 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:23139:11)
          at commitPassiveUnmountInsideDeletedTreeOnFiber 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:25140:11)
          at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:25087:5)
          at commitPassiveUnmountEffects_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24995:11)
          at commitPassiveUnmountEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24980:3)
          at flushPassiveEffectsImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27077:3)
          at flushPassiveEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at commitRootImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26974:5)
          at commitRoot 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26721:5)
          at performSyncWorkOnRoot 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26156:3)
          at flushSyncCallbacks 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:12042:22)
          at flushSync 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26240:7)
          at 
ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount [as 
unmount] 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:29375:5)
          at Object.unmount 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:126:12)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:262:12
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:64:24
          at act 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2512:16)
          at actWithWarning (D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom-
test-utils.development.js:1740:10)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:63:25
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:261:28
          at Array.forEach (<anonymous>)
          at cleanup 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:257:22)
          at Object.<anonymous> 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\index.js:35:25)
          at Promise.then.completed 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusHook 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:181:40)
          at _runTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:158:5)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\real-estate-marketplace\node_modules\jest
-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\real-estate-marketplace\node_modules\jest-circus\build\legacy-co
de-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\real-estate-marketplace\node_modules\jest-runner\build\testWorker.js:133:12) TypeError: 
destroy is not a function
          at safelyCallDestroy 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:22971:5)
          at commitHookEffectListUnmount 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:23139:11)
          at commitPassiveUnmountInsideDeletedTreeOnFiber 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:25140:11)
          at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:25087:5)
          at commitPassiveUnmountEffects_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24995:11)
          at commitPassiveUnmountEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24980:3)
          at flushPassiveEffectsImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27077:3)
          at flushPassiveEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at commitRootImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26974:5)
          at commitRoot 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26721:5)
          at performSyncWorkOnRoot 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26156:3)
          at flushSyncCallbacks 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:12042:22)
          at flushSync 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26240:7)
          at 
ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount [as 
unmount] 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:29375:5)
          at Object.unmount 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:126:12)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:262:12
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:64:24
          at act 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2512:16)
          at actWithWarning (D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom-
test-utils.development.js:1740:10)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:63:25
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:261:28
          at Array.forEach (<anonymous>)
          at cleanup 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:257:22)
          at Object.<anonymous> 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\index.js:35:25)
          at Promise.then.completed 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusHook 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:181:40)
          at _runTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:158:5)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\real-estate-marketplace\node_modules\jest
-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\real-estate-marketplace\node_modules\jest-circus\build\legacy-co
de-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\real-estate-marketplace\node_modules\jest-runner\build\testWorker.js:133:12)

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException 
(node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent 
(node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev 
(node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at reportUncaughtErrorInDEV 
(node_modules/react-dom/cjs/react-dom.development.js:22877:5)
      at captureCommitPhaseError 
(node_modules/react-dom/cjs/react-dom.development.js:27165:5)
      at safelyCallDestroy (node_modules/react-dom/cjs/react-dom.development.js:22973:5)
      at commitHookEffectListUnmount 
(node_modules/react-dom/cjs/react-dom.development.js:23139:11)
      at commitPassiveUnmountInsideDeletedTreeOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:25140:11)
      at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(node_modules/react-dom/cjs/react-dom.development.js:25087:5)
      at commitPassiveUnmountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24995:11)
      at commitPassiveUnmountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24980:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27077:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at flushSync (node_modules/react-dom/cjs/react-dom.development.js:26240:7)
      at ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount 
[as unmount] (node_modules/react-dom/cjs/react-dom.development.js:29375:5)
      at Object.unmount (node_modules/@testing-library/react/dist/pure.js:126:12)
      at node_modules/@testing-library/react/dist/pure.js:262:12
      at node_modules/@testing-library/react/dist/act-compat.js:64:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at node_modules/@testing-library/react/dist/pure.js:261:28
          at Array.forEach (<anonymous>)
      at cleanup (node_modules/@testing-library/react/dist/pure.js:257:22)
      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:35:25)

    console.error
      Error: Uncaught [TypeError: destroy is not a function]
          at reportException (D:\real-estate-marketplace\node_modules\jsdom\lib\jsdom\living\
helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (D:\real-estate-marketplace\node_modules\jsdom\lib\jsd
om\living\events\EventTarget-impl.js:341:9)
          at invokeEventListeners (D:\real-estate-marketplace\node_modules\jsdom\lib\jsdom\li
ving\events\EventTarget-impl.js:274:3)
          at HTMLUnknownElementImpl._dispatch (D:\real-estate-marketplace\node_modules\jsdom\
lib\jsdom\living\events\EventTarget-impl.js:221:9)
          at HTMLUnknownElementImpl.dispatchEvent (D:\real-estate-marketplace\node_modules\js
dom\lib\jsdom\living\events\EventTarget-impl.js:94:17)
          at HTMLUnknownElement.dispatchEvent (D:\real-estate-marketplace\node_modules\jsdom\
lib\jsdom\living\generated\EventTarget.js:231:34)
          at Object.invokeGuardedCallbackDev 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at reportUncaughtErrorInDEV 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:22877:5)
          at captureCommitPhaseError 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27165:5)
          at safelyCallDestroy 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:22973:5)
          at commitHookEffectListUnmount 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:23139:11)
          at commitPassiveUnmountInsideDeletedTreeOnFiber 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:25140:11)
          at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:25087:5)
          at commitPassiveUnmountEffects_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24995:11)
          at commitPassiveUnmountEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24980:3)
          at flushPassiveEffectsImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27077:3)
          at flushPassiveEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at commitRootImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26974:5)
          at commitRoot 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26721:5)
          at performSyncWorkOnRoot 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26156:3)
          at flushSyncCallbacks 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:12042:22)
          at flushSync 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26240:7)
          at 
ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount [as 
unmount] 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:29375:5)
          at Object.unmount 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:126:12)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:262:12
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:64:24
          at act 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2512:16)
          at actWithWarning (D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom-
test-utils.development.js:1740:10)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:63:25
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:261:28
          at Array.forEach (<anonymous>)
          at cleanup 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:257:22)
          at Object.<anonymous> 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\index.js:35:25)
          at Promise.then.completed 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusHook 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:181:40)
          at _runTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:158:5)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\real-estate-marketplace\node_modules\jest
-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\real-estate-marketplace\node_modules\jest-circus\build\legacy-co
de-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\real-estate-marketplace\node_modules\jest-runner\build\testWorker.js:133:12) TypeError: 
destroy is not a function
          at safelyCallDestroy 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:22971:5)
          at commitHookEffectListUnmount 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:23139:11)
          at commitPassiveUnmountInsideDeletedTreeOnFiber 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:25140:11)
          at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:25087:5)
          at commitPassiveUnmountEffects_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24995:11)
          at commitPassiveUnmountEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24980:3)
          at flushPassiveEffectsImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27077:3)
          at flushPassiveEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at commitRootImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26974:5)
          at commitRoot 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26721:5)
          at performSyncWorkOnRoot 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26156:3)
          at flushSyncCallbacks 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:12042:22)
          at flushSync 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26240:7)
          at 
ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount [as 
unmount] 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:29375:5)
          at Object.unmount 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:126:12)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:262:12
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:64:24
          at act 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2512:16)
          at actWithWarning (D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom-
test-utils.development.js:1740:10)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:63:25
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:261:28
          at Array.forEach (<anonymous>)
          at cleanup 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:257:22)
          at Object.<anonymous> 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\index.js:35:25)
          at Promise.then.completed 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusHook 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:181:40)
          at _runTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:158:5)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\real-estate-marketplace\node_modules\jest
-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\real-estate-marketplace\node_modules\jest-circus\build\legacy-co
de-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\real-estate-marketplace\node_modules\jest-runner\build\testWorker.js:133:12)

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException 
(node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent 
(node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev 
(node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at reportUncaughtErrorInDEV 
(node_modules/react-dom/cjs/react-dom.development.js:22877:5)
      at captureCommitPhaseError 
(node_modules/react-dom/cjs/react-dom.development.js:27165:5)
      at safelyCallDestroy (node_modules/react-dom/cjs/react-dom.development.js:22973:5)
      at commitHookEffectListUnmount 
(node_modules/react-dom/cjs/react-dom.development.js:23139:11)
      at commitPassiveUnmountInsideDeletedTreeOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:25140:11)
      at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(node_modules/react-dom/cjs/react-dom.development.js:25087:5)
      at commitPassiveUnmountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24995:11)
      at commitPassiveUnmountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24980:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27077:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at flushSync (node_modules/react-dom/cjs/react-dom.development.js:26240:7)
      at ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount 
[as unmount] (node_modules/react-dom/cjs/react-dom.development.js:29375:5)
      at Object.unmount (node_modules/@testing-library/react/dist/pure.js:126:12)
      at node_modules/@testing-library/react/dist/pure.js:262:12
      at node_modules/@testing-library/react/dist/act-compat.js:64:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at node_modules/@testing-library/react/dist/pure.js:261:28
          at Array.forEach (<anonymous>)
      at cleanup (node_modules/@testing-library/react/dist/pure.js:257:22)
      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:35:25)

  ΓùÅ useAutoSave ΓÇ║ should auto-save form data to localStorage after debounce

    expect(received).toBeTruthy()

    Received: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

    [0m [90m 36 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 37 |[39m       [36mconst[39m saved [33m=[39m 
localStorage[33m.[39mgetItem(storageKey)[33m;[39m
    [31m[1m>[22m[39m[90m 38 |[39m       expect(saved)[33m.[39mtoBeTruthy()[33m;[39m
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 39 |[39m       [36mconst[39m parsed [33m=[39m 
[33mJSON[39m[33m.[39mparse(saved)[33m;[39m
     [90m 40 |[39m       expect(parsed)[33m.[39mtoEqual(formData)[33m;[39m
     [90m 41 |[39m     })[33m;[39m[0m

      at src/hooks/__tests__/useAutoSave.test.js:38:21
      at runWithExpensiveErrorDiagnosticsDisabled 
(node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom
/dist/wait-for.js:127:77)
      at 
node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:70:9

  ΓùÅ useAutoSave ΓÇ║ should load saved data from localStorage

    TypeError: destroy is not a function

      at safelyCallDestroy (node_modules/react-dom/cjs/react-dom.development.js:22971:5)
      at commitHookEffectListUnmount 
(node_modules/react-dom/cjs/react-dom.development.js:23139:11)
      at commitPassiveUnmountInsideDeletedTreeOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:25140:11)
      at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(node_modules/react-dom/cjs/react-dom.development.js:25087:5)
      at commitPassiveUnmountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24995:11)
      at commitPassiveUnmountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24980:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27077:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at flushSync (node_modules/react-dom/cjs/react-dom.development.js:26240:7)
      at ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount 
[as unmount] (node_modules/react-dom/cjs/react-dom.development.js:29375:5)
      at Object.unmount (node_modules/@testing-library/react/dist/pure.js:126:12)
      at node_modules/@testing-library/react/dist/pure.js:262:12
      at node_modules/@testing-library/react/dist/act-compat.js:64:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at node_modules/@testing-library/react/dist/pure.js:261:28
          at Array.forEach (<anonymous>)
      at cleanup (node_modules/@testing-library/react/dist/pure.js:257:22)
      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:35:25)

  ΓùÅ useAutoSave ΓÇ║ should clear saved data from localStorage

    TypeError: destroy is not a function

      at safelyCallDestroy (node_modules/react-dom/cjs/react-dom.development.js:22971:5)
      at commitHookEffectListUnmount 
(node_modules/react-dom/cjs/react-dom.development.js:23139:11)
      at commitPassiveUnmountInsideDeletedTreeOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:25140:11)
      at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(node_modules/react-dom/cjs/react-dom.development.js:25087:5)
      at commitPassiveUnmountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24995:11)
      at commitPassiveUnmountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24980:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27077:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at flushSync (node_modules/react-dom/cjs/react-dom.development.js:26240:7)
      at ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount 
[as unmount] (node_modules/react-dom/cjs/react-dom.development.js:29375:5)
      at Object.unmount (node_modules/@testing-library/react/dist/pure.js:126:12)
      at node_modules/@testing-library/react/dist/pure.js:262:12
      at node_modules/@testing-library/react/dist/act-compat.js:64:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at node_modules/@testing-library/react/dist/pure.js:261:28
          at Array.forEach (<anonymous>)
      at cleanup (node_modules/@testing-library/react/dist/pure.js:257:22)
      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:35:25)

  ΓùÅ useAutoSave ΓÇ║ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 118 |[39m     
     [90m 119 |[39m     [90m// Should not crash, just log error[39m
    [31m[1m>[22m[39m[90m 120 |[39m     
expect(consoleSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 121 |[39m     
     [90m 122 |[39m     consoleSpy[33m.[39mmockRestore()[33m;[39m
     [90m 123 |[39m     [33mStorage[39m[33m.[39mprototype[33m.[39msetItem 
[33m=[39m jest[33m.[39mfn()[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useAutoSave.test.js:120:24)

PASS src/components/__tests__/TableSkeleton.test.js (10.067 s)
FAIL src/hooks/__tests__/useKeyboardNavigation.test.js (9.721 s)
  ΓùÅ Console

    console.error
      Error: Uncaught [TypeError: Cannot read properties of null (reading 
'addEventListener')]
          at reportException (D:\real-estate-marketplace\node_modules\jsdom\lib\jsdom\living\
helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (D:\real-estate-marketplace\node_modules\jsdom\lib\jsd
om\living\events\EventTarget-impl.js:341:9)
          at invokeEventListeners (D:\real-estate-marketplace\node_modules\jsdom\lib\jsdom\li
ving\events\EventTarget-impl.js:274:3)
          at HTMLUnknownElementImpl._dispatch (D:\real-estate-marketplace\node_modules\jsdom\
lib\jsdom\living\events\EventTarget-impl.js:221:9)
          at HTMLUnknownElementImpl.dispatchEvent (D:\real-estate-marketplace\node_modules\js
dom\lib\jsdom\living\events\EventTarget-impl.js:94:17)
          at HTMLUnknownElement.dispatchEvent (D:\real-estate-marketplace\node_modules\jsdom\
lib\jsdom\living\generated\EventTarget.js:231:34)
          at Object.invokeGuardedCallbackDev 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at reportUncaughtErrorInDEV 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:22877:5)
          at captureCommitPhaseError 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27165:5)
          at commitPassiveMountEffects_complete 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24932:9)
          at commitPassiveMountEffects_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at 
D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2667:24)
          at act 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2582:11)
          at actWithWarning (D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom-
test-utils.development.js:1740:10)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:63:25
          at renderRoot 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:159:26)
          at render 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:246:10)
          at renderHook 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:293:7)
          at Object.<anonymous> 
(D:\real-estate-marketplace\src\hooks\__tests__\useKeyboardNavigation.test.js:35:34)
          at Promise.then.completed 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:218:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\real-estate-marketplace\node_modules\jest
-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\real-estate-marketplace\node_modules\jest-circus\build\legacy-co
de-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\real-estate-marketplace\node_modules\jest-runner\build\testWorker.js:133:12) TypeError: 
Cannot read properties of null (reading 'addEventListener')
          at D:\real-estate-marketplace\src\hooks\useKeyboardNavigation.js:58:15
          at commitHookEffectListMount 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at 
D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2667:24)
          at act 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2582:11)
          at actWithWarning (D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom-
test-utils.development.js:1740:10)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:63:25
          at renderRoot 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:159:26)
          at render 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:246:10)
          at renderHook 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:293:7)
          at Object.<anonymous> 
(D:\real-estate-marketplace\src\hooks\__tests__\useKeyboardNavigation.test.js:35:34)
          at Promise.then.completed 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:218:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\real-estate-marketplace\node_modules\jest
-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\real-estate-marketplace\node_modules\jest-circus\build\legacy-co
de-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\real-estate-marketplace\node_modules\jest-runner\build\testWorker.js:133:12)

    [0m [90m 33 |[39m
     [90m 34 |[39m   it([32m'should attach listeners when dropdown is 
open'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 35 |[39m     [36mconst[39m { result } [33m=[39m 
renderHook(() [33m=>[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 36 |[39m       useKeyboardNavigation([36mtrue[39m[33m,[39m 
mockOnClose[33m,[39m mockItems[33m,[39m mockOnSelect)
     [90m 37 |[39m     )[33m;[39m
     [90m 38 |[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException 
(node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent 
(node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev 
(node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at reportUncaughtErrorInDEV 
(node_modules/react-dom/cjs/react-dom.development.js:22877:5)
      at captureCommitPhaseError 
(node_modules/react-dom/cjs/react-dom.development.js:27165:5)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24932:9)
      at commitPassiveMountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/hooks/__tests__/useKeyboardNavigation.test.js:35:34)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of null (reading 
'addEventListener')]
          at reportException (D:\real-estate-marketplace\node_modules\jsdom\lib\jsdom\living\
helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (D:\real-estate-marketplace\node_modules\jsdom\lib\jsd
om\living\events\EventTarget-impl.js:341:9)
          at invokeEventListeners (D:\real-estate-marketplace\node_modules\jsdom\lib\jsdom\li
ving\events\EventTarget-impl.js:274:3)
          at HTMLUnknownElementImpl._dispatch (D:\real-estate-marketplace\node_modules\jsdom\
lib\jsdom\living\events\EventTarget-impl.js:221:9)
          at HTMLUnknownElementImpl.dispatchEvent (D:\real-estate-marketplace\node_modules\js
dom\lib\jsdom\living\events\EventTarget-impl.js:94:17)
          at HTMLUnknownElement.dispatchEvent (D:\real-estate-marketplace\node_modules\jsdom\
lib\jsdom\living\generated\EventTarget.js:231:34)
          at Object.invokeGuardedCallbackDev 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at reportUncaughtErrorInDEV 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:22877:5)
          at captureCommitPhaseError 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27165:5)
          at commitPassiveMountEffects_complete 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24932:9)
          at commitPassiveMountEffects_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at 
D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2667:24)
          at act 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2582:11)
          at actWithWarning (D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom-
test-utils.development.js:1740:10)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:63:25
          at renderRoot 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:159:26)
          at render 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:246:10)
          at renderHook 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:293:7)
          at Object.<anonymous> 
(D:\real-estate-marketplace\src\hooks\__tests__\useKeyboardNavigation.test.js:52:34)
          at Promise.then.completed 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:218:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\real-estate-marketplace\node_modules\jest
-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\real-estate-marketplace\node_modules\jest-circus\build\legacy-co
de-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\real-estate-marketplace\node_modules\jest-runner\build\testWorker.js:133:12) TypeError: 
Cannot read properties of null (reading 'addEventListener')
          at D:\real-estate-marketplace\src\hooks\useKeyboardNavigation.js:58:15
          at commitHookEffectListMount 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects 
(D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at 
D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2667:24)
          at act 
(D:\real-estate-marketplace\node_modules\react\cjs\react.development.js:2582:11)
          at actWithWarning (D:\real-estate-marketplace\node_modules\react-dom\cjs\react-dom-
test-utils.development.js:1740:10)
          at 
D:\real-estate-marketplace\node_modules\@testing-library\react\dist\act-compat.js:63:25
          at renderRoot 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:159:26)
          at render 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:246:10)
          at renderHook 
(D:\real-estate-marketplace\node_modules\@testing-library\react\dist\pure.js:293:7)
          at Object.<anonymous> 
(D:\real-estate-marketplace\src\hooks\__tests__\useKeyboardNavigation.test.js:52:34)
          at Promise.then.completed 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\real-estate-marketplace\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:218:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\real-estate-marketplace\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\real-estate-marketplace\node_modules\jest
-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\real-estate-marketplace\node_modules\jest-circus\build\legacy-co
de-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest 
(D:\real-estate-marketplace\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\real-estate-marketplace\node_modules\jest-runner\build\testWorker.js:133:12)

    [0m [90m 50 |[39m
     [90m 51 |[39m   it([32m'should handle empty items array'[39m[33m,[39m () 
[33m=>[39m {
    [31m[1m>[22m[39m[90m 52 |[39m     [36mconst[39m { result } [33m=[39m 
renderHook(() [33m=>[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 53 |[39m       useKeyboardNavigation([36mtrue[39m[33m,[39m 
mockOnClose[33m,[39m [][33m,[39m mockOnSelect)
     [90m 54 |[39m     )[33m;[39m
     [90m 55 |[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException 
(node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent 
(node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent 
(node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev 
(node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at reportUncaughtErrorInDEV 
(node_modules/react-dom/cjs/react-dom.development.js:22877:5)
      at captureCommitPhaseError 
(node_modules/react-dom/cjs/react-dom.development.js:27165:5)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24932:9)
      at commitPassiveMountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/hooks/__tests__/useKeyboardNavigation.test.js:52:34)

  ΓùÅ useKeyboardNavigation ΓÇ║ should attach listeners when dropdown is open

    TypeError: Cannot read properties of null (reading 'addEventListener')

    [0m [90m 56 |[39m
     [90m 57 |[39m     [36mconst[39m container [33m=[39m 
containerRef[33m.[39mcurrent[33m;[39m
    [31m[1m>[22m[39m[90m 58 |[39m     
container[33m.[39maddEventListener([32m'keydown'[39m[33m,[39m handleKeyDown)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 59 |[39m
     [90m 60 |[39m     [90m// Focus first item when dropdown opens[39m
     [90m 61 |[39m     [36mif[39m (itemRefs[33m.[39mcurrent[33m.[39mlength 
[33m>[39m [35m0[39m) {[0m

      at src/hooks/useKeyboardNavigation.js:58:15
      at commitHookEffectListMount 
(node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/hooks/__tests__/useKeyboardNavigation.test.js:35:34)

  ΓùÅ useKeyboardNavigation ΓÇ║ should handle empty items array

    TypeError: Cannot read properties of null (reading 'addEventListener')

    [0m [90m 56 |[39m
     [90m 57 |[39m     [36mconst[39m container [33m=[39m 
containerRef[33m.[39mcurrent[33m;[39m
    [31m[1m>[22m[39m[90m 58 |[39m     
container[33m.[39maddEventListener([32m'keydown'[39m[33m,[39m handleKeyDown)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 59 |[39m
     [90m 60 |[39m     [90m// Focus first item when dropdown opens[39m
     [90m 61 |[39m     [36mif[39m (itemRefs[33m.[39mcurrent[33m.[39mlength 
[33m>[39m [35m0[39m) {[0m

      at src/hooks/useKeyboardNavigation.js:58:15
      at commitHookEffectListMount 
(node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/hooks/__tests__/useKeyboardNavigation.test.js:52:34)

FAIL src/components/__tests__/OptimizedImage.test.js (9.858 s)
  ΓùÅ OptimizedImage ΓÇ║ should render with loading skeleton initially

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    [0m [90m 31 |[39m     [90m// Should show loading skeleton[39m
     [90m 32 |[39m     [36mconst[39m skeleton [33m=[39m 
container[33m.[39mquerySelector([32m'.animate-pulse'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 33 |[39m     
expect(skeleton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 34 |[39m   })[33m;[39m
     [90m 35 |[39m
     [90m 36 |[39m   it([32m'should handle missing src gracefully'[39m[33m,[39m () 
[33m=>[39m {[0m

      at __EXTERNAL_MATCHER_TRAP__ 
(node_modules/jest-circus/node_modules/expect/build/index.js:386:30)
      at Object.<anonymous> (src/components/__tests__/OptimizedImage.test.js:33:22)

PASS src/__tests__/integration/authFlow.integration.test.js (10.567 s)
  ΓùÅ Console

    console.log
      AuthContext: Generated missing codes for user: PAK-GZG4UM VND-J2JUDS

      at src/contexts/AuthContext.js:317:21

    console.log
      AuthContext: Generated missing codes for user: PAK-PVRDFS VND-F2FT6W

      at src/contexts/AuthContext.js:317:21

PASS src/components/__tests__/Pagination.test.js
FAIL src/hooks/__tests__/useBackButton.test.js (12.989 s)
  ΓùÅ useBackButton ΓÇ║ should handle errors gracefully when saving state

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 92 |[39m     renderHook(() [33m=>[39m useBackButton(() [33m=>[39m 
{}[33m,[39m { data[33m:[39m [32m'test'[39m })[33m,[39m { wrapper })[33m;[39m
     [90m 93 |[39m
    [31m[1m>[22m[39m[90m 94 |[39m     
expect(consoleSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 95 |[39m
     [90m 96 |[39m     consoleSpy[33m.[39mmockRestore()[33m;[39m
     [90m 97 |[39m     sessionStorage[33m.[39msetItem [33m=[39m 
[33mStorage[39m[33m.[39mprototype[33m.[39msetItem[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useBackButton.test.js:94:24)

  ΓùÅ useBackButton ΓÇ║ should handle errors gracefully when restoring scroll

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 108 |[39m     
result[33m.[39mcurrent[33m.[39mrestoreScrollPosition()[33m;[39m
     [90m 109 |[39m
    [31m[1m>[22m[39m[90m 110 |[39m     
expect(consoleSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 111 |[39m
     [90m 112 |[39m     consoleSpy[33m.[39mmockRestore()[33m;[39m
     [90m 113 |[39m     sessionStorage[33m.[39mgetItem [33m=[39m 
[33mStorage[39m[33m.[39mprototype[33m.[39mgetItem[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useBackButton.test.js:110:24)

PASS src/contexts/__tests__/PropertyContext.test.js
  ΓùÅ Console

    console.log
      Loaded mock properties initially: 7

      at src/contexts/PropertyContext.js:265:15

    console.log
      Loaded mock properties initially: 7

      at src/contexts/PropertyContext.js:265:15

    console.log
      Loaded mock properties initially: 7

      at src/contexts/PropertyContext.js:265:15

PASS src/services/__tests__/inspectionService.test.js
  ΓùÅ Console

    console.log
      Using localStorage for creating inspection requests (API unavailable)

      at createInspectionRequest (src/services/inspectionService.js:10:13)

    console.log
      Using localStorage for creating inspection requests (API unavailable)

      at createInspectionRequest (src/services/inspectionService.js:10:13)

    console.log
      Using localStorage for inspection requests (API unavailable)

      at listInspectionRequestsByVendor (src/services/inspectionService.js:42:13)

    console.log
      Using localStorage for inspection requests (API unavailable)

      at listInspectionRequestsByVendor (src/services/inspectionService.js:42:13)

    console.log
      Using localStorage for inspection requests (API unavailable)

      at listInspectionRequestsByVendor (src/services/inspectionService.js:42:13)

    console.log
      Using localStorage for inspection requests (API unavailable)

      at listInspectionRequestsByVendor (src/services/inspectionService.js:42:13)

    console.log
      Using localStorage for buyer inspection requests (API unavailable)

      at listInspectionRequestsByBuyer (src/services/inspectionService.js:72:13)

    console.log
      Using localStorage for buyer inspection requests (API unavailable)

      at listInspectionRequestsByBuyer (src/services/inspectionService.js:72:13)

    console.log
      Using localStorage for updating inspection requests (API unavailable)

      at updateInspectionRequest (src/services/inspectionService.js:87:13)

    console.log
      Using localStorage for updating inspection requests (API unavailable)

      at updateInspectionRequest (src/services/inspectionService.js:87:13)

    console.log
      Inspection requests stored locally: 0

      at syncLocalInspectionRequests (src/services/inspectionService.js:116:13)

PASS src/components/layout/__tests__/Header.test.js
PASS src/services/__tests__/storageService.test.js
PASS src/components/__tests__/AvatarUpload.test.js
PASS src/contexts/__tests__/AuthContext.test.js
PASS src/utils/__tests__/googleMapsLoader.test.js
PASS src/services/__tests__/notificationService.test.js
  ΓùÅ Console

    console.log
      Γ£à NotificationService: Connected to server

      at Array.<anonymous> (src/services/notificationService.js:36:15)

PASS src/components/__tests__/LoadingSpinner.test.js
PASS src/services/__tests__/authFlow.test.js
PASS src/components/auth/__tests__/ProtectedRoute.test.js
PASS src/utils/__tests__/logger.test.js
PASS src/components/__tests__/PropertyCardSkeleton.test.js
PASS src/utils/__tests__/mortgageCalculator.test.js

Summary of all failing tests
FAIL src/hooks/__tests__/useAutoSave.test.js (9.823 s)
  ΓùÅ useAutoSave ΓÇ║ should auto-save form data to localStorage after debounce

    expect(received).toBeTruthy()

    Received: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

    [0m [90m 36 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 37 |[39m       [36mconst[39m saved [33m=[39m 
localStorage[33m.[39mgetItem(storageKey)[33m;[39m
    [31m[1m>[22m[39m[90m 38 |[39m       expect(saved)[33m.[39mtoBeTruthy()[33m;[39m
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 39 |[39m       [36mconst[39m parsed [33m=[39m 
[33mJSON[39m[33m.[39mparse(saved)[33m;[39m
     [90m 40 |[39m       expect(parsed)[33m.[39mtoEqual(formData)[33m;[39m
     [90m 41 |[39m     })[33m;[39m[0m

      at src/hooks/__tests__/useAutoSave.test.js:38:21
      at runWithExpensiveErrorDiagnosticsDisabled 
(node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom
/dist/wait-for.js:127:77)
      at 
node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:70:9

  ΓùÅ useAutoSave ΓÇ║ should load saved data from localStorage

    TypeError: destroy is not a function

      at safelyCallDestroy (node_modules/react-dom/cjs/react-dom.development.js:22971:5)
      at commitHookEffectListUnmount 
(node_modules/react-dom/cjs/react-dom.development.js:23139:11)
      at commitPassiveUnmountInsideDeletedTreeOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:25140:11)
      at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(node_modules/react-dom/cjs/react-dom.development.js:25087:5)
      at commitPassiveUnmountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24995:11)
      at commitPassiveUnmountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24980:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27077:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at flushSync (node_modules/react-dom/cjs/react-dom.development.js:26240:7)
      at ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount 
[as unmount] (node_modules/react-dom/cjs/react-dom.development.js:29375:5)
      at Object.unmount (node_modules/@testing-library/react/dist/pure.js:126:12)
      at node_modules/@testing-library/react/dist/pure.js:262:12
      at node_modules/@testing-library/react/dist/act-compat.js:64:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at node_modules/@testing-library/react/dist/pure.js:261:28
          at Array.forEach (<anonymous>)
      at cleanup (node_modules/@testing-library/react/dist/pure.js:257:22)
      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:35:25)

  ΓùÅ useAutoSave ΓÇ║ should clear saved data from localStorage

    TypeError: destroy is not a function

      at safelyCallDestroy (node_modules/react-dom/cjs/react-dom.development.js:22971:5)
      at commitHookEffectListUnmount 
(node_modules/react-dom/cjs/react-dom.development.js:23139:11)
      at commitPassiveUnmountInsideDeletedTreeOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:25140:11)
      at commitPassiveUnmountEffectsInsideOfDeletedTree_begin 
(node_modules/react-dom/cjs/react-dom.development.js:25087:5)
      at commitPassiveUnmountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24995:11)
      at commitPassiveUnmountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24980:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27077:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at flushSync (node_modules/react-dom/cjs/react-dom.development.js:26240:7)
      at ReactDOMRoot.Object.<anonymous>.ReactDOMHydrationRoot.unmount.ReactDOMRoot.unmount 
[as unmount] (node_modules/react-dom/cjs/react-dom.development.js:29375:5)
      at Object.unmount (node_modules/@testing-library/react/dist/pure.js:126:12)
      at node_modules/@testing-library/react/dist/pure.js:262:12
      at node_modules/@testing-library/react/dist/act-compat.js:64:24
      at act (node_modules/react/cjs/react.development.js:2512:16)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at node_modules/@testing-library/react/dist/pure.js:261:28
          at Array.forEach (<anonymous>)
      at cleanup (node_modules/@testing-library/react/dist/pure.js:257:22)
      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:35:25)

  ΓùÅ useAutoSave ΓÇ║ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 118 |[39m     
     [90m 119 |[39m     [90m// Should not crash, just log error[39m
    [31m[1m>[22m[39m[90m 120 |[39m     
expect(consoleSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 121 |[39m     
     [90m 122 |[39m     consoleSpy[33m.[39mmockRestore()[33m;[39m
     [90m 123 |[39m     [33mStorage[39m[33m.[39mprototype[33m.[39msetItem 
[33m=[39m jest[33m.[39mfn()[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useAutoSave.test.js:120:24)

FAIL src/hooks/__tests__/useKeyboardNavigation.test.js (9.721 s)
  ΓùÅ useKeyboardNavigation ΓÇ║ should attach listeners when dropdown is open

    TypeError: Cannot read properties of null (reading 'addEventListener')

    [0m [90m 56 |[39m
     [90m 57 |[39m     [36mconst[39m container [33m=[39m 
containerRef[33m.[39mcurrent[33m;[39m
    [31m[1m>[22m[39m[90m 58 |[39m     
container[33m.[39maddEventListener([32m'keydown'[39m[33m,[39m handleKeyDown)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 59 |[39m
     [90m 60 |[39m     [90m// Focus first item when dropdown opens[39m
     [90m 61 |[39m     [36mif[39m (itemRefs[33m.[39mcurrent[33m.[39mlength 
[33m>[39m [35m0[39m) {[0m

      at src/hooks/useKeyboardNavigation.js:58:15
      at commitHookEffectListMount 
(node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/hooks/__tests__/useKeyboardNavigation.test.js:35:34)

  ΓùÅ useKeyboardNavigation ΓÇ║ should handle empty items array

    TypeError: Cannot read properties of null (reading 'addEventListener')

    [0m [90m 56 |[39m
     [90m 57 |[39m     [36mconst[39m container [33m=[39m 
containerRef[33m.[39mcurrent[33m;[39m
    [31m[1m>[22m[39m[90m 58 |[39m     
container[33m.[39maddEventListener([32m'keydown'[39m[33m,[39m handleKeyDown)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 59 |[39m
     [90m 60 |[39m     [90m// Focus first item when dropdown opens[39m
     [90m 61 |[39m     [36mif[39m (itemRefs[33m.[39mcurrent[33m.[39mlength 
[33m>[39m [35m0[39m) {[0m

      at src/hooks/useKeyboardNavigation.js:58:15
      at commitHookEffectListMount 
(node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber 
(node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin 
(node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects 
(node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl 
(node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at actWithWarning 
(node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/hooks/__tests__/useKeyboardNavigation.test.js:52:34)

FAIL src/components/__tests__/OptimizedImage.test.js (9.858 s)
  ΓùÅ OptimizedImage ΓÇ║ should render with loading skeleton initially

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    [0m [90m 31 |[39m     [90m// Should show loading skeleton[39m
     [90m 32 |[39m     [36mconst[39m skeleton [33m=[39m 
container[33m.[39mquerySelector([32m'.animate-pulse'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 33 |[39m     
expect(skeleton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 34 |[39m   })[33m;[39m
     [90m 35 |[39m
     [90m 36 |[39m   it([32m'should handle missing src gracefully'[39m[33m,[39m () 
[33m=>[39m {[0m

      at __EXTERNAL_MATCHER_TRAP__ 
(node_modules/jest-circus/node_modules/expect/build/index.js:386:30)
      at Object.<anonymous> (src/components/__tests__/OptimizedImage.test.js:33:22)

FAIL src/hooks/__tests__/useBackButton.test.js (12.989 s)
  ΓùÅ useBackButton ΓÇ║ should handle errors gracefully when saving state

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 92 |[39m     renderHook(() [33m=>[39m useBackButton(() [33m=>[39m 
{}[33m,[39m { data[33m:[39m [32m'test'[39m })[33m,[39m { wrapper })[33m;[39m
     [90m 93 |[39m
    [31m[1m>[22m[39m[90m 94 |[39m     
expect(consoleSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 95 |[39m
     [90m 96 |[39m     consoleSpy[33m.[39mmockRestore()[33m;[39m
     [90m 97 |[39m     sessionStorage[33m.[39msetItem [33m=[39m 
[33mStorage[39m[33m.[39mprototype[33m.[39msetItem[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useBackButton.test.js:94:24)

  ΓùÅ useBackButton ΓÇ║ should handle errors gracefully when restoring scroll

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 108 |[39m     
result[33m.[39mcurrent[33m.[39mrestoreScrollPosition()[33m;[39m
     [90m 109 |[39m
    [31m[1m>[22m[39m[90m 110 |[39m     
expect(consoleSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 111 |[39m
     [90m 112 |[39m     consoleSpy[33m.[39mmockRestore()[33m;[39m
     [90m 113 |[39m     sessionStorage[33m.[39mgetItem [33m=[39m 
[33mStorage[39m[33m.[39mprototype[33m.[39mgetItem[33m;[39m[0m

      at Object.<anonymous> (src/hooks/__tests__/useBackButton.test.js:110:24)


Test Suites: 4 failed, 18 passed, 22 total
Tests:       9 failed, 171 passed, 180 total
Snapshots:   0 total
Time:        23.316 s, estimated 63 s
Ran all test suites.
