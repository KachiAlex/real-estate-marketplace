"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[482],{2482(e,s,t){t.r(s),t.d(s,{default:()=>u});var r=t(9379),a=t(5043),n=t(3216),c=t(5016),o=t(2339),l=t(5369),i=t(9722),d=t(1876),m=t(579);const u=()=>{const e=(0,n.Zp)(),{user:s}=(0,c.As)(),[t,u]=(0,a.useState)(!1),[x,b]=(0,a.useState)(1),[p,g]=(0,a.useState)({name:"",registrationNumber:"",email:"",phone:"",address:{street:"",city:"",state:"",country:"Nigeria",zipCode:""},contactPerson:{firstName:"",lastName:"",email:"",phone:"",position:""},userAccount:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""}}),[h,f]=(0,a.useState)([]),[N,y]=(0,a.useState)({}),j=e=>{const{name:s,value:t}=e.target;if(s.includes(".")){const[e,a]=s.split(".");g(s=>(0,r.A)((0,r.A)({},s),{},{[e]:(0,r.A)((0,r.A)({},s[e]),{},{[a]:t})}))}else g(e=>(0,r.A)((0,r.A)({},e),{},{[s]:t}));N[s]&&y(e=>{const t=(0,r.A)({},e);return delete t[s],t})},v=()=>{1===x&&(()=>{const e={};return p.name.trim()||(e.name="Bank name is required"),p.registrationNumber.trim()||(e.registrationNumber="Registration number is required"),p.email.trim()||(e.email="Email is required"),p.phone.trim()||(e.phone="Phone number is required"),p.address.street.trim()||(e["address.street"]="Street address is required"),p.address.city.trim()||(e["address.city"]="City is required"),p.address.state.trim()||(e["address.state"]="State is required"),y(e),0===Object.keys(e).length})()?b(2):2===x&&(()=>{const e={};return p.contactPerson.firstName.trim()||(e["contactPerson.firstName"]="First name is required"),p.contactPerson.lastName.trim()||(e["contactPerson.lastName"]="Last name is required"),p.contactPerson.email.trim()||(e["contactPerson.email"]="Email is required"),p.contactPerson.phone.trim()||(e["contactPerson.phone"]="Phone number is required"),p.contactPerson.position.trim()||(e["contactPerson.position"]="Position is required"),y(e),0===Object.keys(e).length})()&&b(3)},w=()=>{x>1&&b(x-1)};return(0,m.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,m.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,m.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,m.jsxs)("div",{className:"text-center mb-8",children:[(0,m.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:(0,m.jsx)(l.ymh,{className:"text-blue-600 text-2xl"})}),(0,m.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mortgage Bank Registration"}),(0,m.jsx)("p",{className:"text-gray-600",children:"Register your mortgage bank to start receiving loan applications"})]}),(0,m.jsx)("div",{className:"mb-8",children:(0,m.jsx)("div",{className:"flex items-center justify-between",children:[1,2,3].map(e=>(0,m.jsxs)(a.Fragment,{children:[(0,m.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,m.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold ".concat(x>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:x>e?(0,m.jsx)(l.A7C,{}):e}),(0,m.jsx)("span",{className:"mt-2 text-sm text-gray-600",children:1===e?"Bank Info":2===e?"Contact":"Account"})]}),e<3&&(0,m.jsx)("div",{className:"flex-1 h-1 mx-2 ".concat(x>e?"bg-blue-600":"bg-gray-200")})]},e))})}),(0,m.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),(()=>{const e={};return p.userAccount.firstName.trim()||(e["userAccount.firstName"]="First name is required"),p.userAccount.lastName.trim()||(e["userAccount.lastName"]="Last name is required"),p.userAccount.email.trim()||(e["userAccount.email"]="Email is required"),p.userAccount.password||(e["userAccount.password"]="Password is required"),p.userAccount.password.length<6&&(e["userAccount.password"]="Password must be at least 6 characters"),p.userAccount.password!==p.userAccount.confirmPassword&&(e["userAccount.confirmPassword"]="Passwords do not match"),y(e),0===Object.keys(e).length})())if(0!==h.length){u(!0);try{const s=await Promise.all(h.map(async e=>({type:e.type,name:e.name,url:"https://example.com/documents/".concat(e.name),uploadedAt:(new Date).toISOString()}))),t={name:p.name,registrationNumber:p.registrationNumber,email:p.email,phone:p.phone,address:p.address,contactPerson:p.contactPerson,userAccount:{firstName:p.userAccount.firstName,lastName:p.userAccount.lastName,email:p.userAccount.email,password:p.userAccount.password},documents:s},r=await i.A.post((0,d.e9)("/mortgage-banks/register"),t);r.data.success?(o.Ay.success("Registration submitted successfully! Please wait for admin verification."),setTimeout(()=>{e("/")},2e3)):o.Ay.error(r.data.message||"Registration failed")}catch(m){var t,r,a,n,c,l;console.error("Registration error:",m),o.Ay.error((null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||(null===(a=m.response)||void 0===a||null===(n=a.data)||void 0===n||null===(c=n.errors)||void 0===c||null===(l=c[0])||void 0===l?void 0:l.message)||"Error submitting registration. Please try again.")}finally{u(!1)}}else o.Ay.error("Please upload at least one document")},children:[1===x&&(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Bank Information"}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Name ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"name",value:p.name,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N.name?"border-red-500":"border-gray-300"),placeholder:"e.g., First Bank Mortgage"}),N.name&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.name})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Registration Number ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"registrationNumber",value:p.registrationNumber,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N.registrationNumber?"border-red-500":"border-gray-300"),placeholder:"RC123456"}),N.registrationNumber&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.registrationNumber})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"email",name:"email",value:p.email,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N.email?"border-red-500":"border-gray-300"),placeholder:"bank@example.com"}),N.email&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.email})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"tel",name:"phone",value:p.phone,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N.phone?"border-red-500":"border-gray-300"),placeholder:"+234 800 123 4567"}),N.phone&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.phone})]}),(0,m.jsxs)("div",{className:"md:col-span-2",children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Street Address ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"address.street",value:p.address.street,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["address.street"]?"border-red-500":"border-gray-300"),placeholder:"123 Main Street"}),N["address.street"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["address.street"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"address.city",value:p.address.city,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["address.city"]?"border-red-500":"border-gray-300"),placeholder:"Lagos"}),N["address.city"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["address.city"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"address.state",value:p.address.state,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["address.state"]?"border-red-500":"border-gray-300"),placeholder:"Lagos State"}),N["address.state"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["address.state"]})]})]}),(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)("button",{type:"button",onClick:v,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Next"})})]}),2===x&&(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Person Information"}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["First Name ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"contactPerson.firstName",value:p.contactPerson.firstName,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["contactPerson.firstName"]?"border-red-500":"border-gray-300")}),N["contactPerson.firstName"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["contactPerson.firstName"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Last Name ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"contactPerson.lastName",value:p.contactPerson.lastName,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["contactPerson.lastName"]?"border-red-500":"border-gray-300")}),N["contactPerson.lastName"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["contactPerson.lastName"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"email",name:"contactPerson.email",value:p.contactPerson.email,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["contactPerson.email"]?"border-red-500":"border-gray-300")}),N["contactPerson.email"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["contactPerson.email"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"tel",name:"contactPerson.phone",value:p.contactPerson.phone,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["contactPerson.phone"]?"border-red-500":"border-gray-300")}),N["contactPerson.phone"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["contactPerson.phone"]})]}),(0,m.jsxs)("div",{className:"md:col-span-2",children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Position ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"contactPerson.position",value:p.contactPerson.position,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["contactPerson.position"]?"border-red-500":"border-gray-300"),placeholder:"e.g., Managing Director"}),N["contactPerson.position"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["contactPerson.position"]})]})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("button",{type:"button",onClick:w,className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Back"}),(0,m.jsx)("button",{type:"button",onClick:v,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Next"})]})]}),3===x&&(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"User Account & Documents"}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["First Name ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"userAccount.firstName",value:p.userAccount.firstName,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["userAccount.firstName"]?"border-red-500":"border-gray-300")}),N["userAccount.firstName"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["userAccount.firstName"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Last Name ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"text",name:"userAccount.lastName",value:p.userAccount.lastName,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["userAccount.lastName"]?"border-red-500":"border-gray-300")}),N["userAccount.lastName"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["userAccount.lastName"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"email",name:"userAccount.email",value:p.userAccount.email,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["userAccount.email"]?"border-red-500":"border-gray-300")}),N["userAccount.email"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["userAccount.email"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"password",name:"userAccount.password",value:p.userAccount.password,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["userAccount.password"]?"border-red-500":"border-gray-300")}),N["userAccount.password"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["userAccount.password"]})]}),(0,m.jsxs)("div",{className:"md:col-span-2",children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{type:"password",name:"userAccount.confirmPassword",value:p.userAccount.confirmPassword,onChange:j,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(N["userAccount.confirmPassword"]?"border-red-500":"border-gray-300")}),N["userAccount.confirmPassword"]&&(0,m.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N["userAccount.confirmPassword"]})]}),(0,m.jsxs)("div",{className:"md:col-span-2",children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Documents ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,m.jsx)(l.l1U,{className:"mx-auto text-4xl text-gray-400 mb-4"}),(0,m.jsx)("input",{type:"file",id:"documents",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:e=>{const s=Array.from(e.target.files),t=s.map(e=>({type:e.name.includes("license")?"license":e.name.includes("registration")?"registration":e.name.includes("tax")?"tax_certificate":"other",name:e.name,size:e.size,file:e}));f(e=>[...e,...t]),o.Ay.success("".concat(s.length," document(s) added"))},className:"hidden"}),(0,m.jsx)("label",{htmlFor:"documents",className:"cursor-pointer inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Upload Documents"}),(0,m.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Upload license, registration certificate, tax certificate, etc."})]}),h.length>0&&(0,m.jsx)("div",{className:"mt-4 space-y-2",children:h.map((e,s)=>(0,m.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,m.jsx)("span",{className:"text-sm text-gray-700",children:e.name}),(0,m.jsx)("button",{type:"button",onClick:()=>(e=>{f(s=>s.filter((s,t)=>t!==e)),o.Ay.success("Document removed")})(s),className:"text-red-600 hover:text-red-800",children:(0,m.jsx)(l._Hm,{})})]},s))})]})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("button",{type:"button",onClick:w,className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Back"}),(0,m.jsx)("button",{type:"submit",disabled:t,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Submitting...":"Submit Registration"})]})]})]})]})})})}}}]);
//# sourceMappingURL=482.1274bc74.chunk.js.map