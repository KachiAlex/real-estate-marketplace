{"version":3,"file":"static/js/201.6b124c95.chunk.js","mappings":"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","sources":["utils/mortgageCalculator.js","components/MortgagePaymentFlow.js","components/ExtraPaymentCalculator.js","components/MortgageDashboard.js","pages/Mortgages.js"],"sourcesContent":["/**\n * Mortgage Calculator Utilities\n * Handles all mortgage calculations including down payment, monthly payment, and payment schedules\n */\n\n/**\n * Calculate monthly mortgage payment using standard amortization formula\n * P = L * [r(1+r)^n] / [(1+r)^n - 1]\n * Where:\n * P = Monthly payment\n * L = Loan amount (principal)\n * r = Monthly interest rate (annual rate / 12)\n * n = Total number of payments (years * 12)\n */\nexport const calculateMonthlyPayment = (loanAmount, annualInterestRate, loanTermYears) => {\n  if (!loanAmount || loanAmount <= 0) return 0;\n  if (!annualInterestRate || annualInterestRate <= 0) return 0;\n  if (!loanTermYears || loanTermYears <= 0) return 0;\n\n  const monthlyRate = annualInterestRate / 100 / 12;\n  const numberOfPayments = loanTermYears * 12;\n\n  if (monthlyRate === 0) {\n    return loanAmount / numberOfPayments;\n  }\n\n  const monthlyPayment = \n    loanAmount * \n    (monthlyRate * Math.pow(1 + monthlyRate, numberOfPayments)) / \n    (Math.pow(1 + monthlyRate, numberOfPayments) - 1);\n\n  return Math.round(monthlyPayment);\n};\n\n/**\n * Calculate down payment based on percentage\n */\nexport const calculateDownPayment = (homePrice, downPaymentPercent) => {\n  if (!homePrice || homePrice <= 0) return 0;\n  const downPayment = (homePrice * downPaymentPercent) / 100;\n  return Math.round(downPayment);\n};\n\n/**\n * Calculate loan amount after down payment\n */\nexport const calculateLoanAmount = (homePrice, downPayment) => {\n  return homePrice - downPayment;\n};\n\n/**\n * Generate complete payment schedule for the entire mortgage term\n */\nexport const generatePaymentSchedule = (\n  loanAmount,\n  annualInterestRate,\n  loanTermYears,\n  startDate = new Date(),\n  downPayment = 0\n) => {\n  const schedule = [];\n  const monthlyRate = annualInterestRate / 100 / 12;\n  const totalPayments = loanTermYears * 12;\n  \n  let remainingBalance = loanAmount;\n  let currentDate = new Date(startDate);\n\n  // Add down payment as first payment if provided\n  if (downPayment > 0) {\n    schedule.push({\n      id: `PAY-DP-${Date.now()}`,\n      paymentNumber: 0,\n      type: 'down-payment',\n      amount: downPayment,\n      dueDate: currentDate.toISOString(),\n      status: 'pending',\n      principal: downPayment,\n      interest: 0,\n      remainingBalance: loanAmount\n    });\n    \n    // Move to next month for first regular payment\n    currentDate.setMonth(currentDate.getMonth() + 1);\n  }\n\n  // Generate regular monthly payments\n  const monthlyPayment = calculateMonthlyPayment(loanAmount, annualInterestRate, loanTermYears);\n\n  for (let i = 1; i <= totalPayments; i++) {\n    // Calculate interest for this payment\n    const interestPayment = Math.round(remainingBalance * monthlyRate);\n    // Calculate principal for this payment\n    const principalPayment = monthlyPayment - interestPayment;\n    \n    // Update remaining balance\n    remainingBalance -= principalPayment;\n\n    schedule.push({\n      id: `PAY-${i}-${Date.now()}`,\n      paymentNumber: i,\n      type: 'monthly',\n      amount: monthlyPayment,\n      dueDate: new Date(currentDate).toISOString(),\n      status: 'pending',\n      principal: principalPayment,\n      interest: interestPayment,\n      remainingBalance: Math.max(0, Math.round(remainingBalance))\n    });\n\n    // Move to next month\n    currentDate.setMonth(currentDate.getMonth() + 1);\n  }\n\n  return schedule;\n};\n\n/**\n * Calculate total interest paid over the life of the loan\n */\nexport const calculateTotalInterest = (loanAmount, annualInterestRate, loanTermYears) => {\n  const monthlyPayment = calculateMonthlyPayment(loanAmount, annualInterestRate, loanTermYears);\n  const totalPayments = loanTermYears * 12;\n  const totalAmountPaid = monthlyPayment * totalPayments;\n  return totalAmountPaid - loanAmount;\n};\n\n/**\n * Get the next payment in the schedule\n */\nexport const getNextPayment = (schedule) => {\n  if (!schedule || schedule.length === 0) return null;\n  \n  const now = new Date();\n  const upcomingPayments = schedule.filter(payment => {\n    const dueDate = new Date(payment.dueDate);\n    return dueDate >= now && payment.status === 'pending';\n  });\n\n  return upcomingPayments.length > 0 ? upcomingPayments[0] : null;\n};\n\n/**\n * Calculate days until next payment\n */\nexport const getDaysUntilPayment = (dueDate) => {\n  const now = new Date();\n  const due = new Date(dueDate);\n  const diffTime = due - now;\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return diffDays;\n};\n\n/**\n * Get all pending payments within a date range\n */\nexport const getUpcomingPayments = (schedule, daysAhead = 30) => {\n  if (!schedule || schedule.length === 0) return [];\n  \n  const now = new Date();\n  const futureDate = new Date();\n  futureDate.setDate(futureDate.getDate() + daysAhead);\n\n  return schedule.filter(payment => {\n    const dueDate = new Date(payment.dueDate);\n    return dueDate >= now && dueDate <= futureDate && payment.status === 'pending';\n  });\n};\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useMortgage } from '../contexts/MortgageContext';\nimport { FaCreditCard, FaCheck, FaArrowLeft, FaLock, FaHome, FaCalendar, FaMoneyBillWave } from 'react-icons/fa';\nimport toast from 'react-hot-toast';\n\nconst MortgagePaymentFlow = ({ mortgageId, onPaymentSuccess, onClose }) => {\n  const { user } = useAuth();\n  const { getMortgageById, makePayment } = useMortgage();\n  const navigate = useNavigate();\n  \n  const [step, setStep] = useState(1); // 1: Review, 2: Payment Method, 3: Confirmation\n  const [paymentMethod, setPaymentMethod] = useState('flutterwave');\n  const [paymentData, setPaymentData] = useState({\n    cardNumber: '',\n    expiryDate: '',\n    cvv: '',\n    cardholderName: ''\n  });\n  const [processing, setProcessing] = useState(false);\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\n\n  const mortgage = getMortgageById(mortgageId);\n\n  if (!mortgage) {\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n        <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\n          <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Mortgage Not Found</h3>\n          <p className=\"text-gray-600 mb-4\">The requested mortgage could not be found.</p>\n          <button\n            onClick={onClose}\n            className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const handlePaymentDataChange = (field, value) => {\n    setPaymentData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleProceedToPayment = () => {\n    setStep(2);\n  };\n\n  const handleProcessPayment = async () => {\n    try {\n      // Validate payment data if card payment\n      if (paymentMethod === 'card') {\n        if (!paymentData.cardNumber || !paymentData.expiryDate || !paymentData.cvv || !paymentData.cardholderName) {\n          toast.error('Please fill in all payment details');\n          return;\n        }\n      }\n\n      setProcessing(true);\n\n      // Simulate payment processing\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      // Make the payment\n      const result = await makePayment(mortgage.id, mortgage.monthlyPayment, paymentMethod);\n      \n      if (result.success) {\n        setPaymentSuccess(true);\n        setStep(3);\n        if (onPaymentSuccess) {\n          onPaymentSuccess(result.payment, result.mortgage);\n        }\n      } else {\n        toast.error(result.error || 'Payment failed');\n      }\n    } catch (error) {\n      console.error('Payment error:', error);\n      toast.error('Payment processing failed');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const formatCardNumber = (value) => {\n    const v = value.replace(/\\s+/g, '').replace(/[^0-9]/gi, '');\n    const matches = v.match(/\\d{4,16}/g);\n    const match = matches && matches[0] || '';\n    const parts = [];\n    for (let i = 0, len = match.length; i < len; i += 4) {\n      parts.push(match.substring(i, i + 4));\n    }\n    if (parts.length) {\n      return parts.join(' ');\n    } else {\n      return v;\n    }\n  };\n\n  const formatExpiryDate = (value) => {\n    const v = value.replace(/\\s+/g, '').replace(/[^0-9]/gi, '');\n    if (v.length >= 2) {\n      return v.substring(0, 2) + '/' + v.substring(2, 4);\n    }\n    return v;\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <h3 className=\"text-xl font-bold text-gray-900\">Mortgage Payment</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"p-6\">\n          {/* Step 1: Payment Review */}\n          {step === 1 && (\n            <div className=\"space-y-6\">\n              <div className=\"bg-blue-50 rounded-lg p-4\">\n                <div className=\"flex items-center space-x-3\">\n                  <FaHome className=\"text-blue-600 text-xl\" />\n                  <div>\n                    <h4 className=\"font-semibold text-blue-900\">{mortgage.propertyTitle}</h4>\n                    <p className=\"text-blue-700 text-sm\">{mortgage.propertyLocation}</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <h4 className=\"font-semibold text-gray-900 mb-3\">Payment Details</h4>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Monthly Payment:</span>\n                    <span className=\"font-semibold text-gray-900\">₦{mortgage.monthlyPayment.toLocaleString()}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Due Date:</span>\n                    <span className=\"font-semibold text-gray-900\">\n                      {new Date(mortgage.nextPaymentDate).toLocaleDateString()}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Payment #:</span>\n                    <span className=\"font-semibold text-gray-900\">{mortgage.paymentsMade + 1} of {mortgage.totalPayments}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-green-50 rounded-lg p-4\">\n                <div className=\"flex items-center space-x-3\">\n                  <FaLock className=\"text-green-600 text-xl\" />\n                  <div>\n                    <h4 className=\"font-semibold text-green-900\">Secure Payment</h4>\n                    <p className=\"text-green-700 text-sm\">Your payment is protected by bank-level security</p>\n                  </div>\n                </div>\n              </div>\n\n              <button\n                onClick={handleProceedToPayment}\n                className=\"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold\"\n              >\n                Continue to Payment\n              </button>\n            </div>\n          )}\n\n          {/* Step 2: Payment Method */}\n          {step === 2 && (\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center space-x-3\">\n                <button\n                  onClick={() => setStep(1)}\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n                >\n                  <FaArrowLeft className=\"text-lg\" />\n                </button>\n                <h4 className=\"text-lg font-semibold text-gray-900\">Payment Method</h4>\n              </div>\n\n              {/* Payment Method Selection */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <input\n                    type=\"radio\"\n                    id=\"flutterwave\"\n                    name=\"paymentMethod\"\n                    value=\"flutterwave\"\n                    checked={paymentMethod === 'flutterwave'}\n                    onChange={(e) => setPaymentMethod(e.target.value)}\n                    className=\"text-blue-600\"\n                  />\n                  <label htmlFor=\"flutterwave\" className=\"flex items-center space-x-3 cursor-pointer\">\n                    <FaCreditCard className=\"text-blue-600\" />\n                    <span className=\"font-medium\">Pay with Flutterwave</span>\n                  </label>\n                </div>\n\n                <div className=\"flex items-center space-x-3\">\n                  <input\n                    type=\"radio\"\n                    id=\"card\"\n                    name=\"paymentMethod\"\n                    value=\"card\"\n                    checked={paymentMethod === 'card'}\n                    onChange={(e) => setPaymentMethod(e.target.value)}\n                    className=\"text-blue-600\"\n                  />\n                  <label htmlFor=\"card\" className=\"flex items-center space-x-3 cursor-pointer\">\n                    <FaCreditCard className=\"text-gray-600\" />\n                    <span className=\"font-medium\">Credit/Debit Card</span>\n                  </label>\n                </div>\n              </div>\n\n              {/* Card Details (if card payment selected) */}\n              {paymentMethod === 'card' && (\n                <div className=\"space-y-4 p-4 bg-gray-50 rounded-lg\">\n                  <h5 className=\"font-semibold text-gray-900\">Card Details</h5>\n                  <div className=\"space-y-3\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Card Number</label>\n                      <input\n                        type=\"text\"\n                        value={paymentData.cardNumber}\n                        onChange={(e) => handlePaymentDataChange('cardNumber', formatCardNumber(e.target.value))}\n                        placeholder=\"1234 5678 9012 3456\"\n                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        maxLength={19}\n                      />\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-3\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Expiry Date</label>\n                        <input\n                          type=\"text\"\n                          value={paymentData.expiryDate}\n                          onChange={(e) => handlePaymentDataChange('expiryDate', formatExpiryDate(e.target.value))}\n                          placeholder=\"MM/YY\"\n                          className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                          maxLength={5}\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">CVV</label>\n                        <input\n                          type=\"text\"\n                          value={paymentData.cvv}\n                          onChange={(e) => handlePaymentDataChange('cvv', e.target.value.replace(/\\D/g, ''))}\n                          placeholder=\"123\"\n                          className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                          maxLength={4}\n                        />\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Cardholder Name</label>\n                      <input\n                        type=\"text\"\n                        value={paymentData.cardholderName}\n                        onChange={(e) => handlePaymentDataChange('cardholderName', e.target.value)}\n                        placeholder=\"John Doe\"\n                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Payment Summary */}\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <h5 className=\"font-semibold text-gray-900 mb-3\">Payment Summary</h5>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Monthly Payment:</span>\n                    <span className=\"font-semibold text-gray-900\">₦{mortgage.monthlyPayment.toLocaleString()}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Processing Fee:</span>\n                    <span className=\"font-semibold text-gray-900\">₦0</span>\n                  </div>\n                  <hr className=\"border-gray-300\" />\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-semibold text-gray-900\">Total:</span>\n                    <span className=\"font-semibold text-gray-900\">₦{mortgage.monthlyPayment.toLocaleString()}</span>\n                  </div>\n                </div>\n              </div>\n\n              <button\n                onClick={handleProcessPayment}\n                disabled={processing}\n                className=\"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {processing ? 'Processing Payment...' : 'Pay ₦' + mortgage.monthlyPayment.toLocaleString()}\n              </button>\n            </div>\n          )}\n\n          {/* Step 3: Payment Confirmation */}\n          {step === 3 && paymentSuccess && (\n            <div className=\"space-y-6 text-center\">\n              <div className=\"flex justify-center\">\n                <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center\">\n                  <FaCheck className=\"text-green-600 text-2xl\" />\n                </div>\n              </div>\n\n              <div>\n                <h4 className=\"text-xl font-bold text-gray-900 mb-2\">Payment Successful!</h4>\n                <p className=\"text-gray-600\">\n                  Your mortgage payment of ₦{mortgage.monthlyPayment.toLocaleString()} has been processed successfully.\n                </p>\n              </div>\n\n              <div className=\"bg-green-50 rounded-lg p-4\">\n                <div className=\"flex items-center justify-center space-x-3 mb-2\">\n                  <FaCalendar className=\"text-green-600\" />\n                  <span className=\"font-semibold text-green-900\">Next Payment Due</span>\n                </div>\n                <p className=\"text-green-700\">\n                  {new Date(mortgage.nextPaymentDate).toLocaleDateString()} - ₦{mortgage.monthlyPayment.toLocaleString()}\n                </p>\n              </div>\n\n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={onClose}\n                  className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  Close\n                </button>\n                <button\n                  onClick={() => navigate('/mortgage')}\n                  className=\"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors\"\n                >\n                  View Mortgages\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MortgagePaymentFlow;\n","import React, { useState } from 'react';\nimport { FaCalculator, FaDollarSign, FaChartLine, FaLightbulb } from 'react-icons/fa';\n\nconst ExtraPaymentCalculator = ({ mortgage, onClose }) => {\n  const [extraPaymentAmount, setExtraPaymentAmount] = useState('');\n  const [results, setResults] = useState(null);\n\n  const calculateSavings = () => {\n    if (!extraPaymentAmount || parseFloat(extraPaymentAmount) <= 0) {\n      setResults(null);\n      return;\n    }\n\n    const extra = parseFloat(extraPaymentAmount);\n    const monthlyRate = mortgage.interestRate / 100 / 12;\n    const remainingPayments = mortgage.paymentsRemaining;\n    const currentMonthlyPayment = mortgage.monthlyPayment;\n\n    // Calculate remaining balance\n    let remainingBalance = 0;\n    if (mortgage.paymentSchedule && mortgage.paymentSchedule.length > 0) {\n      const unpaidPayments = mortgage.paymentSchedule.filter(p => p.status === 'pending');\n      if (unpaidPayments.length > 0) {\n        remainingBalance = unpaidPayments[unpaidPayments.length - 1].remainingBalance;\n      }\n    } else {\n      remainingBalance = remainingPayments * currentMonthlyPayment;\n    }\n\n    // Apply extra payment to principal\n    const newBalance = remainingBalance - extra;\n    \n    if (newBalance <= 0) {\n      // Loan will be paid off\n      setResults({\n        payoffTimeMonths: 0,\n        payoffTimeYears: 0,\n        interestSaved: 0,\n        newMonthlyPayment: 0,\n        newRemainingPayments: 0\n      });\n      return;\n    }\n\n    // Calculate new number of payments\n    let newPayments = 0;\n    if (monthlyRate > 0) {\n      newPayments = Math.ceil(\n        -Math.log(1 - (newBalance * monthlyRate) / currentMonthlyPayment) / Math.log(1 + monthlyRate)\n      );\n    } else {\n      newPayments = Math.ceil(newBalance / currentMonthlyPayment);\n    }\n\n    // Calculate interest saved\n    const originalTotalPayments = remainingPayments;\n    const originalTotalInterest = originalTotalPayments * currentMonthlyPayment - remainingBalance;\n    const newTotalInterest = newPayments * currentMonthlyPayment - newBalance;\n    const interestSaved = originalTotalInterest - newTotalInterest;\n\n    setResults({\n      payoffTimeMonths: Math.max(0, remainingPayments - newPayments),\n      payoffTimeYears: ((remainingPayments - newPayments) / 12).toFixed(1),\n      interestSaved: Math.max(0, interestSaved),\n      newMonthlyPayment: currentMonthlyPayment,\n      newRemainingPayments: Math.max(0, newPayments)\n    });\n  };\n\n  const handleChange = (value) => {\n    const numericValue = value.replace(/[^0-9.]/g, '');\n    setExtraPaymentAmount(numericValue);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900 flex items-center\">\n            <FaCalculator className=\"mr-2 text-blue-600\" />\n            Extra Payment Calculator\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 text-2xl\"\n          >\n            ×\n          </button>\n        </div>\n\n        <div className=\"mb-6\">\n          <p className=\"text-gray-600 mb-4\">\n            Calculate how much you can save by making extra payments toward your principal.\n          </p>\n\n          <div className=\"bg-blue-50 rounded-lg p-4 mb-6\">\n            <h3 className=\"font-semibold text-gray-900 mb-2\">Current Mortgage Details</h3>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"text-gray-600\">Remaining Balance:</span>\n                <p className=\"font-semibold text-gray-900\">\n                  ₦{(mortgage.paymentsRemaining * mortgage.monthlyPayment).toLocaleString()}\n                </p>\n              </div>\n              <div>\n                <span className=\"text-gray-600\">Monthly Payment:</span>\n                <p className=\"font-semibold text-gray-900\">\n                  ₦{mortgage.monthlyPayment.toLocaleString()}\n                </p>\n              </div>\n              <div>\n                <span className=\"text-gray-600\">Remaining Payments:</span>\n                <p className=\"font-semibold text-gray-900\">{mortgage.paymentsRemaining} months</p>\n              </div>\n              <div>\n                <span className=\"text-gray-600\">Interest Rate:</span>\n                <p className=\"font-semibold text-gray-900\">{mortgage.interestRate}%</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Extra Payment Amount (₦)\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={extraPaymentAmount}\n                onChange={(e) => {\n                  handleChange(e.target.value);\n                  setTimeout(calculateSavings, 100);\n                }}\n                placeholder=\"Enter amount\"\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-3 pl-10 text-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n              <FaDollarSign className=\"absolute left-3 top-4 text-gray-400\" />\n            </div>\n            <p className=\"text-xs text-gray-500 mt-2\">\n              Enter a one-time extra payment amount\n            </p>\n          </div>\n        </div>\n\n        {results && (\n          <div className=\"space-y-4 mb-6\">\n            <div className=\"bg-green-50 rounded-lg p-4\">\n              <div className=\"flex items-start\">\n                <FaLightbulb className=\"text-green-600 mr-2 mt-1\" />\n                <div>\n                  <h3 className=\"font-semibold text-green-900 mb-2\">Your Savings</h3>\n                  <p className=\"text-sm text-green-700\">\n                    By paying an extra ₦{parseFloat(extraPaymentAmount).toLocaleString()} today, you can:\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                <div className=\"flex items-center mb-2\">\n                  <FaChartLine className=\"text-blue-600 mr-2\" />\n                  <span className=\"text-sm font-medium text-gray-600\">Time Saved</span>\n                </div>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {results.payoffTimeMonths} months\n                </p>\n                <p className=\"text-sm text-gray-500\">\n                  ({results.payoffTimeYears} years faster)\n                </p>\n              </div>\n\n              <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                <div className=\"flex items-center mb-2\">\n                  <FaDollarSign className=\"text-green-600 mr-2\" />\n                  <span className=\"text-sm font-medium text-gray-600\">Interest Saved</span>\n                </div>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  ₦{results.interestSaved.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                </p>\n                <p className=\"text-sm text-gray-500\">Total interest reduction</p>\n              </div>\n            </div>\n\n            {results.payoffTimeMonths > 0 && (\n              <div className=\"bg-blue-50 rounded-lg p-4\">\n                <h4 className=\"font-semibold text-blue-900 mb-2\">New Payoff Timeline</h4>\n                <div className=\"text-sm text-blue-700\">\n                  <p>New remaining payments: <span className=\"font-semibold\">{results.newRemainingPayments} months</span></p>\n                  <p className=\"mt-1\">\n                    You'll pay off your mortgage {results.payoffTimeMonths} months earlier!\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {results.payoffTimeMonths === 0 && (\n              <div className=\"bg-yellow-50 rounded-lg p-4\">\n                <h4 className=\"font-semibold text-yellow-900 mb-2\">Mortgage Paid Off!</h4>\n                <p className=\"text-sm text-yellow-700\">\n                  This extra payment would pay off your entire mortgage balance.\n                  You would save ₦{results.interestSaved.toLocaleString()} in interest!\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n\n        <div className=\"flex space-x-3\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors font-medium\"\n          >\n            Close\n          </button>\n          {results && (\n            <button\n              onClick={() => {\n                // Here you could add functionality to make the extra payment\n                console.log('Making extra payment:', extraPaymentAmount);\n                onClose();\n              }}\n              className=\"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium\"\n            >\n              Apply Extra Payment\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ExtraPaymentCalculator;\n","import React, { useState } from 'react';\nimport { useMortgage } from '../contexts/MortgageContext';\nimport { useNavigate } from 'react-router-dom';\nimport { FaHome, FaCalendar, FaMoneyBillWave, FaCheckCircle, FaExclamationTriangle, FaCreditCard, FaEye, FaChartLine, FaHistory, FaFileDownload, FaInfoCircle, FaToggleOn, FaToggleOff, FaCalculator } from 'react-icons/fa';\nimport { getDaysUntilPayment } from '../utils/mortgageCalculator';\nimport MortgagePaymentFlow from './MortgagePaymentFlow';\nimport ExtraPaymentCalculator from './ExtraPaymentCalculator';\nimport toast from 'react-hot-toast';\n\nconst MortgageDashboard = () => {\n  const { getUserMortgages, getUpcomingPayments, getPaymentSummary, enableAutoPay, disableAutoPay } = useMortgage();\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [selectedMortgage, setSelectedMortgage] = useState(null);\n  const [showPaymentHistory, setShowPaymentHistory] = useState({});\n  const [showExtraPaymentCalc, setShowExtraPaymentCalc] = useState(false);\n  const navigate = useNavigate();\n\n  const mortgages = getUserMortgages();\n  const upcomingPayments = getUpcomingPayments();\n  const paymentSummary = getPaymentSummary();\n\n  const handleMakePayment = (mortgage) => {\n    setSelectedMortgage(mortgage);\n    setShowPaymentModal(true);\n  };\n\n  const handlePaymentSuccess = (payment, updatedMortgage) => {\n    toast.success('Payment processed successfully!');\n    setShowPaymentModal(false);\n    setSelectedMortgage(null);\n  };\n\n  const togglePaymentHistory = (mortgageId) => {\n    setShowPaymentHistory(prev => ({\n      ...prev,\n      [mortgageId]: !prev[mortgageId]\n    }));\n  };\n\n  const handleToggleAutoPay = async (mortgage, enabled) => {\n    if (enabled) {\n      await disableAutoPay(mortgage.id);\n    } else {\n      await enableAutoPay(mortgage.id);\n    }\n  };\n\n  const handleExportPaymentHistory = (mortgage) => {\n    if (!mortgage.paymentHistory || mortgage.paymentHistory.length === 0) {\n      toast.error('No payment history to export');\n      return;\n    }\n\n    const csvContent = [\n      ['Payment ID', 'Date', 'Amount', 'Due Date', 'Status', 'Method'].join(','),\n      ...mortgage.paymentHistory.map(p => [\n        p.id,\n        new Date(p.paidDate).toLocaleDateString(),\n        `₦${p.amount.toLocaleString()}`,\n        new Date(p.dueDate).toLocaleDateString(),\n        p.status,\n        p.paymentMethod\n      ].join(','))\n    ].join('\\n');\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `mortgage-payments-${mortgage.id}-${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n    toast.success('Payment history exported successfully!');\n  };\n\n  const getPaymentStatusColor = (daysUntilPayment) => {\n    if (daysUntilPayment <= 0) return 'text-red-600 bg-red-100';\n    if (daysUntilPayment <= 7) return 'text-orange-600 bg-orange-100';\n    if (daysUntilPayment <= 14) return 'text-yellow-600 bg-yellow-100';\n    return 'text-green-600 bg-green-100';\n  };\n\n  const getPaymentStatusText = (daysUntilPayment) => {\n    if (daysUntilPayment <= 0) return 'Overdue';\n    if (daysUntilPayment <= 7) return 'Due Soon';\n    if (daysUntilPayment <= 14) return 'Upcoming';\n    return 'Scheduled';\n  };\n\n  // Calculate financial insights\n  const calculateMortgageInsights = (mortgage) => {\n    const totalInterest = mortgage.totalPayments * mortgage.monthlyPayment - mortgage.loanAmount;\n    const totalPaid = mortgage.paymentsMade * mortgage.monthlyPayment;\n    const remainingPayments = mortgage.totalPayments - mortgage.paymentsMade;\n    const remainingBalance = remainingPayments * mortgage.monthlyPayment;\n    const interestPaid = mortgage.paymentHistory.reduce((sum, p) => {\n      const schedulePayment = mortgage.paymentSchedule?.find(sp => sp.paymentNumber === p.paymentNumber);\n      return sum + (schedulePayment?.interest || 0);\n    }, 0);\n    const principalPaid = totalPaid - interestPaid;\n\n    return {\n      totalInterest,\n      totalPaid,\n      remainingBalance,\n      interestPaid,\n      principalPaid,\n      percentagePaid: ((mortgage.paymentsMade / mortgage.totalPayments) * 100).toFixed(1)\n    };\n  };\n\n  if (mortgages.length === 0) {\n    return (\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"text-center py-8\">\n          <FaHome className=\"text-gray-300 text-4xl mx-auto mb-3\" />\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Active Mortgages</h3>\n          <p className=\"text-gray-600 mb-4\">You don't have any active mortgage accounts.</p>\n          <button\n            onClick={() => window.location.href = '/mortgage'}\n            className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Apply for Mortgage\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Payment Summary */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-600 text-sm font-medium\">Active Mortgages</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{paymentSummary.activeMortgages}</p>\n            </div>\n            <FaHome className=\"text-blue-600 text-xl\" />\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-600 text-sm font-medium\">Monthly Payments</p>\n              <p className=\"text-2xl font-bold text-gray-900\">₦{paymentSummary.totalMonthlyPayments.toLocaleString()}</p>\n            </div>\n            <FaMoneyBillWave className=\"text-green-600 text-xl\" />\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-600 text-sm font-medium\">Total Paid</p>\n              <p className=\"text-2xl font-bold text-gray-900\">₦{paymentSummary.totalPaid.toLocaleString()}</p>\n            </div>\n            <FaCheckCircle className=\"text-purple-600 text-xl\" />\n          </div>\n        </div>\n      </div>\n\n      {/* Upcoming Payments */}\n      {upcomingPayments.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <FaCalendar className=\"mr-2 text-blue-600\" />\n              Upcoming Payments\n            </h3>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {upcomingPayments.map((payment) => (\n                <div key={payment.mortgageId} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-medium text-gray-900\">{payment.mortgageTitle || payment.propertyTitle}</h4>\n                    <p className=\"text-sm text-gray-600\">{payment.mortgageLocation || payment.propertyLocation}</p>\n                    <p className=\"text-sm text-gray-600\">\n                      Due: {new Date(payment.dueDate).toLocaleDateString()}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"text-right\">\n                      <p className=\"font-semibold text-gray-900\">₦{payment.paymentAmount.toLocaleString()}</p>\n                      <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${getPaymentStatusColor(payment.daysUntilPayment)}`}>\n                        {getPaymentStatusText(payment.daysUntilPayment)}\n                      </span>\n                      {payment.payment && (\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          {payment.daysUntilPayment} days away\n                        </p>\n                      )}\n                    </div>\n                    <button\n                      onClick={() => {\n                        const mortgage = mortgages.find(m => m.id === payment.mortgageId);\n                        if (mortgage) handleMakePayment(mortgage);\n                      }}\n                      className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2\"\n                    >\n                      <FaCreditCard />\n                      <span>Pay Now</span>\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* All Mortgages */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"p-6 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">Your Mortgages</h3>\n        </div>\n        <div className=\"p-6\">\n          <div className=\"space-y-6\">\n            {mortgages.map((mortgage) => {\n              const insights = calculateMortgageInsights(mortgage);\n              return (\n                <div key={mortgage.id} className=\"border border-gray-200 rounded-lg p-6\">\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div className=\"flex-1\">\n                      <h4 className=\"text-lg font-semibold text-gray-900 mb-1\">{mortgage.propertyTitle}</h4>\n                      <p className=\"text-gray-600 mb-2\">{mortgage.propertyLocation}</p>\n                      <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\n                        <span>Loan: ₦{mortgage.loanAmount.toLocaleString()}</span>\n                        <span>Rate: {mortgage.interestRate}%</span>\n                        <span>Term: {mortgage.loanTerm} years</span>\n                      </div>\n                    </div>\n                    <span className={`inline-flex px-3 py-1 text-sm font-medium rounded-full ${\n                      mortgage.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                    }`}>\n                      {mortgage.status}\n                    </span>\n                  </div>\n\n                  {/* Financial Insights */}\n                  <div className=\"bg-blue-50 rounded-lg p-4 mb-4\">\n                    <div className=\"flex items-start\">\n                      <FaInfoCircle className=\"text-blue-600 mt-1 mr-2\" />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm font-medium text-blue-900 mb-2\">Financial Overview</p>\n                        <div className=\"grid grid-cols-2 gap-3 text-sm\">\n                          <div>\n                            <span className=\"text-blue-700\">Principal Paid:</span>\n                            <p className=\"font-semibold text-blue-900\">₦{insights.principalPaid.toLocaleString()}</p>\n                          </div>\n                          <div>\n                            <span className=\"text-blue-700\">Interest Paid:</span>\n                            <p className=\"font-semibold text-blue-900\">₦{insights.interestPaid.toLocaleString()}</p>\n                          </div>\n                          <div>\n                            <span className=\"text-blue-700\">Remaining Balance:</span>\n                            <p className=\"font-semibold text-blue-900\">₦{insights.remainingBalance.toLocaleString()}</p>\n                          </div>\n                          <div>\n                            <span className=\"text-blue-700\">Completion:</span>\n                            <p className=\"font-semibold text-blue-900\">{insights.percentagePaid}%</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <div className=\"flex items-center space-x-2 mb-2\">\n                        <FaMoneyBillWave className=\"text-green-600\" />\n                        <span className=\"text-sm font-medium text-gray-600\">Monthly Payment</span>\n                      </div>\n                      <p className=\"text-xl font-bold text-gray-900\">₦{mortgage.monthlyPayment.toLocaleString()}</p>\n                      {mortgage.paymentSchedule && mortgage.paymentSchedule.length > 0 && (\n                        <button\n                          onClick={() => togglePaymentHistory(mortgage.id)}\n                          className=\"text-xs text-blue-600 hover:underline mt-2 flex items-center\"\n                        >\n                          <FaHistory className=\"mr-1\" />\n                          View Schedule\n                        </button>\n                      )}\n                    </div>\n\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <div className=\"flex items-center space-x-2 mb-2\">\n                        <FaCalendar className=\"text-blue-600\" />\n                        <span className=\"text-sm font-medium text-gray-600\">Next Payment</span>\n                      </div>\n                      <p className=\"text-lg font-semibold text-gray-900\">\n                        {new Date(mortgage.nextPaymentDate).toLocaleDateString()}\n                      </p>\n                      {mortgage.paymentSchedule && mortgage.paymentSchedule.length > 0 && (\n                        mortgage.paymentSchedule.find(p => p.status === 'pending') && (\n                          <p className=\"text-xs text-gray-500 mt-1\">\n                            {getDaysUntilPayment(mortgage.paymentSchedule.find(p => p.status === 'pending').dueDate)} days away\n                          </p>\n                        )\n                      )}\n                    </div>\n\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <div className=\"flex items-center space-x-2 mb-2\">\n                        <FaChartLine className=\"text-purple-600\" />\n                        <span className=\"text-sm font-medium text-gray-600\">Progress</span>\n                      </div>\n                      <p className=\"text-lg font-semibold text-gray-900\">\n                        {mortgage.paymentsMade}/{mortgage.totalPayments}\n                      </p>\n                      <div className=\"w-full bg-gray-200 rounded-full h-2 mt-1\">\n                        <div \n                          className=\"bg-blue-600 h-2 rounded-full transition-all\" \n                          style={{ width: `${insights.percentagePaid}%` }}\n                        ></div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Payment History */}\n                  {showPaymentHistory[mortgage.id] && mortgage.paymentSchedule && (\n                    <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <h5 className=\"font-semibold text-gray-900 flex items-center\">\n                          <FaHistory className=\"mr-2\" />\n                          Payment Schedule\n                        </h5>\n                        <button\n                          onClick={() => togglePaymentHistory(mortgage.id)}\n                          className=\"text-sm text-blue-600 hover:underline\"\n                        >\n                          Hide\n                        </button>\n                      </div>\n                      <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n                        {mortgage.paymentSchedule.slice(0, 12).map((payment) => (\n                          <div key={payment.id} className=\"flex items-center justify-between py-2 px-3 bg-white rounded border\">\n                            <div>\n                              <span className=\"font-medium text-sm\">\n                                {payment.type === 'down-payment' ? 'Down Payment' : `Payment #${payment.paymentNumber}`}\n                              </span>\n                              <p className=\"text-xs text-gray-500\">\n                                Due: {new Date(payment.dueDate).toLocaleDateString()}\n                                {payment.principal && payment.interest && (\n                                  <span className=\"ml-2\">\n                                    (₦{payment.principal.toLocaleString()} principal, ₦{payment.interest.toLocaleString()} interest)\n                                  </span>\n                                )}\n                              </p>\n                            </div>\n                            <div className=\"text-right\">\n                              <p className=\"font-semibold text-sm\">₦{payment.amount.toLocaleString()}</p>\n                              <span className={`inline-flex px-2 py-0.5 text-xs rounded-full ${\n                                payment.status === 'paid' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                              }`}>\n                                {payment.status}\n                              </span>\n                            </div>\n                          </div>\n                        ))}\n                        {mortgage.paymentSchedule.length > 12 && (\n                          <p className=\"text-sm text-gray-500 text-center py-2\">\n                            + {mortgage.paymentSchedule.length - 12} more payments\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"flex items-center justify-between mt-4\">\n                    <div className=\"text-sm text-gray-600\">\n                      <p>Remaining: ₦{insights.remainingBalance.toLocaleString()}</p>\n                      <p>Total Paid: ₦{insights.totalPaid.toLocaleString()}</p>\n                    </div>\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={() => navigate(`/property/${mortgage.propertyId}`)}\n                        className=\"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2\"\n                      >\n                        <FaEye />\n                        <span>View Property</span>\n                      </button>\n                      <button\n                        onClick={() => handleMakePayment(mortgage)}\n                        className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2\"\n                      >\n                        <FaCreditCard />\n                        <span>Make Payment</span>\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Auto-Pay Toggle and Additional Actions */}\n                  <div className=\"border-t border-gray-200 mt-4 pt-4\">\n                    <div className=\"flex items-center justify-between flex-wrap gap-3\">\n                      <button\n                        onClick={() => handleToggleAutoPay(mortgage, mortgage.autoPay)}\n                        className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${\n                          mortgage.autoPay\n                            ? 'bg-green-100 text-green-700 hover:bg-green-200'\n                            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                        }`}\n                      >\n                        {mortgage.autoPay ? (\n                          <>\n                            <FaToggleOn className=\"text-xl\" />\n                            <span className=\"text-sm font-medium\">Auto-Pay On</span>\n                          </>\n                        ) : (\n                          <>\n                            <FaToggleOff className=\"text-xl\" />\n                            <span className=\"text-sm font-medium\">Auto-Pay Off</span>\n                          </>\n                        )}\n                      </button>\n\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={() => setShowExtraPaymentCalc(mortgage)}\n                          className=\"bg-purple-100 text-purple-700 px-4 py-2 rounded-lg hover:bg-purple-200 transition-colors flex items-center space-x-2\"\n                        >\n                          <FaCalculator />\n                          <span className=\"text-sm\">Extra Payment</span>\n                        </button>\n                        <button\n                          onClick={() => handleExportPaymentHistory(mortgage)}\n                          className=\"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2\"\n                        >\n                          <FaFileDownload />\n                          <span className=\"text-sm\">Export History</span>\n                        </button>\n                      </div>\n                    </div>\n                    {mortgage.autoPay && (\n                      <p className=\"text-xs text-green-600 mt-2\">\n                        ✓ Payments will be automatically processed on the due date\n                      </p>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n\n      {/* Payment Modal */}\n      {showPaymentModal && selectedMortgage && (\n        <MortgagePaymentFlow\n          mortgageId={selectedMortgage.id}\n          onPaymentSuccess={handlePaymentSuccess}\n          onClose={() => {\n            setShowPaymentModal(false);\n            setSelectedMortgage(null);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default MortgageDashboard;\n","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport MortgageDashboard from '../components/MortgageDashboard';\nimport { FaHome, FaPlus } from 'react-icons/fa';\n\nconst Mortgages = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n\n  if (!user) {\n    navigate('/');\n    return null;\n  }\n\n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">My Mortgages</h1>\n            <p className=\"text-gray-600\">\n              Manage your mortgage payments and track your property financing progress.\n            </p>\n          </div>\n          <button\n            onClick={() => navigate('/mortgage')}\n            className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2\"\n          >\n            <FaPlus />\n            <span>Apply for Mortgage</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Mortgage Dashboard */}\n      <MortgageDashboard />\n    </div>\n  );\n};\n\nexport default Mortgages;"],"names":["getDaysUntilPayment","dueDate","now","Date","diffTime","Math","ceil","_ref","mortgageId","onPaymentSuccess","onClose","user","useAuth","getMortgageById","makePayment","useMortgage","navigate","useNavigate","step","setStep","useState","paymentMethod","setPaymentMethod","paymentData","setPaymentData","cardNumber","expiryDate","cvv","cardholderName","processing","setProcessing","paymentSuccess","setPaymentSuccess","mortgage","_jsx","className","children","_jsxs","onClick","handlePaymentDataChange","field","value","prev","_objectSpread","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","FaHome","propertyTitle","propertyLocation","monthlyPayment","toLocaleString","nextPaymentDate","toLocaleDateString","paymentsMade","totalPayments","FaLock","handleProceedToPayment","FaArrowLeft","type","id","name","checked","onChange","e","target","htmlFor","FaCreditCard","v","replace","matches","match","parts","i","len","length","push","substring","join","formatCardNumber","placeholder","maxLength","formatExpiryDate","async","toast","error","Promise","resolve","setTimeout","result","success","payment","console","disabled","FaCheck","FaCalendar","MortgageDashboard","getUserMortgages","getUpcomingPayments","getPaymentSummary","enableAutoPay","disableAutoPay","showPaymentModal","setShowPaymentModal","selectedMortgage","setSelectedMortgage","showPaymentHistory","setShowPaymentHistory","showExtraPaymentCalc","setShowExtraPaymentCalc","mortgages","upcomingPayments","paymentSummary","handleMakePayment","togglePaymentHistory","getPaymentStatusText","daysUntilPayment","window","location","href","activeMortgages","totalMonthlyPayments","FaMoneyBillWave","totalPaid","FaCheckCircle","map","mortgageTitle","mortgageLocation","paymentAmount","concat","find","m","insights","totalInterest","loanAmount","remainingBalance","interestPaid","paymentHistory","reduce","sum","p","_mortgage$paymentSche","schedulePayment","paymentSchedule","sp","paymentNumber","interest","principalPaid","percentagePaid","toFixed","calculateMortgageInsights","interestRate","loanTerm","status","FaInfoCircle","FaHistory","FaChartLine","style","width","slice","principal","amount","propertyId","FaEye","enabled","handleToggleAutoPay","autoPay","_Fragment","FaToggleOn","FaToggleOff","FaCalculator","csvContent","paidDate","blob","Blob","url","URL","createObjectURL","a","document","createElement","download","toISOString","split","body","appendChild","click","removeChild","revokeObjectURL","handleExportPaymentHistory","FaFileDownload","MortgagePaymentFlow","handlePaymentSuccess","updatedMortgage","Mortgages","FaPlus"],"sourceRoot":""}