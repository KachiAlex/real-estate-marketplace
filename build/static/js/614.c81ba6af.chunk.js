"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[614],{9614(e,s,t){t.r(s),t.d(s,{default:()=>o});var a=t(5043),l=t(3216),i=t(5016),n=t(3484),r=t(5369),d=t(2339),c=t(9722),x=t(1876),m=t(579);const o=()=>{var e,s,t,o,p,h,g,j,N,v,u,y,b,f;const{id:w}=(0,l.g)(),A=(0,l.Zp)(),{user:k}=(0,i.As)(),{getApplicationById:R,refreshApplications:_}=(0,n.Q)(),[D,T]=(0,a.useState)(null),[L,S]=(0,a.useState)(!0),[P,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{k?B():A("/")},[w,k]);const B=async()=>{try{S(!0),C(null);let e=R(w);if(!e){const s=localStorage.getItem("token");if(!s)throw new Error("Authentication required");const t=await c.A.get((0,x.e9)("/mortgages/".concat(w)),{headers:{Authorization:"Bearer ".concat(s)}});if(!t.data||!t.data.success)throw new Error("Application not found");e=t.data.data}T(e)}catch(t){var e,s;console.error("Error loading application:",t),C((null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||t.message||"Failed to load application"),d.Ay.error("Failed to load application details")}finally{S(!1)}},E=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return L?(0,m.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,m.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,m.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,m.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading application details..."})]})})}):P||!D?(0,m.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,m.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,m.jsx)(r._Hm,{className:"mx-auto h-12 w-12 text-red-400"}),(0,m.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Application Not Found"}),(0,m.jsx)("p",{className:"mt-2 text-gray-600",children:P||"The application you are looking for does not exist."}),(0,m.jsx)("button",{onClick:()=>A("/mortgages/applications"),className:"mt-6 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Applications"})]})})}):(0,m.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,m.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,m.jsxs)("div",{className:"mb-6",children:[(0,m.jsxs)("button",{onClick:()=>A("/mortgages/applications"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[(0,m.jsx)(r.QVr,{className:"mr-2"}),"Back to Applications"]}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Application Details"}),(0,m.jsxs)("p",{className:"mt-2 text-gray-600",children:["Application ID: ",D._id||D.id]})]}),(e=>{const s={pending:{variant:"bg-yellow-100 text-yellow-800",icon:r.w_X,text:"Pending"},under_review:{variant:"bg-blue-100 text-blue-800",icon:r.__w,text:"Under Review"},approved:{variant:"bg-green-100 text-green-800",icon:r.A7C,text:"Approved"},rejected:{variant:"bg-red-100 text-red-800",icon:r._Hm,text:"Rejected"},needs_more_info:{variant:"bg-orange-100 text-orange-800",icon:r.__w,text:"Needs More Info"},withdrawn:{variant:"bg-gray-100 text-gray-800",icon:r.t69,text:"Withdrawn"},prequalification_requested:{variant:"bg-purple-100 text-purple-800",icon:r.__w,text:"Prequalification Requested"}},t=s[e]||s.pending,a=t.icon;return(0,m.jsxs)("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ".concat(t.variant),children:[(0,m.jsx)(a,{className:"mr-2"}),t.text]})})(D.status)]})]}),(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Application Overview"}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Requested Amount"}),(0,m.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20a6",(null===(e=D.requestedAmount)||void 0===e?void 0:e.toLocaleString())||"0"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Down Payment"}),(0,m.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20a6",(null===(s=D.downPayment)||void 0===s?void 0:s.toLocaleString())||"0"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Estimated Monthly Payment"}),(0,m.jsxs)("p",{className:"text-xl font-semibold text-gray-900",children:["\u20a6",(null===(t=D.estimatedMonthlyPayment)||void 0===t?void 0:t.toLocaleString())||"N/A"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Loan Term"}),(0,m.jsxs)("p",{className:"text-xl font-semibold text-gray-900",children:[D.loanTermYears," years"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Interest Rate"}),(0,m.jsxs)("p",{className:"text-xl font-semibold text-gray-900",children:[D.interestRate,"%"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Mortgage Bank"}),(0,m.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:(null===(o=D.mortgageBank)||void 0===o?void 0:o.name)||"N/A"})]})]})]}),D.property&&(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,m.jsxs)("div",{className:"flex items-center mb-4",children:[(0,m.jsx)(r.ymh,{className:"text-blue-600 mr-2"}),(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Property Information"})]}),(0,m.jsxs)("div",{className:"space-y-3",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Property Title"}),(0,m.jsx)("p",{className:"text-lg font-medium text-gray-900",children:(null===(p=D.property)||void 0===p?void 0:p.title)||"N/A"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Location"}),(0,m.jsx)("p",{className:"text-lg font-medium text-gray-900",children:(null===(h=D.property)||void 0===h?void 0:h.location)||"N/A"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Property Price"}),(0,m.jsxs)("p",{className:"text-lg font-medium text-gray-900",children:["\u20a6",(null===(g=D.property)||void 0===g||null===(j=g.price)||void 0===j?void 0:j.toLocaleString())||"N/A"]})]})]})]}),D.employmentDetails&&(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,m.jsxs)("div",{className:"flex items-center mb-4",children:[(0,m.jsx)(r.x$1,{className:"text-blue-600 mr-2"}),(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Employment Details"})]}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Employment Type"}),(0,m.jsx)("p",{className:"text-lg font-medium text-gray-900",children:(null===(N=D.employmentDetails.type)||void 0===N?void 0:N.replace("_"," ").toUpperCase())||"N/A"})]}),"employed"===D.employmentDetails.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Employer Name"}),(0,m.jsx)("p",{className:"text-lg font-medium text-gray-900",children:D.employmentDetails.employerName||"N/A"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Job Title"}),(0,m.jsx)("p",{className:"text-lg font-medium text-gray-900",children:D.employmentDetails.jobTitle||"N/A"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Years of Employment"}),(0,m.jsx)("p",{className:"text-lg font-medium text-gray-900",children:D.employmentDetails.yearsOfEmployment||"N/A"})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Business Name"}),(0,m.jsx)("p",{className:"text-lg font-medium text-gray-900",children:D.employmentDetails.businessName||"N/A"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Business Type"}),(0,m.jsx)("p",{className:"text-lg font-medium text-gray-900",children:D.employmentDetails.businessType||"N/A"})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Monthly Income"}),(0,m.jsxs)("p",{className:"text-lg font-medium text-gray-900",children:["\u20a6",(null===(v=D.employmentDetails.monthlyIncome)||void 0===v?void 0:v.toLocaleString())||"N/A"]})]})]})]}),D.bankReview&&(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,m.jsxs)("div",{className:"flex items-center mb-4",children:[(0,m.jsx)(r.__w,{className:"text-blue-600 mr-2"}),(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Bank Review"})]}),(0,m.jsxs)("div",{className:"space-y-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Decision"}),(0,m.jsx)("p",{className:"text-lg font-medium text-gray-900 capitalize",children:D.bankReview.decision||"N/A"})]}),D.bankReview.notes&&(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Review Notes"}),(0,m.jsx)("p",{className:"text-lg text-gray-900 bg-gray-50 p-4 rounded-lg",children:D.bankReview.notes})]}),D.bankReview.conditions&&D.bankReview.conditions.length>0&&(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Conditions"}),(0,m.jsx)("ul",{className:"list-disc list-inside space-y-1",children:D.bankReview.conditions.map((e,s)=>(0,m.jsx)("li",{className:"text-gray-900",children:e},s))})]}),D.bankReview.loanTerms&&(0,m.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,m.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Approved Loan Terms"}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-blue-700",children:"Approved Amount"}),(0,m.jsxs)("p",{className:"font-semibold text-blue-900",children:["\u20a6",(null===(u=D.bankReview.loanTerms.approvedAmount)||void 0===u?void 0:u.toLocaleString())||"N/A"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-blue-700",children:"Interest Rate"}),(0,m.jsxs)("p",{className:"font-semibold text-blue-900",children:[D.bankReview.loanTerms.interestRate||"N/A","%"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-blue-700",children:"Loan Term"}),(0,m.jsxs)("p",{className:"font-semibold text-blue-900",children:[D.bankReview.loanTerms.loanTermYears||"N/A"," years"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-blue-700",children:"Monthly Payment"}),(0,m.jsxs)("p",{className:"font-semibold text-blue-900",children:["\u20a6",(null===(y=D.bankReview.loanTerms.monthlyPayment)||void 0===y?void 0:y.toLocaleString())||"N/A"]})]})]})]}),D.bankReview.reviewedAt&&(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-500",children:"Reviewed At"}),(0,m.jsx)("p",{className:"text-sm text-gray-900",children:E(D.bankReview.reviewedAt)})]})]})]}),D.documents&&D.documents.length>0&&(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,m.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)(r.t69,{className:"text-blue-600 mr-2"}),(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Documents"})]})}),(0,m.jsx)("div",{className:"space-y-2",children:D.documents.map((e,s)=>(0,m.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,m.jsx)(r.t69,{className:"text-gray-400"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name||"Document ".concat(s+1)}),(0,m.jsxs)("p",{className:"text-xs text-gray-500",children:[e.type||"Document"," \u2022 ",E(e.uploadedAt)]})]})]}),e.url&&(0,m.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700",children:(0,m.jsx)(r.WCW,{})})]},s))})]}),(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,m.jsxs)("div",{className:"flex items-center mb-4",children:[(0,m.jsx)(r.itz,{className:"text-blue-600 mr-2"}),(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Application Timeline"})]}),(0,m.jsxs)("div",{className:"space-y-4",children:[(0,m.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,m.jsx)("div",{className:"p-2 rounded-full bg-green-100",children:(0,m.jsx)(r.A7C,{className:"text-green-600"})}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Application Submitted"}),(0,m.jsx)("p",{className:"text-xs text-gray-500",children:E(D.createdAt)})]})]}),D.updatedAt&&D.updatedAt!==D.createdAt&&(0,m.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,m.jsx)("div",{className:"p-2 rounded-full bg-blue-100",children:(0,m.jsx)(r.__w,{className:"text-blue-600"})}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Last Updated"}),(0,m.jsx)("p",{className:"text-xs text-gray-500",children:E(D.updatedAt)})]})]}),(null===(b=D.bankReview)||void 0===b?void 0:b.reviewedAt)&&(0,m.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,m.jsx)("div",{className:"p-2 rounded-full ".concat("approved"===D.bankReview.decision?"bg-green-100":"rejected"===D.bankReview.decision?"bg-red-100":"bg-yellow-100"),children:"approved"===D.bankReview.decision?(0,m.jsx)(r.A7C,{className:"text-green-600"}):"rejected"===D.bankReview.decision?(0,m.jsx)(r._Hm,{className:"text-red-600"}):(0,m.jsx)(r.__w,{className:"text-yellow-600"})}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Bank Review: ",(null===(f=D.bankReview.decision)||void 0===f?void 0:f.toUpperCase())||"N/A"]}),(0,m.jsx)("p",{className:"text-xs text-gray-500",children:E(D.bankReview.reviewedAt)})]})]})]})]})]})]})})}}}]);
//# sourceMappingURL=614.c81ba6af.chunk.js.map