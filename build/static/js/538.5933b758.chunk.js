"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[538],{6538(e,s,t){t.r(s),t.d(s,{default:()=>m});var a=t(9379),r=t(5043),l=t(5475),c=t(3216),n=t(5917),i=t(5016),o=t(2339),d=t(579);const m=()=>{const{slug:e}=(0,c.g)(),{user:s}=(0,i.As)(),[t,m]=(0,r.useState)(null),[x,h]=(0,r.useState)([]),[g,u]=(0,r.useState)(!0),[p,j]=(0,r.useState)(""),[b,v]=(0,r.useState)(!1),[N,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f(),w()},[e]);const f=async()=>{try{u(!0);const s=await fetch("/api/blog/".concat(e)),t=await s.json();t.success&&m(t.data)}catch(s){console.error("Error loading blog:",s)}finally{u(!1)}},w=async()=>{try{const s=await fetch("/api/blog/".concat(e,"/related?limit=3")),t=await s.json();t.success&&h(t.data)}catch(s){console.error("Error loading related blogs:",s)}},k=async()=>{try{const s=await fetch("/api/blog/".concat(e,"/share"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});(await s.json()).success&&t&&m(e=>(0,a.A)((0,a.A)({},e),{},{shares:e.shares+1}))}catch(s){console.error("Error sharing blog:",s)}},C=e=>(0,n.A)(new Date(e),"MMMM dd, yyyy");return g?(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):t?(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)("div",{className:"bg-white shadow-sm",children:(0,d.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-4",children:[(0,d.jsx)(l.N_,{to:"/",className:"hover:text-blue-600",children:"Home"}),(0,d.jsx)("span",{children:"\u2192"}),(0,d.jsx)(l.N_,{to:"/blog",className:"hover:text-blue-600",children:"Blog"}),(0,d.jsx)("span",{children:"\u2192"}),(0,d.jsx)("span",{className:"text-gray-900",children:t.title})]}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:(A=t.category,{"real-estate-tips":"Real Estate Tips","market-news":"Market News","investment-guides":"Investment Guides","property-showcase":"Property Showcase","legal-advice":"Legal Advice","home-improvement":"Home Improvement","neighborhood-spotlight":"Neighborhood Spotlight","buyer-guides":"Buyer Guides","seller-guides":"Seller Guides","rental-advice":"Rental Advice","mortgage-financing":"Mortgage & Financing","property-management":"Property Management"}[A]||A)})}),(0,d.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.title}),(0,d.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:t.excerpt}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("img",{src:t.author.avatar||"/default-avatar.png",alt:t.author.name,className:"w-12 h-12 rounded-full object-cover"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",children:t.author.name}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:[C(t.publishedAt)," \u2022 ",t.readTime," min read"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("button",{onClick:async()=>{try{const s=await fetch("/api/blog/".concat(e,"/like"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),r=await s.json();r.success&&t&&m(e=>(0,a.A)((0,a.A)({},e),{},{likes:r.likes}))}catch(s){console.error("Error liking blog:",s)}},className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,d.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,d.jsx)("span",{children:t.likes})]}),(0,d.jsxs)("button",{onClick:k,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,d.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),(0,d.jsx)("span",{children:t.shares})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,d.jsxs)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(0,d.jsxs)("span",{children:[t.views," views"]})]})]})]})]})}),(0,d.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsx)("img",{src:t.featuredImage.url,alt:t.featuredImage.alt||t.title,className:"w-full h-96 object-cover rounded-lg shadow-lg"}),t.featuredImage.caption&&(0,d.jsx)("p",{className:"text-sm text-gray-500 text-center mt-2 italic",children:t.featuredImage.caption})]}),(0,d.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,d.jsxs)("div",{className:"lg:col-span-3",children:[(0,d.jsx)("article",{className:"prose prose-lg max-w-none",children:(0,d.jsx)("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:t.content}})}),t.tags&&t.tags.length>0&&(0,d.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tags"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:t.tags.map((e,s)=>(0,d.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:["#",e]},s))})]}),t.allowComments&&(0,d.jsxs)("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[(0,d.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Comments (",t.comments.filter(e=>e.isApproved).length,")"]}),s?(0,d.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),s){if(p.trim())try{v(!0);const s=await fetch("/api/blog/".concat(e,"/comments"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({content:p})});(await s.json()).success&&(j(""),y(!0),setTimeout(()=>y(!1),3e3),f())}catch(a){console.error("Error submitting comment:",a)}finally{v(!1)}}else o.Ay.error("Please login to comment")},className:"mb-8",children:(0,d.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,d.jsx)("textarea",{value:p,onChange:e=>j(e.target.value),placeholder:"Share your thoughts...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",required:!0}),(0,d.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Comments are moderated and will appear after approval."}),(0,d.jsx)("button",{type:"submit",disabled:b||!p.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Posting...":"Post Comment"})]}),N&&(0,d.jsx)("div",{className:"mt-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:"Comment submitted successfully! It will appear after approval."})]})}):(0,d.jsx)("div",{className:"bg-gray-50 p-6 rounded-lg text-center mb-8",children:(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"Please create an account (auth flow is currently being rebuilt) to comment."})}),(0,d.jsxs)("div",{className:"space-y-6",children:[t.comments.filter(e=>e.isApproved).map(e=>(0,d.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,d.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,d.jsx)("img",{src:e.user.avatar||"/default-avatar.png",alt:e.user.name,className:"w-10 h-10 rounded-full object-cover"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900",children:e.user.name}),(0,d.jsx)("span",{className:"text-sm text-gray-500",children:C(e.createdAt)})]}),(0,d.jsx)("p",{className:"text-gray-700",children:e.content})]})]})},e._id)),0===t.comments.filter(e=>e.isApproved).length&&(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:"No comments yet. Be the first to share your thoughts!"})})]})]})]}),(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"About the Author"}),(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("img",{src:t.author.avatar||"/default-avatar.png",alt:t.author.name,className:"w-12 h-12 rounded-full object-cover"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900",children:t.author.name}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Real Estate Expert"})]})]})]}),x.length>0&&(0,d.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Related Posts"}),(0,d.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,d.jsx)(l.N_,{to:"/blog/".concat(e.slug),className:"block group",children:(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)("img",{src:e.featuredImage.url,alt:e.featuredImage.alt||e.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:e.title}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:C(e.publishedAt)})]})]})},e._id))})]}),(0,d.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Share this post"}),(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsxs)("button",{onClick:k,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,d.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),(0,d.jsx)("span",{className:"text-sm",children:"Twitter"})]}),(0,d.jsxs)("button",{onClick:k,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900 transition-colors",children:[(0,d.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,d.jsx)("span",{className:"text-sm",children:"Facebook"})]})]})]})]})})]})})]}):(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Blog Post Not Found"}),(0,d.jsx)(l.N_,{to:"/blog",className:"text-blue-600 hover:text-blue-800",children:"\u2190 Back to Blog"})]})});var A}}}]);
//# sourceMappingURL=538.5933b758.chunk.js.map