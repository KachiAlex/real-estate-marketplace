{"version":3,"file":"static/js/956.dbd0e561.chunk.js","mappings":"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","sources":["pages/Escrow.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaShieldAlt, FaCreditCard, FaCheckCircle, FaClock, FaTimesCircle, FaPlus, FaEye, FaLock, FaUserCheck, FaHandshake } from 'react-icons/fa';\nimport toast from 'react-hot-toast';\n\nconst Escrow = () => {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [userTransactions, setUserTransactions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showApprovalModal, setShowApprovalModal] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [approvalLoading, setApprovalLoading] = useState(false);\n\n  // Load user's escrow transactions from localStorage\n  useEffect(() => {\n    if (user) {\n      // Load transactions from localStorage (for demo)\n      const storedTransactions = JSON.parse(localStorage.getItem('escrowTransactions') || '[]');\n      const filteredTransactions = storedTransactions.filter(t => t.buyerId === user.id);\n      setUserTransactions(filteredTransactions);\n      console.log('User escrow transactions:', filteredTransactions);\n    }\n  }, [user]);\n\n  const handleStartNewPurchase = () => {\n    navigate('/properties');\n  };\n\n  const handleViewTransaction = (transactionId) => {\n    navigate(`/escrow/${transactionId}`);\n  };\n\n  const handleApproveTransaction = (transaction) => {\n    setSelectedTransaction(transaction);\n    setShowApprovalModal(true);\n  };\n\n  const handleConfirmApproval = async () => {\n    if (!selectedTransaction) return;\n\n    setApprovalLoading(true);\n    \n    try {\n      // Update transaction status to completed\n      const storedTransactions = JSON.parse(localStorage.getItem('escrowTransactions') || '[]');\n      const updatedTransactions = storedTransactions.map(t => \n        t.id === selectedTransaction.id \n          ? { \n              ...t, \n              status: 'completed', \n              completedAt: new Date().toISOString(),\n              buyerApprovalDate: new Date().toISOString(),\n              fundsReleasedToVendor: true\n            }\n          : t\n      );\n      \n      localStorage.setItem('escrowTransactions', JSON.stringify(updatedTransactions));\n      \n      // Update local state\n      setUserTransactions(prev => prev.map(t => \n        t.id === selectedTransaction.id \n          ? { \n              ...t, \n              status: 'completed', \n              completedAt: new Date().toISOString(),\n              buyerApprovalDate: new Date().toISOString(),\n              fundsReleasedToVendor: true\n            }\n          : t\n      ));\n\n      setShowApprovalModal(false);\n      setSelectedTransaction(null);\n      \n      toast.success(`Funds released to vendor! Transaction completed successfully.`);\n    } catch (error) {\n      console.error('Error approving transaction:', error);\n      toast.error('Failed to approve transaction');\n    } finally {\n      setApprovalLoading(false);\n    }\n  };\n\n  const handleCancelApproval = () => {\n    setShowApprovalModal(false);\n    setSelectedTransaction(null);\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\n      case 'funded': return 'bg-blue-100 text-blue-800';\n      case 'completed': return 'bg-green-100 text-green-800';\n      case 'cancelled': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'pending': return <FaClock />;\n      case 'funded': return <FaLock />;\n      case 'completed': return <FaCheckCircle />;\n      case 'cancelled': return <FaTimesCircle />;\n      default: return <FaClock />;\n    }\n  };\n\n  const getStatusLabel = (status) => {\n    switch (status) {\n      case 'pending': return 'Payment Pending';\n      case 'funded': return 'Funds in Escrow';\n      case 'completed': return 'Transaction Complete';\n      case 'cancelled': return 'Cancelled';\n      default: return 'Unknown';\n    }\n  };\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Escrow Transactions</h1>\n        <p className=\"text-gray-600\">\n          Manage your secure property transactions with built-in escrow protection\n        </p>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-blue-100 rounded-lg\">\n              <FaShieldAlt className=\"text-blue-600 text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Total Transactions</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{userTransactions.length}</p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-yellow-100 rounded-lg\">\n              <FaClock className=\"text-yellow-600 text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Active</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {userTransactions.filter(t => t.status === 'pending' || t.status === 'funded').length}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-green-100 rounded-lg\">\n              <FaCheckCircle className=\"text-green-600 text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Completed</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {userTransactions.filter(t => t.status === 'completed').length}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-blue-100 rounded-lg\">\n              <FaLock className=\"text-blue-600 text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Funds in Escrow</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                ₦{userTransactions\n                  .filter(t => t.status === 'funded')\n                  .reduce((sum, t) => sum + (t.totalAmount || 0), 0)\n                  .toLocaleString()}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Escrow Protection Information */}\n      <div className=\"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-6 mb-8\">\n        <div className=\"flex items-center mb-4\">\n          <FaShieldAlt className=\"text-blue-600 text-2xl mr-3\" />\n          <h2 className=\"text-xl font-bold text-gray-900\">Escrow Protection Active</h2>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n          <div className=\"flex items-center\">\n            <FaLock className=\"text-green-600 mr-2\" />\n            <span><strong>Funds Secured:</strong> Money held safely in escrow</span>\n          </div>\n          <div className=\"flex items-center\">\n            <FaUserCheck className=\"text-green-600 mr-2\" />\n            <span><strong>Buyer Control:</strong> You approve before release</span>\n          </div>\n          <div className=\"flex items-center\">\n            <FaHandshake className=\"text-green-600 mr-2\" />\n            <span><strong>Dispute Protection:</strong> Full refund guarantee</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900\">Your Transactions</h2>\n        <button\n          onClick={handleStartNewPurchase}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center\"\n        >\n          <FaPlus className=\"mr-2\" />\n          Start New Purchase\n        </button>\n      </div>\n\n      {/* Transactions List */}\n      <div className=\"bg-white rounded-lg shadow\">\n        {userTransactions.length === 0 ? (\n          <div className=\"p-12 text-center\">\n            <FaShieldAlt className=\"text-gray-400 text-4xl mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No Escrow Transactions Yet</h3>\n            <p className=\"text-gray-600 mb-6\">\n              Start your first secure property purchase with escrow protection\n            </p>\n            <button\n              onClick={handleStartNewPurchase}\n              className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center mx-auto\"\n            >\n              <FaPlus className=\"mr-2\" />\n              Browse Properties\n            </button>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {userTransactions.map((transaction) => (\n              <div key={transaction.id} className=\"p-6 hover:bg-gray-50 transition-colors\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center space-x-3 mb-2\">\n                      <h3 className=\"text-lg font-semibold text-gray-900\">\n                        {transaction.propertyTitle}\n                      </h3>\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium flex items-center ${getStatusColor(transaction.status)}`}>\n                        {getStatusIcon(transaction.status)}\n                        <span className=\"ml-1\">{getStatusLabel(transaction.status)}</span>\n                      </span>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600\">\n                      <div>\n                        <span className=\"font-medium\">Amount:</span> ₦{transaction.totalAmount?.toLocaleString()}\n                      </div>\n                      <div>\n                        <span className=\"font-medium\">Created:</span> {new Date(transaction.createdAt).toLocaleDateString()}\n                      </div>\n                      <div>\n                        <span className=\"font-medium\">Type:</span> {transaction.type || 'Purchase'}\n                      </div>\n                    </div>\n                    \n                    {transaction.status === 'funded' && (\n                      <div className=\"mt-2 p-2 bg-blue-50 rounded text-sm text-blue-800\">\n                        <FaLock className=\"inline mr-1\" />\n                        <strong>Funds Secured:</strong> ₦{transaction.amount?.toLocaleString()} held in escrow awaiting your approval\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"flex space-x-2\">\n                    {transaction.status === 'funded' ? (\n                      <button\n                        onClick={() => handleApproveTransaction(transaction)}\n                        className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center\"\n                      >\n                        <FaUserCheck className=\"mr-1\" />\n                        Approve & Release Funds\n                      </button>\n                    ) : transaction.status === 'completed' ? (\n                      <div className=\"bg-green-100 text-green-800 px-4 py-2 rounded-lg flex items-center\">\n                        <FaCheckCircle className=\"mr-1\" />\n                        Funds Released\n                      </div>\n                    ) : (\n                      <button\n                        onClick={() => handleViewTransaction(transaction.id)}\n                        className=\"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center\"\n                      >\n                        <FaEye className=\"mr-1\" />\n                        View Details\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Approval Confirmation Modal */}\n      {showApprovalModal && selectedTransaction && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <FaTimesCircle className=\"text-red-600 text-2xl\" />\n              </div>\n              \n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">⚠️ WARNING: Approve Fund Release</h3>\n              <p className=\"text-gray-600 mb-4\">\n                You are about to release <strong>₦{selectedTransaction.totalAmount?.toLocaleString()}</strong> to the vendor for:\n              </p>\n              \n              <div className=\"bg-gray-50 p-4 rounded-lg mb-4 text-left\">\n                <h4 className=\"font-semibold text-gray-900\">{selectedTransaction.propertyTitle}</h4>\n                <p className=\"text-sm text-gray-600\">Transaction ID: {selectedTransaction.id}</p>\n                <p className=\"text-sm text-gray-600\">Amount: ₦{selectedTransaction.amount?.toLocaleString()}</p>\n                <p className=\"text-sm text-gray-600\">Escrow Fee: ₦{selectedTransaction.escrowFee?.toLocaleString()}</p>\n              </div>\n\n              <div className=\"bg-red-50 p-4 rounded-lg mb-6\">\n                <div className=\"text-sm text-red-800 space-y-2\">\n                  <p><strong>⚠️ IMPORTANT WARNING:</strong></p>\n                  <ul className=\"text-left space-y-1\">\n                    <li>• Once approved, the money will be sent directly to the vendor</li>\n                    <li>• This action is <strong>IRREVERSIBLE</strong></li>\n                    <li>• You will NOT be able to get a refund after approval</li>\n                    <li>• Only approve if you are completely satisfied with the property</li>\n                  </ul>\n                </div>\n              </div>\n\n              <div className=\"text-sm text-gray-600 mb-6\">\n                <p>Have you:</p>\n                <ul className=\"text-left space-y-1 mt-2\">\n                  <li>✅ Inspected the property thoroughly?</li>\n                  <li>✅ Verified all documents are correct?</li>\n                  <li>✅ Confirmed the property meets your expectations?</li>\n                  <li>✅ Received all necessary paperwork?</li>\n                </ul>\n              </div>\n              \n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={handleCancelApproval}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleConfirmApproval}\n                  disabled={approvalLoading}\n                  className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center\"\n                >\n                  {approvalLoading ? (\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                  ) : (\n                    <>\n                      <FaHandshake className=\"mr-2\" />\n                      Yes, Release Funds\n                    </>\n                  )}\n                </button>\n              </div>\n              \n              <p className=\"text-xs text-gray-500 mt-3\">\n                By clicking \"Yes, Release Funds\", you confirm that you are satisfied with the property and authorize the irreversible release of funds to the vendor.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Escrow;"],"names":["Escrow","_selectedTransaction$","_selectedTransaction$2","_selectedTransaction$3","navigate","useNavigate","user","useAuth","userTransactions","setUserTransactions","useState","loading","setLoading","showApprovalModal","setShowApprovalModal","selectedTransaction","setSelectedTransaction","approvalLoading","setApprovalLoading","useEffect","filteredTransactions","JSON","parse","localStorage","getItem","filter","t","buyerId","id","console","log","handleStartNewPurchase","getStatusColor","status","getStatusIcon","_jsx","FaClock","FaLock","FaCheckCircle","FaTimesCircle","getStatusLabel","_jsxs","className","children","FaShieldAlt","length","reduce","sum","totalAmount","toLocaleString","FaUserCheck","FaHandshake","onClick","FaPlus","map","transaction","_transaction$totalAmo","_transaction$amount","propertyTitle","concat","Date","createdAt","toLocaleDateString","type","amount","handleApproveTransaction","handleViewTransaction","transactionId","FaEye","escrowFee","handleCancelApproval","async","updatedTransactions","_objectSpread","completedAt","toISOString","buyerApprovalDate","fundsReleasedToVendor","setItem","stringify","prev","toast","success","error","disabled","_Fragment"],"sourceRoot":""}