"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[122],{3122(e,a,t){t.r(a),t.d(a,{default:()=>m});var s=t(9379),r=t(5043),o=t(5016),l=t(5369),i=t(9722),n=t(2339),d=t(325),c=t(1876),u=t(579);const m=()=>{var e,a;const{currentUser:t,updateUserProfile:m}=(0,o.As)(),p=t,[g,v]=(0,r.useState)({firstName:(null===p||void 0===p?void 0:p.firstName)||"",lastName:(null===p||void 0===p?void 0:p.lastName)||"",email:(null===p||void 0===p?void 0:p.email)||(null===p||void 0===p||null===(e=p.user)||void 0===e?void 0:e.email)||"",phone:(null===p||void 0===p?void 0:p.phone)||"",bio:(null===p||void 0===p?void 0:p.bio)||"",avatar:(null===p||void 0===p?void 0:p.avatar)||""}),[x,h]=(0,r.useState)({}),[b,f]=(0,r.useState)(!1),[y,N]=(0,r.useState)(!1),[j,w]=(0,r.useState)((null===p||void 0===p?void 0:p.avatar)||null),[A,k]=(0,r.useState)(!1),C=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(p){var e;let t=null;try{const e=JSON.parse(localStorage.getItem("currentUser")||"{}");e.avatar&&e.avatar.startsWith("data:")&&(t=e.avatar)}catch(a){console.error("Error reading localStorage:",a)}const s=t||(null===p||void 0===p?void 0:p.avatar)||"",r=!j||s&&s!==j;v({firstName:(null===p||void 0===p?void 0:p.firstName)||"",lastName:(null===p||void 0===p?void 0:p.lastName)||"",email:(null===p||void 0===p?void 0:p.email)||(null===p||void 0===p||null===(e=p.user)||void 0===e?void 0:e.email)||"",phone:(null===p||void 0===p?void 0:p.phone)||"",bio:(null===p||void 0===p?void 0:p.bio)||"",avatar:s}),r&&w(s||null)}},[p]);const S=e=>{const{name:a,value:t}=e.target;v(e=>(0,s.A)((0,s.A)({},e),{},{[a]:t})),x[a]&&h(e=>(0,s.A)((0,s.A)({},e),{},{[a]:""}))},I=()=>{var e;null===(e=C.current)||void 0===e||e.click()};return(0,u.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,u.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,u.jsxs)("div",{className:"mb-8",children:[(0,u.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Settings"}),(0,u.jsx)("p",{className:"text-gray-600",children:"Manage your account information"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,u.jsx)("div",{className:"lg:col-span-2",children:(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,u.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Personal Information"}),(0,u.jsxs)("div",{className:"mb-8 pb-8 border-b border-gray-200",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Profile Picture"}),(0,u.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200 shadow-lg bg-gray-100",children:j?(0,u.jsx)("img",{src:j,alt:"Profile",className:"w-full h-full object-cover"}):(0,u.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,u.jsx)(l.x$1,{className:"text-4xl text-gray-400"})})}),!y&&(0,u.jsx)("button",{type:"button",onClick:I,className:"absolute bottom-0 right-0 p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-lg",title:"Change profile picture",children:(0,u.jsx)(l.p5B,{className:"text-sm"})}),y&&(0,u.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 flex items-center justify-center",children:(0,u.jsxs)("div",{className:"text-white text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mx-auto mb-2"}),(0,u.jsx)("p",{className:"text-xs",children:"Uploading..."})]})})]}),(0,u.jsx)("div",{className:"flex-1",children:(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("button",{type:"button",onClick:I,disabled:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,u.jsx)(l.HVe,{className:"text-sm"}),(0,u.jsx)("span",{children:j?"Change Picture":"Upload Picture"})]}),j&&(0,u.jsxs)("button",{type:"button",onClick:async()=>{try{v(e=>(0,s.A)((0,s.A)({},e),{},{avatar:""})),w(null),await m({avatar:""}),n.Ay.success("Profile picture removed")}catch(e){console.error("Error removing avatar:",e),n.Ay.error("Failed to remove profile picture")}},disabled:y,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,u.jsx)(l.QCr,{className:"text-sm"}),(0,u.jsx)("span",{children:"Remove Picture"})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"JPG, PNG, WEBP or GIF. Max size 5MB"})]})}),(0,u.jsx)("input",{ref:C,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:async e=>{const a=e.target.files[0];if(!a)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(a.type))return void n.Ay.error("Please select a valid image file (JPEG, PNG, WEBP, or GIF)");if(a.size>5242880)return void n.Ay.error("Image size must be less than 5MB");const t=await new Promise((e,t)=>{const s=new FileReader;s.onload=a=>{w(a.target.result),e(a.target.result)},s.onerror=t,s.readAsDataURL(a)});N(!0);try{const e=(null===p||void 0===p?void 0:p.id)||(null===p||void 0===p?void 0:p.uid);if(!e)throw new Error("User not authenticated");const r=await d.A.uploadUserAvatar(a,e),u=r.success?r.url:t;r.success||(console.error("Avatar upload failed:",r.error),n.Ay.error("Upload failed. Using local preview until sync."));const g=localStorage.getItem("token");if(g)try{await i.A.put((0,c.e9)("/auth/profile"),{avatar:u},{headers:{Authorization:"Bearer ".concat(g)}})}catch(o){console.error("Backend API update error:",o)}try{const e=JSON.parse(localStorage.getItem("currentUser")||"{}"),a=(0,s.A)((0,s.A)({},e),{},{avatar:u});localStorage.setItem("currentUser",JSON.stringify(a))}catch(l){console.error("Error saving to localStorage:",l)}m&&await m({avatar:u}),v(e=>(0,s.A)((0,s.A)({},e),{},{avatar:u})),w(u),n.Ay.success("Profile picture saved")}catch(u){var r;console.error("Avatar upload error:",u);let e="Failed to upload profile picture";null!==(r=u.message)&&void 0!==r&&r.includes("permission")?e="Storage permission denied. Please check your storage configuration.":u.message&&(e=u.message),n.Ay.error(e),w((null===p||void 0===p?void 0:p.avatar)||null)}finally{N(!1),C.current&&(C.current.value="")}},className:"hidden",disabled:y})]})]}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const a=(()=>{const e={};return g.firstName||(e.firstName="First name is required"),g.lastName||(e.lastName="Last name is required"),e})();if(Object.keys(a).length>0)h(a);else{f(!0);try{const e=j&&!j.startsWith("data:")?j:g.avatar||(null===p||void 0===p?void 0:p.avatar)||"",a=localStorage.getItem("token");if(a)try{const o=await i.A.put((0,c.e9)("/auth/profile"),{firstName:g.firstName,lastName:g.lastName,phone:g.phone,avatar:e},{headers:{Authorization:"Bearer ".concat(a)}});if(o.data.success){var t,r;const a=(null===(t=o.data.user)||void 0===t?void 0:t.avatar)||(null===(r=o.data.data)||void 0===r?void 0:r.avatar)||e;await m({firstName:g.firstName,lastName:g.lastName,phone:g.phone,avatar:a}),v(e=>(0,s.A)((0,s.A)({},e),{},{avatar:a})),w(a)}}catch(o){console.error("API update failed, using local update:",o),await m({firstName:g.firstName,lastName:g.lastName,phone:g.phone,avatar:e}),v(a=>(0,s.A)((0,s.A)({},a),{},{avatar:e})),w(e)}else await m({firstName:g.firstName,lastName:g.lastName,phone:g.phone,avatar:e}),v(a=>(0,s.A)((0,s.A)({},a),{},{avatar:e})),w(e);k(!0),setTimeout(()=>k(!1),3e3)}catch(l){h({general:l.message}),n.Ay.error("Failed to update profile")}finally{f(!1)}}},className:"space-y-6",children:[x.general&&(0,u.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:x.general}),A&&(0,u.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md",children:"Profile updated successfully!"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,u.jsx)("input",{type:"text",name:"firstName",value:g.firstName,onChange:S,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(x.firstName?"border-red-300":"border-gray-300")}),x.firstName&&(0,u.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.firstName})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,u.jsx)("input",{type:"text",name:"lastName",value:g.lastName,onChange:S,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(x.lastName?"border-red-300":"border-gray-300")}),x.lastName&&(0,u.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.lastName})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,u.jsx)("span",{className:"text-gray-400 text-xs",children:"(Cannot be changed)"})]}),(0,u.jsx)("input",{type:"email",name:"email",value:g.email,readOnly:!0,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 cursor-not-allowed"}),(0,u.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Your email is locked to your login credentials"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,u.jsx)("input",{type:"tel",name:"phone",value:g.phone,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(555) 123-4567"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,u.jsx)("textarea",{name:"bio",value:g.bio,onChange:S,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about yourself..."})]}),(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsx)("button",{type:"submit",disabled:b,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:b?"Saving...":"Save Changes"})})]})]})}),(0,u.jsxs)("div",{className:"lg:col-span-1",children:[(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Information"}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Member Since"}),(0,u.jsx)("p",{className:"font-medium",children:null!==p&&void 0!==p&&p.createdAt?new Date(p.createdAt).toLocaleDateString():"N/A"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Account Status"}),(0,u.jsx)("p",{className:"font-medium text-green-600",children:"Active"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"User ID"}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("p",{className:"font-mono font-bold text-blue-600 text-lg tracking-wider",children:(null===p||void 0===p?void 0:p.userCode)||"PAK-XXXXXX"}),(0,u.jsx)("button",{onClick:async e=>{const a=e.currentTarget,t=a.textContent;try{const e=(null===p||void 0===p?void 0:p.userCode)||"";if(!e)return void n.Ay.error("User ID not available");await navigator.clipboard.writeText(e),a.textContent="Copied!",a.classList.add("bg-green-100","text-green-700"),a.classList.remove("bg-blue-100","text-blue-700"),n.Ay.success('User ID "'.concat(e,'" copied!'),{icon:"\u2705",duration:3e3,style:{background:"#10b981",color:"#fff"}}),setTimeout(()=>{a.textContent=t,a.classList.remove("bg-green-100","text-green-700"),a.classList.add("bg-blue-100","text-blue-700")},2e3)}catch(s){const e=(null===p||void 0===p?void 0:p.userCode)||"";if(!e)return void n.Ay.error("User ID not available");const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),a.textContent="Copied!",a.classList.add("bg-green-100","text-green-700"),a.classList.remove("bg-blue-100","text-blue-700"),n.Ay.success('User ID "'.concat(e,'" copied!'),{icon:"\u2705",duration:3e3,style:{background:"#10b981",color:"#fff"}}),setTimeout(()=>{a.textContent=t,a.classList.remove("bg-green-100","text-green-700"),a.classList.add("bg-blue-100","text-blue-700")},2e3)}},className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 px-2 py-1 rounded transition-colors",children:"Copy"})]})]}),(null===p||void 0===p?void 0:p.vendorCode)&&(null===p||void 0===p||null===(a=p.roles)||void 0===a?void 0:a.includes("vendor"))&&(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"Vendor ID"}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("p",{className:"font-mono font-bold text-green-600 text-lg tracking-wider",children:p.vendorCode}),(0,u.jsx)("button",{onClick:async e=>{const a=e.currentTarget,t=a.textContent;try{const e=p.vendorCode||"";if(!e)return void n.Ay.error("Vendor ID not available");await navigator.clipboard.writeText(e),a.textContent="Copied!",a.classList.add("bg-blue-100","text-blue-700"),a.classList.remove("bg-green-100","text-green-700"),n.Ay.success('Vendor ID "'.concat(e,'" copied!'),{icon:"\u2705",duration:3e3,style:{background:"#10b981",color:"#fff"}}),setTimeout(()=>{a.textContent=t,a.classList.remove("bg-blue-100","text-blue-700"),a.classList.add("bg-green-100","text-green-700")},2e3)}catch(s){const e=p.vendorCode||"";if(!e)return void n.Ay.error("Vendor ID not available");const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),a.textContent="Copied!",a.classList.add("bg-blue-100","text-blue-700"),a.classList.remove("bg-green-100","text-green-700"),n.Ay.success('Vendor ID "'.concat(e,'" copied!'),{icon:"\u2705",duration:3e3,style:{background:"#10b981",color:"#fff"}}),setTimeout(()=>{a.textContent=t,a.classList.remove("bg-blue-100","text-blue-700"),a.classList.add("bg-green-100","text-green-700")},2e3)}},className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded transition-colors",children:"Copy"})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Share this with buyers to find your properties"})]})]})]}),(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Change Password"}),(0,u.jsx)("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Notification Settings"}),(0,u.jsx)("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Privacy Settings"}),(0,u.jsx)("button",{className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md",children:"Delete Account"})]})]})]})]})]})})}},325(e,a,t){t.d(a,{A:()=>o});var s=t(9379);const r=new class{async uploadFile(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var r,o,l,i,n;const d=new FormData;d.append("file",e),d.append("uploadType","generic"),d.append("metadata",JSON.stringify((0,s.A)({path:a},t)));const c=await fetch("/api/upload",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:d}),u=await c.json();if(!c.ok||null===u||void 0===u||!u.success)throw new Error((null===u||void 0===u?void 0:u.message)||"Upload failed");return{success:!0,url:null===(r=u.data)||void 0===r?void 0:r.url,path:(null===(o=u.data)||void 0===o?void 0:o.publicId)||a,name:(null===(l=u.data)||void 0===l?void 0:l.originalName)||e.name,size:(null===(i=u.data)||void 0===i?void 0:i.size)||e.size,type:(null===(n=u.data)||void 0===n?void 0:n.format)||e.type}}catch(d){return console.error("Error uploading file:",d),{success:!1,error:d.message||"Upload failed"}}}async uploadMultipleFiles(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var r,o,l;const i=new FormData;e.forEach(e=>i.append("files",e)),i.append("uploadType","multiple"),i.append("metadata",JSON.stringify((0,s.A)({basePath:a},t)));const n=await fetch("/api/upload/multiple",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:i}),d=await n.json();if(!n.ok||null===d||void 0===d||!d.success)throw new Error((null===d||void 0===d?void 0:d.message)||"Upload failed");return{success:!0,successful:(null===(r=d.data)||void 0===r?void 0:r.successful)||[],failed:(null===(o=d.data)||void 0===o?void 0:o.failed)||[],total:(null===(l=d.data)||void 0===l?void 0:l.total)||e.length}}catch(i){return console.error("Error uploading multiple files:",i),{success:!1,error:i.message||"Upload failed"}}}async moveFile(e,a){return{success:!0,url:null,path:a||e,name:(a||e||"").split("/").pop()}}async uploadPropertyImages(e,a,t){try{var s,r,o;const l=new FormData;e.forEach(e=>{l.append("files",e)}),l.append("uploadType","property_images"),l.append("metadata",JSON.stringify({propertyId:a,userId:t}));const i=await fetch("/api/upload/multiple",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:l}),n=await i.json();if(!i.ok||null===n||void 0===n||!n.success)throw new Error((null===n||void 0===n?void 0:n.message)||"Upload failed");return{success:!0,successful:(null===(s=n.data)||void 0===s?void 0:s.successful)||[],failed:(null===(r=n.data)||void 0===r?void 0:r.failed)||[],total:(null===(o=n.data)||void 0===o?void 0:o.total)||e.length}}catch(l){return console.error("Error uploading property images:",l),{success:!1,error:l.message||"Upload failed"}}}async uploadUserAvatar(e,a){if(!a)return{success:!1,error:"User ID is required"};const t=Date.now(),s=e.name.split(".").pop(),r="avatar_".concat(a,"_").concat(t,".").concat(s),o="users/".concat(a,"/avatar/").concat(r),l=this.validateFile(e,["image/jpeg","image/jpg","image/png","image/gif","image/webp"],5242880);if(!l.valid)return{success:!1,error:l.errors.join(", ")};const i=await this.uploadFile(e,o,{userId:a});if(i.success){const e={userId:a,avatarUrl:i.url,uploadDate:(new Date).toISOString(),fileName:i.name};localStorage.setItem("user_avatar_".concat(a),JSON.stringify(e))}return i}getFallbackAvatar(e){const a="https://ui-avatars.com/api/?name=".concat(encodeURIComponent(e),"&background=random&size=200"),t={userId:e,avatarUrl:a,uploadDate:(new Date).toISOString(),fileName:"fallback_avatar",isFallback:!0};return localStorage.setItem("user_avatar_".concat(e),JSON.stringify(t)),{success:!0,url:a,path:"users/".concat(e,"/avatar/fallback_").concat(Date.now()),name:"fallback_avatar",size:0,type:"image/png",isFallback:!0}}async uploadEscrowDocument(e,a,t,s){try{var r,o,l,i,n;const d=new FormData;d.append("file",e),d.append("uploadType","escrow_document"),d.append("metadata",JSON.stringify({escrowId:a,documentType:t,userId:s}));const c=await fetch("/api/upload",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:d}),u=await c.json();if(!c.ok||null===u||void 0===u||!u.success)throw new Error((null===u||void 0===u?void 0:u.message)||"Upload failed");return{success:!0,url:null===(r=u.data)||void 0===r?void 0:r.url,path:null===(o=u.data)||void 0===o?void 0:o.publicId,name:null===(l=u.data)||void 0===l?void 0:l.originalName,size:null===(i=u.data)||void 0===i?void 0:i.size,type:null===(n=u.data)||void 0===n?void 0:n.format}}catch(d){return console.error("Error uploading escrow document:",d),{success:!1,error:d.message||"Upload failed"}}}async deleteFile(){return{success:!1,error:"Delete is not supported in this build."}}async getFileMetadata(){return{success:!1,error:"Metadata lookup is not supported in this build."}}async listFiles(){return{success:!1,error:"Listing files is not supported in this build."}}async getPropertyImages(){return{success:!1,error:"Listing images is not supported in this build."}}async getEscrowDocuments(){return{success:!1,error:"Listing documents is not supported in this build."}}validateFile(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5242880;const s=[];return a.length>0&&!a.includes(e.type)&&s.push("File type ".concat(e.type," is not allowed. Allowed types: ").concat(a.join(", "))),e.size>t&&s.push("File size ".concat((e.size/1024/1024).toFixed(2),"MB exceeds maximum allowed size of ").concat((t/1024/1024).toFixed(2),"MB")),{valid:0===s.length,errors:s}}formatFileSize(e){if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]}},o=r}}]);
//# sourceMappingURL=122.5ee6e7d6.chunk.js.map