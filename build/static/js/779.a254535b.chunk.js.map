{"version":3,"file":"static/js/779.a254535b.chunk.js","mappings":"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","sources":["pages/MortgageBankDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FaBuilding, FaFileAlt, FaChartLine, FaUsers, FaCheckCircle, FaTimesCircle, FaClock, FaPlus, FaEye, FaDownload, FaTimes } from 'react-icons/fa';\r\nimport toast from 'react-hot-toast';\r\nimport axios from 'axios';\r\nimport { getApiUrl } from '../utils/apiConfig';\r\n\r\nconst MortgageBankDashboard = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(true);\r\n  const [bank, setBank] = useState(null);\r\n  const [statistics, setStatistics] = useState({\r\n    totalApplications: 0,\r\n    pendingApplications: 0,\r\n    approvedApplications: 0,\r\n    rejectedApplications: 0\r\n  });\r\n  const [applications, setApplications] = useState([]);\r\n  const [showProductModal, setShowProductModal] = useState(false);\r\n  const [selectedApplication, setSelectedApplication] = useState(null);\r\n  const [showApplicationModal, setShowApplicationModal] = useState(false);\r\n  const [previewDocument, setPreviewDocument] = useState(null);\r\n  const [reviewDecision, setReviewDecision] = useState('');\r\n  const [reviewNotes, setReviewNotes] = useState('');\r\n  const [reviewConditions, setReviewConditions] = useState(['']);\r\n  const [reviewLoanTerms, setReviewLoanTerms] = useState({\r\n    approvedAmount: '',\r\n    interestRate: '',\r\n    loanTermYears: '',\r\n    monthlyPayment: ''\r\n  });\r\n  const [isReviewing, setIsReviewing] = useState(false);\r\n  const [newProduct, setNewProduct] = useState({\r\n    name: '',\r\n    description: '',\r\n    minLoanAmount: '',\r\n    maxLoanAmount: '',\r\n    minDownPaymentPercent: '',\r\n    maxLoanTerm: '',\r\n    interestRate: '',\r\n    interestRateType: 'fixed',\r\n    eligibilityCriteria: {\r\n      minMonthlyIncome: '',\r\n      minCreditScore: '',\r\n      employmentDuration: ''\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (user && user.role === 'mortgage_bank') {\r\n      loadBankData();\r\n    } else {\r\n      toast.error('Access denied. Mortgage bank account required.');\r\n      navigate('/');\r\n    }\r\n  }, [user, navigate]);\r\n\r\n  const loadBankData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      // Get bank profile\r\n      const response = await axios.get(getApiUrl('/mortgage-banks'), {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.data.success && response.data.data.length > 0) {\r\n        // Find bank associated with current user\r\n        const userBank = response.data.data.find(\r\n          b => b.userAccount?._id === user.id || b.userAccount?.id === user.id\r\n        );\r\n        \r\n        if (userBank) {\r\n          setBank(userBank);\r\n          await loadApplications(userBank);\r\n        } else {\r\n          toast.error('Bank profile not found');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading bank data:', error);\r\n      toast.error('Failed to load bank data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadApplications = async (currentBank) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get(getApiUrl('/mortgages'), {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.data.success) {\r\n        const apps = response.data.data || [];\r\n        setApplications(apps);\r\n        setStatistics({\r\n          totalApplications: apps.length,\r\n          pendingApplications: apps.filter(a => a.status === 'pending' || a.status === 'under_review' || a.status === 'needs_more_info').length,\r\n          approvedApplications: apps.filter(a => a.status === 'approved').length,\r\n          rejectedApplications: apps.filter(a => a.status === 'rejected').length\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading mortgage applications:', error);\r\n    }\r\n  };\r\n\r\n  // Add condition input\r\n  const addCondition = () => {\r\n    setReviewConditions([...reviewConditions, '']);\r\n  };\r\n\r\n  // Remove condition input\r\n  const removeCondition = (index) => {\r\n    setReviewConditions(reviewConditions.filter((_, i) => i !== index));\r\n  };\r\n\r\n  // Update condition value\r\n  const updateCondition = (index, value) => {\r\n    const updated = [...reviewConditions];\r\n    updated[index] = value;\r\n    setReviewConditions(updated);\r\n  };\r\n\r\n  // Reset review form\r\n  const resetReviewForm = () => {\r\n    setReviewDecision('');\r\n    setReviewNotes('');\r\n    setReviewConditions(['']);\r\n    setReviewLoanTerms({\r\n      approvedAmount: '',\r\n      interestRate: '',\r\n      loanTermYears: '',\r\n      monthlyPayment: ''\r\n    });\r\n  };\r\n\r\n  // Handle application review submission\r\n  const handleReviewApplication = async () => {\r\n    if (!selectedApplication || !reviewDecision) {\r\n      toast.error('Please select a decision');\r\n      return;\r\n    }\r\n\r\n    if (reviewDecision === 'approved' && (!reviewLoanTerms.approvedAmount || !reviewLoanTerms.interestRate || !reviewLoanTerms.loanTermYears)) {\r\n      toast.error('Please fill in all loan terms for approval');\r\n      return;\r\n    }\r\n\r\n    setIsReviewing(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.put(\r\n        getApiUrl(`/mortgages/${selectedApplication._id}/review`),\r\n        {\r\n          decision: reviewDecision,\r\n          notes: reviewNotes.trim() || undefined,\r\n          conditions: reviewConditions.filter(c => c.trim()).length > 0 ? reviewConditions.filter(c => c.trim()) : undefined,\r\n          loanTerms: reviewDecision === 'approved' ? {\r\n            approvedAmount: parseFloat(reviewLoanTerms.approvedAmount),\r\n            interestRate: parseFloat(reviewLoanTerms.interestRate),\r\n            loanTermYears: parseFloat(reviewLoanTerms.loanTermYears),\r\n            monthlyPayment: reviewLoanTerms.monthlyPayment ? parseFloat(reviewLoanTerms.monthlyPayment) : undefined\r\n          } : undefined\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        }\r\n      );\r\n\r\n      if (response.data.success) {\r\n        toast.success(`Application ${reviewDecision} successfully!`);\r\n        resetReviewForm();\r\n        // Reload applications\r\n        await loadApplications(bank);\r\n        // Close modal after a short delay\r\n        setTimeout(() => {\r\n          setShowApplicationModal(false);\r\n          setSelectedApplication(null);\r\n        }, 1500);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error reviewing application:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to submit review');\r\n    } finally {\r\n      setIsReviewing(false);\r\n    }\r\n  };\r\n\r\n  const handleAddProduct = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!bank) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.post(\r\n        getApiUrl(`/mortgage-banks/${bank._id}/products`),\r\n        {\r\n          name: newProduct.name,\r\n          description: newProduct.description,\r\n          minLoanAmount: parseFloat(newProduct.minLoanAmount),\r\n          maxLoanAmount: parseFloat(newProduct.maxLoanAmount),\r\n          minDownPaymentPercent: parseFloat(newProduct.minDownPaymentPercent),\r\n          maxLoanTerm: parseFloat(newProduct.maxLoanTerm),\r\n          interestRate: parseFloat(newProduct.interestRate),\r\n          interestRateType: newProduct.interestRateType,\r\n          eligibilityCriteria: {\r\n            minMonthlyIncome: parseFloat(newProduct.eligibilityCriteria.minMonthlyIncome) || 0,\r\n            minCreditScore: parseFloat(newProduct.eligibilityCriteria.minCreditScore) || 0,\r\n            employmentDuration: parseFloat(newProduct.eligibilityCriteria.employmentDuration) || 0\r\n          }\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      if (response.data.success) {\r\n        toast.success('Mortgage product added successfully!');\r\n        setShowProductModal(false);\r\n        setNewProduct({\r\n          name: '',\r\n          description: '',\r\n          minLoanAmount: '',\r\n          maxLoanAmount: '',\r\n          minDownPaymentPercent: '',\r\n          maxLoanTerm: '',\r\n          interestRate: '',\r\n          interestRateType: 'fixed',\r\n          eligibilityCriteria: {\r\n            minMonthlyIncome: '',\r\n            minCreditScore: '',\r\n            employmentDuration: ''\r\n          }\r\n        });\r\n        loadBankData();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding product:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to add product');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!bank) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <FaBuilding className=\"text-6xl text-gray-300 mx-auto mb-4\" />\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Bank Profile Not Found</h2>\r\n          <p className=\"text-gray-600 mb-4\">Your bank profile could not be loaded.</p>\r\n          <button\r\n            onClick={() => navigate('/mortgage-bank/register')}\r\n            className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700\"\r\n          >\r\n            Register Bank\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const getStatusBadge = (status) => {\r\n    const badges = {\r\n      pending: 'bg-yellow-100 text-yellow-800',\r\n      approved: 'bg-green-100 text-green-800',\r\n      rejected: 'bg-red-100 text-red-800'\r\n    };\r\n    return badges[status] || 'bg-gray-100 text-gray-800';\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">{bank.name}</h1>\r\n              <p className=\"text-gray-600 mt-1\">{bank.fullAddress || `${bank.address?.city}, ${bank.address?.state}`}</p>\r\n              <div className=\"mt-2\">\r\n                <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getStatusBadge(bank.verificationStatus)}`}>\r\n                  {bank.verificationStatus === 'approved' ? (\r\n                    <><FaCheckCircle className=\"mr-1\" /> Approved</>\r\n                  ) : bank.verificationStatus === 'pending' ? (\r\n                    <><FaClock className=\"mr-1\" /> Pending Verification</>\r\n                  ) : (\r\n                    <><FaTimesCircle className=\"mr-1\" /> Rejected</>\r\n                  )}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowProductModal(true)}\r\n              className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n            >\r\n              <FaPlus className=\"mr-2\" />\r\n              Add Product\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Statistics */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-gray-600 text-sm font-medium\">Total Applications</p>\r\n                <p className=\"text-2xl font-bold text-gray-900 mt-1\">{statistics.totalApplications}</p>\r\n              </div>\r\n              <FaFileAlt className=\"text-blue-600 text-2xl\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-gray-600 text-sm font-medium\">Pending</p>\r\n                <p className=\"text-2xl font-bold text-yellow-600 mt-1\">{statistics.pendingApplications}</p>\r\n              </div>\r\n              <FaClock className=\"text-yellow-600 text-2xl\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-gray-600 text-sm font-medium\">Approved</p>\r\n                <p className=\"text-2xl font-bold text-green-600 mt-1\">{statistics.approvedApplications}</p>\r\n              </div>\r\n              <FaCheckCircle className=\"text-green-600 text-2xl\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-gray-600 text-sm font-medium\">Rejected</p>\r\n                <p className=\"text-2xl font-bold text-red-600 mt-1\">{statistics.rejectedApplications}</p>\r\n              </div>\r\n              <FaTimesCircle className=\"text-red-600 text-2xl\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mortgage Products */}\r\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Mortgage Products</h2>\r\n          \r\n          {bank.mortgageProducts && bank.mortgageProducts.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {bank.mortgageProducts.filter(p => p.isActive).map((product, index) => (\r\n                <div key={index} className=\"border border-gray-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-900\">{product.name}</h3>\r\n                      {product.description && (\r\n                        <p className=\"text-sm text-gray-600 mt-1\">{product.description}</p>\r\n                      )}\r\n                      <div className=\"mt-2 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n                        <div>\r\n                          <span className=\"text-gray-600\">Loan Range:</span>\r\n                          <p className=\"font-medium\">₦{product.minLoanAmount?.toLocaleString()} - ₦{product.maxLoanAmount?.toLocaleString()}</p>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-600\">Down Payment:</span>\r\n                          <p className=\"font-medium\">{product.minDownPaymentPercent}%</p>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-600\">Term:</span>\r\n                          <p className=\"font-medium\">{product.maxLoanTerm} years</p>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-600\">Interest Rate:</span>\r\n                          <p className=\"font-medium\">{product.interestRate}% ({product.interestRateType})</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8\">\r\n              <FaFileAlt className=\"text-4xl text-gray-300 mx-auto mb-4\" />\r\n              <p className=\"text-gray-600\">No mortgage products yet. Add your first product to get started.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Applications Section */}\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Recent Applications</h2>\r\n          {applications.length === 0 ? (\r\n            <div className=\"text-center py-8 text-gray-600\">\r\n              <p>No mortgage applications yet.</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {applications.slice(0, 5).map((app) => (\r\n                <div \r\n                  key={app._id} \r\n                  className=\"border border-gray-200 rounded-lg p-4 flex items-center justify-between hover:shadow-md transition-shadow cursor-pointer\"\r\n                  onClick={() => {\r\n                    setSelectedApplication(app);\r\n                    setShowApplicationModal(true);\r\n                  }}\r\n                >\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"font-semibold text-gray-900\">\r\n                      {app.property?.title || 'Property'} - ₦{app.requestedAmount.toLocaleString()}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      Applicant: {app.buyer?.firstName} {app.buyer?.lastName} ({app.buyer?.email})\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      Status: <span className=\"font-medium capitalize\">{app.status.replace('_', ' ')}</span>\r\n                      {app.documents && app.documents.length > 0 && (\r\n                        <span className=\"ml-2 text-blue-600\">\r\n                          • {app.documents.length} document{app.documents.length > 1 ? 's' : ''}\r\n                        </span>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      setSelectedApplication(app);\r\n                      setShowApplicationModal(true);\r\n                    }}\r\n                    className=\"ml-4 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm\"\r\n                  >\r\n                    View Details\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add Product Modal */}\r\n      {showProductModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Add Mortgage Product</h2>\r\n            <form onSubmit={handleAddProduct}>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Product Name *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={newProduct.name}\r\n                    onChange={(e) => setNewProduct({ ...newProduct, name: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"e.g., Standard 20-Year Fixed\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\r\n                  <textarea\r\n                    value={newProduct.description}\r\n                    onChange={(e) => setNewProduct({ ...newProduct, description: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    rows=\"3\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Min Loan Amount (₦) *</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      required\r\n                      value={newProduct.minLoanAmount}\r\n                      onChange={(e) => setNewProduct({ ...newProduct, minLoanAmount: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max Loan Amount (₦) *</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      required\r\n                      value={newProduct.maxLoanAmount}\r\n                      onChange={(e) => setNewProduct({ ...newProduct, maxLoanAmount: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Down Payment % *</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      required\r\n                      min=\"0\"\r\n                      max=\"100\"\r\n                      value={newProduct.minDownPaymentPercent}\r\n                      onChange={(e) => setNewProduct({ ...newProduct, minDownPaymentPercent: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max Loan Term (years) *</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      required\r\n                      min=\"1\"\r\n                      max=\"30\"\r\n                      value={newProduct.maxLoanTerm}\r\n                      onChange={(e) => setNewProduct({ ...newProduct, maxLoanTerm: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Interest Rate (%) *</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      required\r\n                      step=\"0.1\"\r\n                      value={newProduct.interestRate}\r\n                      onChange={(e) => setNewProduct({ ...newProduct, interestRate: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Rate Type *</label>\r\n                    <select\r\n                      value={newProduct.interestRateType}\r\n                      onChange={(e) => setNewProduct({ ...newProduct, interestRateType: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    >\r\n                      <option value=\"fixed\">Fixed</option>\r\n                      <option value=\"variable\">Variable</option>\r\n                      <option value=\"adjustable\">Adjustable</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"border-t pt-4\">\r\n                  <h3 className=\"font-medium text-gray-900 mb-3\">Eligibility Criteria (Optional)</h3>\r\n                  <div className=\"grid grid-cols-3 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Min Monthly Income (₦)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={newProduct.eligibilityCriteria.minMonthlyIncome}\r\n                        onChange={(e) => setNewProduct({\r\n                          ...newProduct,\r\n                          eligibilityCriteria: {\r\n                            ...newProduct.eligibilityCriteria,\r\n                            minMonthlyIncome: e.target.value\r\n                          }\r\n                        })}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Min Credit Score</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        max=\"1000\"\r\n                        value={newProduct.eligibilityCriteria.minCreditScore}\r\n                        onChange={(e) => setNewProduct({\r\n                          ...newProduct,\r\n                          eligibilityCriteria: {\r\n                            ...newProduct.eligibilityCriteria,\r\n                            minCreditScore: e.target.value\r\n                          }\r\n                        })}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Employment Duration (months)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={newProduct.eligibilityCriteria.employmentDuration}\r\n                        onChange={(e) => setNewProduct({\r\n                          ...newProduct,\r\n                          eligibilityCriteria: {\r\n                            ...newProduct.eligibilityCriteria,\r\n                            employmentDuration: e.target.value\r\n                          }\r\n                        })}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end mt-6 space-x-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowProductModal(false)}\r\n                  className=\"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n                >\r\n                  Add Product\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Application Details Modal */}\r\n      {showApplicationModal && selectedApplication && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">Application Details</h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowApplicationModal(false);\r\n                  setSelectedApplication(null);\r\n                  setPreviewDocument(null);\r\n                  resetReviewForm();\r\n                }}\r\n                className=\"text-gray-500 hover:text-gray-700\"\r\n              >\r\n                <FaTimes className=\"text-xl\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-6\">\r\n              {/* Application Overview */}\r\n              <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Application Overview</h3>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Application ID</p>\r\n                    <p className=\"font-medium\">{selectedApplication._id}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Status</p>\r\n                    <span className={`inline-block px-2 py-1 rounded text-sm font-medium ${getStatusBadge(selectedApplication.status)}`}>\r\n                      {selectedApplication.status.replace('_', ' ').toUpperCase()}\r\n                    </span>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Property</p>\r\n                    <p className=\"font-medium\">{selectedApplication.property?.title || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Loan Amount</p>\r\n                    <p className=\"font-medium\">₦{selectedApplication.requestedAmount?.toLocaleString() || '0'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Down Payment</p>\r\n                    <p className=\"font-medium\">₦{selectedApplication.downPayment?.toLocaleString() || '0'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Interest Rate</p>\r\n                    <p className=\"font-medium\">{selectedApplication.interestRate || '0'}%</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Loan Term</p>\r\n                    <p className=\"font-medium\">{selectedApplication.loanTermYears || '0'} years</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Monthly Payment</p>\r\n                    <p className=\"font-medium\">₦{selectedApplication.estimatedMonthlyPayment?.toLocaleString() || '0'}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Applicant Information */}\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Applicant Information</h3>\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Name</p>\r\n                      <p className=\"font-medium\">{selectedApplication.buyer?.firstName || ''} {selectedApplication.buyer?.lastName || ''}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Email</p>\r\n                      <p className=\"font-medium\">{selectedApplication.buyer?.email || 'N/A'}</p>\r\n                    </div>\r\n                    {selectedApplication.employmentDetails && (\r\n                      <>\r\n                        <div>\r\n                          <p className=\"text-sm text-gray-600\">Employment Type</p>\r\n                          <p className=\"font-medium capitalize\">{selectedApplication.employmentDetails.type || 'N/A'}</p>\r\n                        </div>\r\n                        {selectedApplication.employmentDetails.monthlyIncome && (\r\n                          <div>\r\n                            <p className=\"text-sm text-gray-600\">Monthly Income</p>\r\n                            <p className=\"font-medium\">₦{selectedApplication.employmentDetails.monthlyIncome.toLocaleString()}</p>\r\n                          </div>\r\n                        )}\r\n                        {selectedApplication.employmentDetails.employerName && (\r\n                          <div>\r\n                            <p className=\"text-sm text-gray-600\">Employer</p>\r\n                            <p className=\"font-medium\">{selectedApplication.employmentDetails.employerName}</p>\r\n                          </div>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Documents Section */}\r\n              {selectedApplication.documents && selectedApplication.documents.length > 0 && (\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Documents ({selectedApplication.documents.length})</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    {selectedApplication.documents.map((doc, index) => {\r\n                      const isImage = doc.url && (doc.url.match(/\\.(jpg|jpeg|png|gif|webp)$/i) || doc.type?.toLowerCase().includes('image'));\r\n                      const isPDF = doc.url && (doc.url.match(/\\.pdf$/i) || doc.type?.toLowerCase().includes('pdf'));\r\n                      \r\n                      return (\r\n                        <div key={index} className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\">\r\n                          <div className=\"flex items-start justify-between mb-2\">\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"font-medium text-gray-900 truncate\">{doc.name || `Document ${index + 1}`}</p>\r\n                              <p className=\"text-xs text-gray-500 mt-1\">\r\n                                {doc.type && <span className=\"capitalize\">{doc.type.replace('_', ' ')}</span>}\r\n                                {doc.uploadedAt && (\r\n                                  <span className=\"ml-2\">\r\n                                    • {new Date(doc.uploadedAt).toLocaleDateString()}\r\n                                  </span>\r\n                                )}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          {/* Preview for images */}\r\n                          {isImage && doc.url && (\r\n                            <div className=\"mb-3\">\r\n                              <img\r\n                                src={doc.url}\r\n                                alt={doc.name || 'Document'}\r\n                                className=\"w-full h-32 object-cover rounded border border-gray-200 cursor-pointer hover:opacity-90\"\r\n                                onClick={() => setPreviewDocument(doc)}\r\n                              />\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* PDF preview indicator */}\r\n                          {isPDF && doc.url && (\r\n                            <div className=\"mb-3 bg-gray-100 rounded p-4 text-center\">\r\n                              <FaFileAlt className=\"text-4xl text-red-500 mx-auto mb-2\" />\r\n                              <p className=\"text-sm text-gray-600\">PDF Document</p>\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Action buttons */}\r\n                          <div className=\"flex gap-2\">\r\n                            {(isImage || isPDF) && (\r\n                              <button\r\n                                onClick={() => setPreviewDocument(doc)}\r\n                                className=\"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center justify-center gap-2\"\r\n                              >\r\n                                <FaEye />\r\n                                Preview\r\n                              </button>\r\n                            )}\r\n                            <a\r\n                              href={doc.url}\r\n                              download={doc.name || 'document'}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"flex-1 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm flex items-center justify-center gap-2\"\r\n                            >\r\n                              <FaDownload />\r\n                              Download\r\n                            </a>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {(!selectedApplication.documents || selectedApplication.documents.length === 0) && (\r\n                <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\r\n                  <FaFileAlt className=\"text-4xl text-gray-300 mx-auto mb-2\" />\r\n                  <p className=\"text-gray-600\">No documents uploaded for this application</p>\r\n                </div>\r\n              )}\r\n\r\n              {/* Bank Review Section - Only show for pending/under_review/needs_more_info */}\r\n              {(selectedApplication.status === 'pending' || \r\n                selectedApplication.status === 'under_review' || \r\n                selectedApplication.status === 'needs_more_info') && (\r\n                <div className=\"border-t border-gray-200 pt-6\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Review Application</h3>\r\n                  \r\n                  {/* Decision Selection */}\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Decision <span className=\"text-red-500\">*</span>\r\n                    </label>\r\n                    <div className=\"grid grid-cols-3 gap-3\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          setReviewDecision('approved');\r\n                          // Pre-fill loan terms from application\r\n                          if (selectedApplication.requestedAmount && !reviewLoanTerms.approvedAmount) {\r\n                            setReviewLoanTerms({\r\n                              approvedAmount: selectedApplication.requestedAmount.toString(),\r\n                              interestRate: selectedApplication.interestRate?.toString() || '',\r\n                              loanTermYears: selectedApplication.loanTermYears?.toString() || '',\r\n                              monthlyPayment: selectedApplication.estimatedMonthlyPayment?.toString() || ''\r\n                            });\r\n                          }\r\n                        }}\r\n                        className={`px-4 py-3 rounded-lg border-2 transition-colors ${\r\n                          reviewDecision === 'approved'\r\n                            ? 'border-green-600 bg-green-50 text-green-700'\r\n                            : 'border-gray-300 hover:border-green-400 text-gray-700'\r\n                        }`}\r\n                      >\r\n                        <FaCheckCircle className=\"mx-auto mb-1\" />\r\n                        Approve\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setReviewDecision('rejected')}\r\n                        className={`px-4 py-3 rounded-lg border-2 transition-colors ${\r\n                          reviewDecision === 'rejected'\r\n                            ? 'border-red-600 bg-red-50 text-red-700'\r\n                            : 'border-gray-300 hover:border-red-400 text-gray-700'\r\n                        }`}\r\n                      >\r\n                        <FaTimesCircle className=\"mx-auto mb-1\" />\r\n                        Reject\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setReviewDecision('needs_more_info')}\r\n                        className={`px-4 py-3 rounded-lg border-2 transition-colors ${\r\n                          reviewDecision === 'needs_more_info'\r\n                            ? 'border-yellow-600 bg-yellow-50 text-yellow-700'\r\n                            : 'border-gray-300 hover:border-yellow-400 text-gray-700'\r\n                        }`}\r\n                      >\r\n                        <FaClock className=\"mx-auto mb-1\" />\r\n                        Request Info\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Notes */}\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Review Notes\r\n                    </label>\r\n                    <textarea\r\n                      value={reviewNotes}\r\n                      onChange={(e) => setReviewNotes(e.target.value)}\r\n                      rows={4}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                      placeholder=\"Enter your review notes, feedback, or additional comments...\"\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Conditions - Show for approved or needs_more_info */}\r\n                  {(reviewDecision === 'approved' || reviewDecision === 'needs_more_info') && (\r\n                    <div className=\"mb-4\">\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        Conditions {reviewDecision === 'approved' ? '(Optional)' : '(Required)'}\r\n                      </label>\r\n                      <div className=\"space-y-2\">\r\n                        {reviewConditions.map((condition, index) => (\r\n                          <div key={index} className=\"flex gap-2\">\r\n                            <input\r\n                              type=\"text\"\r\n                              value={condition}\r\n                              onChange={(e) => updateCondition(index, e.target.value)}\r\n                              className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                              placeholder={`Condition ${index + 1} (e.g., Provide property insurance, Complete credit check...)`}\r\n                            />\r\n                            {reviewConditions.length > 1 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => removeCondition(index)}\r\n                                className=\"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg\"\r\n                              >\r\n                                <FaTimes />\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={addCondition}\r\n                          className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\r\n                        >\r\n                          + Add Another Condition\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Loan Terms - Only for approved */}\r\n                  {reviewDecision === 'approved' && (\r\n                    <div className=\"mb-4 bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                      <h4 className=\"text-sm font-semibold text-green-900 mb-3\">Approved Loan Terms</h4>\r\n                      <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Approved Amount <span className=\"text-red-500\">*</span>\r\n                          </label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={reviewLoanTerms.approvedAmount}\r\n                            onChange={(e) => setReviewLoanTerms({ ...reviewLoanTerms, approvedAmount: e.target.value })}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                            placeholder=\"Amount in NGN\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Interest Rate (%) <span className=\"text-red-500\">*</span>\r\n                          </label>\r\n                          <input\r\n                            type=\"number\"\r\n                            step=\"0.01\"\r\n                            value={reviewLoanTerms.interestRate}\r\n                            onChange={(e) => setReviewLoanTerms({ ...reviewLoanTerms, interestRate: e.target.value })}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                            placeholder=\"e.g., 18.5\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Loan Term (Years) <span className=\"text-red-500\">*</span>\r\n                          </label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={reviewLoanTerms.loanTermYears}\r\n                            onChange={(e) => setReviewLoanTerms({ ...reviewLoanTerms, loanTermYears: e.target.value })}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                            placeholder=\"e.g., 25\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Monthly Payment (Optional)\r\n                          </label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={reviewLoanTerms.monthlyPayment}\r\n                            onChange={(e) => setReviewLoanTerms({ ...reviewLoanTerms, monthlyPayment: e.target.value })}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                            placeholder=\"Auto-calculated if empty\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Previous Review (if exists) */}\r\n                  {selectedApplication.bankReview && (\r\n                    <div className=\"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                      <h4 className=\"text-sm font-semibold text-blue-900 mb-2\">Previous Review</h4>\r\n                      <div className=\"space-y-2 text-sm\">\r\n                        <div>\r\n                          <span className=\"font-medium\">Decision:</span>{' '}\r\n                          <span className=\"capitalize\">{selectedApplication.bankReview.decision || 'N/A'}</span>\r\n                        </div>\r\n                        {selectedApplication.bankReview.notes && (\r\n                          <div>\r\n                            <span className=\"font-medium\">Notes:</span>{' '}\r\n                            <span>{selectedApplication.bankReview.notes}</span>\r\n                          </div>\r\n                        )}\r\n                        {selectedApplication.bankReview.conditions && selectedApplication.bankReview.conditions.length > 0 && (\r\n                          <div>\r\n                            <span className=\"font-medium\">Conditions:</span>\r\n                            <ul className=\"list-disc list-inside mt-1 ml-2\">\r\n                              {selectedApplication.bankReview.conditions.map((cond, idx) => (\r\n                                <li key={idx}>{cond}</li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                        )}\r\n                        {selectedApplication.bankReview.reviewedAt && (\r\n                          <div>\r\n                            <span className=\"font-medium\">Reviewed At:</span>{' '}\r\n                            <span>{new Date(selectedApplication.bankReview.reviewedAt).toLocaleString()}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Submit Review Button */}\r\n                  <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-200\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        resetReviewForm();\r\n                      }}\r\n                      className=\"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors\"\r\n                      disabled={isReviewing}\r\n                    >\r\n                      Reset\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleReviewApplication}\r\n                      disabled={isReviewing || !reviewDecision}\r\n                      className={`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${\r\n                        reviewDecision === 'approved'\r\n                          ? 'bg-green-600 hover:bg-green-700 text-white'\r\n                          : reviewDecision === 'rejected'\r\n                          ? 'bg-red-600 hover:bg-red-700 text-white'\r\n                          : reviewDecision === 'needs_more_info'\r\n                          ? 'bg-yellow-600 hover:bg-yellow-700 text-white'\r\n                          : 'bg-gray-400 text-gray-200 cursor-not-allowed'\r\n                      }`}\r\n                    >\r\n                      {isReviewing ? (\r\n                        <>\r\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                          <span>Submitting...</span>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          {reviewDecision === 'approved' && <FaCheckCircle />}\r\n                          {reviewDecision === 'rejected' && <FaTimesCircle />}\r\n                          {reviewDecision === 'needs_more_info' && <FaClock />}\r\n                          <span>Submit Review</span>\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Document Preview Modal */}\r\n      {previewDocument && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-[60]\">\r\n          <div className=\"relative max-w-6xl w-full max-h-full\">\r\n            <button\r\n              onClick={() => setPreviewDocument(null)}\r\n              className=\"absolute top-4 right-4 p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-all z-10\"\r\n            >\r\n              <FaTimes className=\"text-gray-700 text-xl\" />\r\n            </button>\r\n            \r\n            {previewDocument.url && (\r\n              <>\r\n                {previewDocument.url.match(/\\.(jpg|jpeg|png|gif|webp)$/i) ? (\r\n                  <img\r\n                    src={previewDocument.url}\r\n                    alt={previewDocument.name || 'Preview'}\r\n                    className=\"max-w-full max-h-[90vh] object-contain mx-auto rounded-lg\"\r\n                  />\r\n                ) : previewDocument.url.match(/\\.pdf$/i) ? (\r\n                  <iframe\r\n                    src={previewDocument.url}\r\n                    className=\"w-full h-[90vh] border-0 rounded-lg bg-white\"\r\n                    title={previewDocument.name || 'PDF Preview'}\r\n                  />\r\n                ) : (\r\n                  <div className=\"bg-white rounded-lg p-8 max-w-md mx-auto\">\r\n                    <FaFileAlt className=\"text-gray-400 text-6xl mx-auto mb-4\" />\r\n                    <h3 className=\"text-lg font-medium text-gray-900 text-center mb-2\">{previewDocument.name || 'Document'}</h3>\r\n                    <p className=\"text-sm text-gray-500 text-center mb-4\">\r\n                      Preview not available for this file type\r\n                    </p>\r\n                    <a\r\n                      href={previewDocument.url}\r\n                      download={previewDocument.name}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"block w-full text-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n                    >\r\n                      <FaDownload className=\"inline mr-2\" />\r\n                      Download File\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n            \r\n            {previewDocument.name && (\r\n              <div className=\"absolute bottom-4 left-4 right-4 bg-black bg-opacity-50 text-white p-3 rounded-lg text-center\">\r\n                <p className=\"text-sm font-medium\">{previewDocument.name}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MortgageBankDashboard;\r\n\r\n"],"names":["MortgageBankDashboard","_bank$address","_bank$address2","_selectedApplication$","_selectedApplication$2","_selectedApplication$3","_selectedApplication$4","_selectedApplication$5","_selectedApplication$6","_selectedApplication$7","user","useAuth","navigate","useNavigate","loading","setLoading","useState","bank","setBank","statistics","setStatistics","totalApplications","pendingApplications","approvedApplications","rejectedApplications","applications","setApplications","showProductModal","setShowProductModal","selectedApplication","setSelectedApplication","showApplicationModal","setShowApplicationModal","previewDocument","setPreviewDocument","reviewDecision","setReviewDecision","reviewNotes","setReviewNotes","reviewConditions","setReviewConditions","reviewLoanTerms","setReviewLoanTerms","approvedAmount","interestRate","loanTermYears","monthlyPayment","isReviewing","setIsReviewing","newProduct","setNewProduct","name","description","minLoanAmount","maxLoanAmount","minDownPaymentPercent","maxLoanTerm","interestRateType","eligibilityCriteria","minMonthlyIncome","minCreditScore","employmentDuration","useEffect","role","loadBankData","toast","error","async","token","localStorage","getItem","response","axios","get","getApiUrl","headers","Authorization","concat","data","success","length","userBank","find","b","_b$userAccount","_b$userAccount2","userAccount","_id","id","loadApplications","console","apps","filter","a","status","resetReviewForm","_jsx","className","children","_jsxs","FaBuilding","onClick","getStatusBadge","pending","approved","rejected","fullAddress","address","city","state","verificationStatus","_Fragment","FaCheckCircle","FaClock","FaTimesCircle","FaPlus","FaFileAlt","mortgageProducts","p","isActive","map","product","index","_product$minLoanAmoun","_product$maxLoanAmoun","toLocaleString","slice","app","_app$property","_app$buyer","_app$buyer2","_app$buyer3","property","title","requestedAmount","buyer","firstName","lastName","email","replace","documents","e","stopPropagation","onSubmit","preventDefault","post","parseFloat","_error$response2","_error$response2$data","message","type","required","value","onChange","_objectSpread","target","placeholder","rows","min","max","step","FaTimes","toUpperCase","downPayment","estimatedMonthlyPayment","employmentDetails","monthlyIncome","employerName","doc","_doc$type","_doc$type2","isImage","url","match","toLowerCase","includes","isPDF","uploadedAt","Date","toLocaleDateString","src","alt","FaEye","href","download","rel","FaDownload","_selectedApplication$8","_selectedApplication$9","_selectedApplication$0","toString","condition","updateCondition","updated","_","i","removeCondition","addCondition","bankReview","decision","notes","conditions","cond","idx","reviewedAt","disabled","put","trim","undefined","c","loanTerms","setTimeout","_error$response","_error$response$data"],"sourceRoot":""}