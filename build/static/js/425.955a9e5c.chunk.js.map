{"version":3,"file":"static/js/425.955a9e5c.chunk.js","mappings":"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","sources":["pages/SavedProperties.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useProperty } from '../contexts/PropertyContext';\nimport { FaHeart, FaShare, FaBed, FaBath, FaRuler, FaMapMarkerAlt, FaTrash, FaEye, FaPhone, FaEnvelope, FaFilter, FaSort, FaShoppingCart, FaCalendar } from 'react-icons/fa';\nimport toast from 'react-hot-toast';\n\nconst SavedProperties = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const { properties = [], toggleFavorite, fetchProperties, loading: propertiesLoading } = useProperty();\n  const [savedProperties, setSavedProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [sortBy, setSortBy] = useState('dateAdded');\n  const [filterBy, setFilterBy] = useState('all');\n\n  // Load saved properties from localStorage and match with actual property data\n  const loadSavedProperties = useCallback(() => {\n    if (!user) {\n      setSavedProperties([]);\n      setLoading(false);\n      return;\n    }\n\n    try {\n      // Get saved property IDs from localStorage\n      const key = `favorites_${user.id}`;\n      const savedFavoriteIds = JSON.parse(localStorage.getItem(key) || '[]');\n      \n      // Also check for stored property metadata (for mock data or properties not in current list)\n      const savedPropertiesMetadataKey = `favorites_metadata_${user.id}`;\n      const savedPropertiesMetadata = JSON.parse(localStorage.getItem(savedPropertiesMetadataKey) || '{}');\n      \n      console.log('SavedProperties: Loading saved properties', {\n        savedFavoriteIds,\n        savedFavoriteIdsCount: savedFavoriteIds.length,\n        propertiesAvailable: properties.length,\n        savedMetadataCount: Object.keys(savedPropertiesMetadata).length,\n        propertyIdsSample: properties.slice(0, 3).map(p => p.id || p.propertyId || p._id)\n      });\n      \n      if (!Array.isArray(savedFavoriteIds) || savedFavoriteIds.length === 0) {\n        setSavedProperties([]);\n        setLoading(false);\n        return;\n      }\n\n      // Helper function to transform property to SavedProperties format\n      const transformProperty = (property, favoriteId) => {\n        return {\n          id: String(property.id || property.propertyId || property._id || favoriteId),\n          title: property.title || 'Untitled Property',\n          location: typeof property.location === 'string' \n            ? property.location \n            : property.location?.address \n              ? `${property.location.address}${property.location.city ? ', ' + property.location.city : ''}${property.location.state ? ', ' + property.location.state : ''}`.replace(/^, |, $/g, '').trim()\n              : property.city && property.state \n                ? `${property.city}, ${property.state}`\n                : property.city || property.state || property.address || 'Location not specified',\n          price: property.price || 0,\n          bedrooms: property.bedrooms || property.details?.bedrooms || 0,\n          bathrooms: property.bathrooms || property.details?.bathrooms || 0,\n          area: property.area || property.details?.sqft || property.sqft || 0,\n          image: property.image || property.images?.[0]?.url || property.images?.[0] || 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=400&h=300&fit=crop',\n          dateAdded: property.dateAdded || property.createdAt || new Date().toISOString().split('T')[0],\n          status: property.status || property.listingType || property.statusSlug || 'available',\n          type: property.type || property.typeSlug || 'sale',\n          agent: property.agent || property.owner || {\n            name: property.vendorName || 'Property Agent',\n            phone: property.vendorPhone || property.contactPhone || '+234-XXX-XXXX',\n            email: property.vendorEmail || property.contactEmail || 'agent@example.com'\n          }\n        };\n      };\n\n      // Match saved IDs with actual properties\n      const matchedProperties = savedFavoriteIds\n        .map(favoriteId => {\n          // Normalize favoriteId to string for consistent comparison\n          const favoriteIdStr = String(favoriteId);\n          \n          // First, try to find property in current properties list\n          const property = properties.find(p => {\n            const propId = p.id || p.propertyId || p._id;\n            const propIdStr = String(propId || '');\n            \n            // Compare as strings for consistent matching\n            const matches = (\n              propIdStr === favoriteIdStr ||\n              propId === favoriteId ||\n              String(propId) === String(favoriteId)\n            );\n            \n            return matches;\n          });\n          \n          if (property) {\n            // Found in current properties list\n            return transformProperty(property, favoriteId);\n          }\n          \n          // If not found, check saved metadata (for mock data or properties not currently loaded)\n          const savedMetadata = savedPropertiesMetadata[favoriteIdStr];\n          if (savedMetadata) {\n            console.log('SavedProperties: Using saved metadata for property', favoriteIdStr);\n            return transformProperty(savedMetadata, favoriteId);\n          }\n          \n          // If property not found anywhere, log for debugging\n          console.warn('SavedProperties: Property not found in properties list or metadata', {\n            favoriteId,\n            favoriteIdStr,\n            favoriteIdType: typeof favoriteId,\n            availablePropertyIds: properties.map(p => ({\n              id: p.id || p.propertyId || p._id,\n              idStr: String(p.id || p.propertyId || p._id),\n              type: typeof (p.id || p.propertyId || p._id)\n            })).slice(0, 5)\n          });\n          \n          return null;\n        })\n        .filter(Boolean); // Remove null entries\n\n      console.log('SavedProperties: Loaded properties result', {\n        savedFavoriteIdsCount: savedFavoriteIds.length,\n        matchedPropertiesCount: matchedProperties.length,\n        totalPropertiesAvailable: properties.length,\n        unmatchedIds: savedFavoriteIds.filter(id => !matchedProperties.find(p => (p.id === id || p.id?.toString() === id?.toString())))\n      });\n\n      setSavedProperties(matchedProperties);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading saved properties:', error);\n      setSavedProperties([]);\n      setLoading(false);\n    }\n  }, [user, properties]);\n\n  // Fetch properties if not already loaded\n  useEffect(() => {\n    if (user && fetchProperties) {\n      // Always fetch properties to ensure we have the latest data\n      if (properties.length === 0 && !propertiesLoading) {\n        console.log('SavedProperties: Fetching properties...');\n        fetchProperties();\n      }\n    }\n  }, [user, fetchProperties, properties.length, propertiesLoading]);\n\n  // Load saved properties when user or properties change\n  useEffect(() => {\n    // Wait a bit for properties to load if they're not loaded yet\n    if (properties.length === 0) {\n      const timer = setTimeout(() => {\n        loadSavedProperties();\n      }, 500);\n      return () => clearTimeout(timer);\n    } else {\n      loadSavedProperties();\n    }\n  }, [loadSavedProperties, properties.length]);\n\n  // Listen for storage changes (when properties are saved/removed from other tabs/pages)\n  useEffect(() => {\n    if (!user) return;\n\n    const handleStorageChange = (e) => {\n      if (e.key === `favorites_${user.id}`) {\n        console.log('SavedProperties: Storage change detected, reloading...');\n        loadSavedProperties();\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    \n    // Also listen for custom events (for same-tab updates)\n    const handleFavoriteChange = (event) => {\n      console.log('SavedProperties: Favorites updated event received', event.detail);\n      // Small delay to ensure localStorage is updated\n      setTimeout(() => {\n        loadSavedProperties();\n      }, 100);\n    };\n    \n    window.addEventListener('favoritesUpdated', handleFavoriteChange);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('favoritesUpdated', handleFavoriteChange);\n    };\n  }, [user, loadSavedProperties]);\n\n  const handleRemoveFromSaved = async (propertyId) => {\n    if (!user) {\n      toast.error('Please register to manage saved properties');\n      return;\n    }\n\n    try {\n      // Normalize propertyId to string\n      const propertyIdStr = String(propertyId);\n      \n      // Remove from localStorage using toggleFavorite\n      const result = await toggleFavorite(propertyIdStr);\n      \n      if (result && result.success) {\n        // Reload saved properties to reflect the change\n        setTimeout(() => {\n          loadSavedProperties();\n        }, 100);\n        \n        // Dispatch custom event to notify Dashboard and other components\n        window.dispatchEvent(new CustomEvent('favoritesUpdated', { \n          detail: { propertyId: propertyIdStr, favorited: false } \n        }));\n        \n        toast.success('Property removed from saved list');\n      } else {\n        toast.error('Failed to remove property');\n      }\n    } catch (error) {\n      console.error('Error removing property:', error);\n      toast.error('Failed to remove property');\n    }\n  };\n\n  const handleBuyProperty = (property) => {\n    console.log('ðŸ”¥ SavedProperties: handleBuyProperty called with property:', property);\n    \n    if (!user) {\n      console.warn('ðŸ”¥ SavedProperties: No user logged in');\n      toast.error('Please register to purchase properties');\n      return;\n    }\n    \n    if (property.status === 'sold') {\n      console.warn('ðŸ”¥ SavedProperties: Property already sold');\n      toast.error('This property has already been sold');\n      return;\n    }\n    \n    // Navigate to escrow process for purchase\n    const escrowUrl = `/escrow/create?propertyId=${property.id}&type=purchase`;\n    console.log('ðŸ”¥ SavedProperties: Navigating to:', escrowUrl);\n    console.log('ðŸ”¥ SavedProperties: Property ID:', property.id, 'Type:', typeof property.id);\n    \n    navigate(escrowUrl);\n  };\n\n  const handleScheduleViewing = (property) => {\n    if (!user) {\n      toast.error('Please register to schedule viewings');\n      return;\n    }\n    \n    // Create viewing request data\n    const viewingRequest = {\n      id: `viewing-${Date.now()}`,\n      propertyId: property.id,\n      propertyTitle: property.title,\n      propertyLocation: property.location,\n      userId: user.id,\n      userName: `${user.firstName} ${user.lastName}`,\n      userEmail: user.email,\n      status: 'pending',\n      requestedAt: new Date().toISOString(),\n      preferredDate: null,\n      preferredTime: null,\n      message: '',\n      agentContact: property.agent || {\n        name: 'Property Agent',\n        phone: '+234-XXX-XXXX',\n        email: 'agent@example.com'\n      }\n    };\n    \n    // Store in localStorage for demo\n    const existingRequests = JSON.parse(localStorage.getItem('viewingRequests') || '[]');\n    existingRequests.push(viewingRequest);\n    localStorage.setItem('viewingRequests', JSON.stringify(existingRequests));\n    \n    toast.success(`Viewing request sent for \"${property.title}\"! The agent will contact you within 24 hours.`);\n    \n    // Show additional info\n    setTimeout(() => {\n      toast.info(`Agent: ${viewingRequest.agentContact.name} | Phone: ${viewingRequest.agentContact.phone}`);\n    }, 2000);\n  };\n\n  const createInquiry = (property, inquiryType, message = '') => {\n    if (!user || !property) return;\n\n    // Check if inquiry already exists for this property and user\n    const existingInquiries = JSON.parse(localStorage.getItem('inquiries') || '[]');\n    const existingInquiry = existingInquiries.find(\n      inq => inq.propertyId === property.id && \n             (inq.userId === user.id || inq.buyerId === user.id) &&\n             (inq.status === 'new' || inq.status === 'pending' || inq.status === 'contacted')\n    );\n\n    // If inquiry already exists, don't create duplicate\n    if (existingInquiry) {\n      return existingInquiry;\n    }\n\n    // Get property location\n    const propertyLocation = typeof property.location === 'string' \n      ? property.location \n      : property.location?.address || property.location?.city || property.address || property.city || 'Location not specified';\n\n    // Create new inquiry\n    const inquiry = {\n      id: `inquiry-${Date.now()}`,\n      propertyId: property.id,\n      propertyTitle: property.title,\n      propertyLocation: propertyLocation,\n      propertyPrice: property.price || 0,\n      propertyImage: property.images?.[0]?.url || property.image || property.images?.[0] || '',\n      propertyBedrooms: property.bedrooms || property.details?.bedrooms || 0,\n      propertyBathrooms: property.bathrooms || property.details?.bathrooms || 0,\n      propertyArea: property.area || property.details?.sqft || 0,\n      userId: user.id,\n      buyerId: user.id,\n      buyerName: `${user.firstName} ${user.lastName}`,\n      buyerEmail: user.email,\n      buyerPhone: user.phone || '',\n      vendorId: property.vendorId || property.owner?.id || property.vendor?.id || '',\n      vendorName: property.owner?.firstName \n        ? `${property.owner.firstName} ${property.owner.lastName || ''}`.trim()\n        : property.vendor?.firstName \n        ? `${property.vendor.firstName} ${property.vendor.lastName || ''}`.trim()\n        : property.agent?.name || 'Property Vendor',\n      vendorEmail: property.owner?.email || property.vendor?.email || property.vendorEmail || property.agent?.email || '',\n      vendorPhone: property.owner?.phone || property.vendorPhone || property.contactPhone || property.vendor?.phone || property.agent?.phone || '',\n      inquiryType: inquiryType, // 'call' or 'message'\n      message: message || `I'm interested in ${property.title}. Please contact me.`,\n      status: 'new',\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n      responses: []\n    };\n\n    // Save to localStorage\n    existingInquiries.push(inquiry);\n    localStorage.setItem('inquiries', JSON.stringify(existingInquiries));\n\n    // Dispatch event to notify dashboard\n    window.dispatchEvent(new CustomEvent('inquiriesUpdated', {\n      detail: { inquiry, action: 'created' }\n    }));\n    \n    // Also trigger a storage event for cross-tab synchronization\n    window.dispatchEvent(new StorageEvent('storage', {\n      key: 'inquiries',\n      newValue: JSON.stringify(existingInquiries)\n    }));\n\n    return inquiry;\n  };\n\n  const handleContactAgent = (property) => {\n    console.log('Contact Agent clicked, property:', property, 'user:', user);\n    \n    if (!user) {\n      toast.error('Please register to contact agents');\n      return;\n    }\n    \n    // Create inquiry\n    createInquiry(property, 'call', `I'm interested in ${property.title}. Please contact me via phone call.`);\n    \n    // Get agent's phone number\n    const agentPhone = property?.agent?.phone || property?.owner?.phone || property?.vendorPhone || property?.contactPhone;\n    \n    if (!agentPhone) {\n      toast.error('Agent phone number not available');\n      return;\n    }\n    \n    // Initiate phone call\n    window.location.href = `tel:${agentPhone}`;\n    \n    toast.success('Inquiry saved to My Inquiries.');\n  };\n\n  const handleSortChange = (e) => {\n    setSortBy(e.target.value);\n  };\n\n  const handleFilterChange = (e) => {\n    setFilterBy(e.target.value);\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'available': return 'bg-green-100 text-green-800';\n      case 'sold': return 'bg-red-100 text-red-800';\n      case 'rented': return 'bg-blue-100 text-blue-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusLabel = (status) => {\n    switch (status) {\n      case 'available': return 'Available';\n      case 'sold': return 'Sold';\n      case 'rented': return 'Rented';\n      default: return 'Unknown';\n    }\n  };\n\n  const filteredAndSortedProperties = savedProperties\n    .filter(property => {\n      if (filterBy === 'all') return true;\n      if (filterBy === 'available') return property.status === 'available';\n      if (filterBy === 'sold') return property.status === 'sold';\n      if (filterBy === 'rented') return property.status === 'rented';\n      return true;\n    })\n    .sort((a, b) => {\n      switch (sortBy) {\n        case 'priceHigh':\n          const priceA = parseFloat(a.price) || 0;\n          const priceB = parseFloat(b.price) || 0;\n          return priceB - priceA;\n        case 'priceLow':\n          const priceALow = parseFloat(a.price) || 0;\n          const priceBLow = parseFloat(b.price) || 0;\n          return priceALow - priceBLow;\n        case 'dateAdded':\n          const dateA = a.dateAdded ? new Date(a.dateAdded) : new Date(0);\n          const dateB = b.dateAdded ? new Date(b.dateAdded) : new Date(0);\n          const timeA = isNaN(dateA.getTime()) ? 0 : dateA.getTime();\n          const timeB = isNaN(dateB.getTime()) ? 0 : dateB.getTime();\n          return timeB - timeA; // Newest first\n        case 'bedrooms':\n          const bedroomsA = parseInt(a.bedrooms) || 0;\n          const bedroomsB = parseInt(b.bedrooms) || 0;\n          return bedroomsB - bedroomsA;\n        default:\n          return 0;\n      }\n    });\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"mb-4\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Saved Properties</h1>\n        <p className=\"text-gray-600\">\n          Manage your saved properties and track their availability status\n        </p>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-blue-100 rounded-lg\">\n              <FaHeart className=\"text-brand-blue text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Total Saved</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{savedProperties.length}</p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-green-100 rounded-lg\">\n              <FaEye className=\"text-green-600 text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Available</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {savedProperties.filter(p => p.status === 'available').length}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-red-100 rounded-lg\">\n              <FaTrash className=\"text-red-600 text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Sold/Rented</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {savedProperties.filter(p => p.status === 'sold' || p.status === 'rented').length}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-orange-100 rounded-lg\">\n              <FaMapMarkerAlt className=\"text-brand-orange text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Locations</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {new Set(savedProperties.map(p => {\n                  if (typeof p.location === 'string') {\n                    const parts = p.location.split(',');\n                    return parts[parts.length > 1 ? 1 : 0]?.trim() || p.location;\n                  }\n                  return p.location || 'Unknown';\n                })).size}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters and Sort */}\n      <div className=\"bg-white rounded-lg shadow p-6 mb-4\">\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex items-center space-x-2\">\n              <FaFilter className=\"text-gray-500\" />\n              <select\n                value={filterBy}\n                onChange={handleFilterChange}\n                className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n              >\n                <option value=\"all\">All Properties</option>\n                <option value=\"available\">Available</option>\n                <option value=\"sold\">Sold</option>\n                <option value=\"rented\">Rented</option>\n              </select>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <FaSort className=\"text-gray-500\" />\n              <select\n                value={sortBy}\n                onChange={handleSortChange}\n                className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n              >\n                <option value=\"dateAdded\">Date Added</option>\n                <option value=\"priceHigh\">Price: High to Low</option>\n                <option value=\"priceLow\">Price: Low to High</option>\n                <option value=\"bedrooms\">Bedrooms</option>\n              </select>\n            </div>\n          </div>\n          \n          <div className=\"text-sm text-gray-600\">\n            Showing {filteredAndSortedProperties.length} of {savedProperties.length} properties\n          </div>\n        </div>\n      </div>\n\n      {/* Properties Grid */}\n      {filteredAndSortedProperties.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow p-12 text-center\">\n          <FaHeart className=\"text-gray-300 text-6xl mx-auto mb-4\" />\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No Saved Properties</h3>\n          <p className=\"text-gray-600 mb-6\">\n            {filterBy === 'all' \n              ? \"You haven't saved any properties yet. Start browsing to save your favorites!\"\n              : `No ${filterBy} properties found in your saved list.`\n            }\n          </p>\n          <Link \n            to=\"/properties\" \n            className=\"btn-primary inline-flex items-center\"\n          >\n            Browse Properties\n          </Link>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredAndSortedProperties.map((property) => (\n            <div key={property.id} className=\"property-card\">\n              <div className=\"relative\">\n                <Link \n                  to={`/property/${property.id}`}\n                  className=\"block cursor-pointer\"\n                >\n                  <img\n                    src={property.image}\n                    alt={property.title}\n                    className=\"property-card-image\"\n                  />\n                </Link>\n                <div className=\"absolute top-2 left-2\">\n                  <span className={`tag ${getStatusColor(property.status)}`}>\n                    {getStatusLabel(property.status)}\n                  </span>\n                </div>\n                <div className=\"absolute top-2 right-2 flex space-x-2 z-10\">\n                  <button \n                    onClick={async (e) => {\n                      e.stopPropagation();\n                      const url = `${window.location.origin}/property/${property.id}`;\n                      try {\n                        if (navigator.share) {\n                          await navigator.share({ title: property.title, text: property.title, url });\n                        } else {\n                          await navigator.clipboard.writeText(url);\n                          toast.success('Link copied');\n                        }\n                      } catch (e) {}\n                    }}\n                    className=\"text-white bg-black bg-opacity-50 p-1 rounded hover:bg-opacity-70 transition-all\">\n                    <FaShare className=\"text-sm\" />\n                  </button>\n                  <button \n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleRemoveFromSaved(property.id);\n                    }}\n                    className=\"text-white bg-red-500 bg-opacity-80 p-1 rounded hover:bg-opacity-100 transition-all\"\n                  >\n                    <FaTrash className=\"text-sm\" />\n                  </button>\n                </div>\n              </div>\n              \n              <Link \n                to={`/property/${property.id}`}\n                className=\"block property-card-content cursor-pointer\"\n              >\n                <div className=\"property-price\">\n                  â‚¦{(property.price || 0).toLocaleString()}\n                  {property.type === 'rent' && <span className=\"text-sm text-gray-500\">/month</span>}\n                </div>\n                <h3 className=\"property-title\">{property.title}</h3>\n                <p className=\"property-location\">\n                  <FaMapMarkerAlt className=\"mr-1\" />\n                  {property.location}\n                </p>\n                \n                <div className=\"property-features\">\n                  <div className=\"flex items-center space-x-1\">\n                    <FaBed />\n                    <span>{property.bedrooms} Bedrooms</span>\n                  </div>\n                  <div className=\"flex items-center space-x-1\">\n                    <FaBath />\n                    <span>{property.bathrooms} Bathrooms</span>\n                  </div>\n                  <div className=\"flex items-center space-x-1\">\n                    <FaRuler />\n                    <span>{property.area}mÂ²</span>\n                  </div>\n                </div>\n              </Link>\n\n              <div className=\"mt-4 pt-4 border-t border-gray-200 px-4 pb-4\">\n                  <div className=\"flex items-center justify-between text-sm text-gray-600 mb-3\">\n                    <span>Added: {new Date(property.dateAdded).toLocaleDateString()}</span>\n                    <span>Agent: {property.agent.name}</span>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    {/* Primary action based on property type and status */}\n                    {console.log('ðŸ”¥ SavedProperties: Rendering buttons for property:', { \n                      id: property.id, \n                      type: property.type, \n                      status: property.status,\n                      showBuyButton: property.type === 'sale' && property.status === 'available'\n                    })}\n                    {property.type === 'sale' && property.status === 'available' && (\n                      <button \n                        onClick={(e) => {\n                          console.log('ðŸ”¥ SavedProperties: Buy button clicked!', { property });\n                          e.stopPropagation();\n                          handleBuyProperty(property);\n                        }}\n                        className=\"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center\"\n                      >\n                        <FaShoppingCart className=\"mr-2\" />\n                        Buy Property - â‚¦{(property.price || 0).toLocaleString()}\n                      </button>\n                    )}\n                    \n                    {property.type === 'rent' && property.status === 'available' && (\n                      <button \n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleBuyProperty(property);\n                        }}\n                        className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center\"\n                      >\n                        <FaShoppingCart className=\"mr-2\" />\n                        Rent Property - â‚¦{(property.price || 0).toLocaleString()}/month\n                      </button>\n                    )}\n                    \n                    {property.status === 'sold' && (\n                      <div className=\"w-full bg-red-100 text-red-800 py-2 px-4 rounded-lg text-center\">\n                        Property Sold\n                      </div>\n                    )}\n                    \n                    {property.status === 'rented' && (\n                      <div className=\"w-full bg-blue-100 text-blue-800 py-2 px-4 rounded-lg text-center\">\n                        Property Rented\n                      </div>\n                    )}\n                    \n                    {/* Secondary actions */}\n                    <div className=\"flex space-x-2\">\n                      <div\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigate(`/property/${property.id}`);\n                        }}\n                        className=\"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-center cursor-pointer\"\n                      >\n                        View Details\n                      </div>\n                      <button \n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleScheduleViewing(property);\n                        }}\n                        className=\"flex-1 bg-orange-100 text-orange-700 py-2 px-4 rounded-lg hover:bg-orange-200 transition-colors flex items-center justify-center\"\n                      >\n                        <FaCalendar className=\"mr-1\" />\n                        Schedule Viewing\n                      </button>\n                      <button \n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleContactAgent(property);\n                        }}\n                        className=\"flex-1 bg-blue-100 text-blue-700 py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors flex items-center justify-center\"\n                      >\n                        <FaPhone className=\"mr-1\" />\n                        Contact Agent\n                      </button>\n                    </div>\n                  </div>\n                </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SavedProperties;\n\n"],"names":["SavedProperties","user","useAuth","navigate","useNavigate","properties","toggleFavorite","fetchProperties","loading","propertiesLoading","useProperty","savedProperties","setSavedProperties","useState","setLoading","sortBy","setSortBy","filterBy","setFilterBy","loadSavedProperties","useCallback","key","concat","id","savedFavoriteIds","JSON","parse","localStorage","getItem","savedPropertiesMetadataKey","savedPropertiesMetadata","console","log","savedFavoriteIdsCount","length","propertiesAvailable","savedMetadataCount","Object","keys","propertyIdsSample","slice","map","p","propertyId","_id","Array","isArray","transformProperty","property","favoriteId","_property$location","_property$details","_property$details2","_property$details3","_property$images","_property$images$","_property$images2","String","title","location","address","city","state","replace","trim","price","bedrooms","details","bathrooms","area","sqft","image","images","url","dateAdded","createdAt","Date","toISOString","split","status","listingType","statusSlug","type","typeSlug","agent","owner","name","vendorName","phone","vendorPhone","contactPhone","email","vendorEmail","contactEmail","matchedProperties","favoriteIdStr","find","propId","savedMetadata","warn","favoriteIdType","availablePropertyIds","idStr","filter","Boolean","matchedPropertiesCount","totalPropertiesAvailable","unmatchedIds","_p$id","toString","error","useEffect","timer","setTimeout","clearTimeout","handleStorageChange","e","window","addEventListener","handleFavoriteChange","event","detail","removeEventListener","handleBuyProperty","toast","escrowUrl","handleContactAgent","_property$agent4","_property$owner5","inquiryType","_property$location2","_property$location3","_property$images3","_property$images3$","_property$images4","_property$details4","_property$details5","_property$details6","_property$owner","_property$vendor","_property$owner2","_property$vendor2","_property$agent","_property$owner3","_property$vendor3","_property$agent2","_property$owner4","_property$vendor4","_property$agent3","message","arguments","undefined","existingInquiries","existingInquiry","inq","userId","buyerId","propertyLocation","inquiry","now","propertyTitle","propertyPrice","propertyImage","propertyBedrooms","propertyBathrooms","propertyArea","buyerName","firstName","lastName","buyerEmail","buyerPhone","vendorId","vendor","updatedAt","responses","push","setItem","stringify","dispatchEvent","CustomEvent","action","StorageEvent","newValue","createInquiry","agentPhone","href","success","getStatusColor","getStatusLabel","filteredAndSortedProperties","sort","a","b","priceA","parseFloat","dateA","dateB","timeA","isNaN","getTime","bedroomsA","parseInt","_jsx","className","children","_jsxs","FaHeart","FaEye","FaTrash","FaMapMarkerAlt","Set","_parts","parts","size","FaFilter","value","onChange","target","FaSort","Link","to","src","alt","onClick","async","stopPropagation","origin","navigator","share","text","clipboard","writeText","FaShare","propertyIdStr","result","favorited","handleRemoveFromSaved","toLocaleString","FaBed","FaBath","FaRuler","toLocaleDateString","showBuyButton","FaShoppingCart","viewingRequest","userName","userEmail","requestedAt","preferredDate","preferredTime","agentContact","existingRequests","info","handleScheduleViewing","FaCalendar","FaPhone"],"sourceRoot":""}