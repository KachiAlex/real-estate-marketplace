"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[191],{2191(e,s,a){a.r(s),a.d(s,{default:()=>i});var t=a(9379),r=a(5043),l=a(5475),n=a(5917),o=a(1876),c=a(579);const i=()=>{const[e,s]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),[d,x]=(0,r.useState)([]),[m,g]=(0,r.useState)(!0),[h,u]=(0,r.useState)(1),[p,j]=(0,r.useState)(1),[b,y]=(0,r.useState)({category:"",search:"",sort:"newest"});(0,r.useEffect)(()=>{v(),N(),f()},[h,b]);const v=async()=>{try{g(!0);const a=new URLSearchParams((0,t.A)({page:h,limit:12},b)),r=await fetch((0,o.e9)("/blog?".concat(a)));if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));const l=r.headers.get("content-type");if(!l||!l.includes("application/json"))return console.warn("Response is not JSON, using fallback data"),s([]),void j(0);const n=await r.json();var e;if(n.success)s(n.data),j((null===(e=n.pagination)||void 0===e?void 0:e.totalPages)||1);else s([]),j(1)}catch(a){console.error("Error loading blogs:",a),s([]),j(1)}finally{g(!1)}},N=async()=>{try{const e=await fetch((0,o.e9)("/blog/featured?limit=3"));if(!e.ok)return console.warn("Featured blogs API not available"),void i([]);const s=e.headers.get("content-type");if(!s||!s.includes("application/json"))return console.warn("Featured blogs response is not JSON"),void i([]);const a=await e.json();a.success?i(a.data):i([])}catch(e){console.error("Error loading featured blogs:",e),i([])}},f=async()=>{try{const e=await fetch((0,o.e9)("/blog/categories"));if(!e.ok)return console.warn("Categories API not available"),void x([]);const s=e.headers.get("content-type");if(!s||!s.includes("application/json"))return console.warn("Categories response is not JSON"),void x([]);const a=await e.json();a.success?x(a.data):x([])}catch(e){console.error("Error loading categories:",e),x([])}},w=(e,s)=>{y(a=>(0,t.A)((0,t.A)({},a),{},{[e]:s})),u(1)},k=e=>{u(e),window.scrollTo({top:0,behavior:"smooth"})},C=e=>{const s=d.find(s=>s.slug===e);return s?s.name:e},S=e=>(0,n.A)(new Date(e),"MMM dd, yyyy");return(0,c.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,c.jsx)("div",{className:"bg-white shadow-sm",children:(0,c.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Real Estate Blog"}),(0,c.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Stay informed with the latest real estate trends, market insights, investment tips, and property guides from industry experts."})]})})}),(0,c.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,c.jsxs)("div",{className:"lg:grid lg:grid-cols-4 lg:gap-8",children:[(0,c.jsx)("div",{className:"lg:col-span-1",children:(0,c.jsxs)("div",{className:"space-y-8",children:[(0,c.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Search"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("input",{type:"text",placeholder:"Search blog posts...",value:b.search,onChange:e=>w("search",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,c.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),(0,c.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("button",{onClick:()=>w("category",""),className:"w-full text-left px-3 py-2 rounded-lg transition-colors ".concat(""===b.category?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:"All Categories"}),d.map(e=>(0,c.jsxs)("button",{onClick:()=>w("category",e.slug),className:"w-full text-left px-3 py-2 rounded-lg transition-colors ".concat(b.category===e.slug?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[e.name," (",e.count,")"]},e.slug))]})]}),a.length>0&&(0,c.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Featured Posts"}),(0,c.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,c.jsx)(l.N_,{to:"/blog/".concat(e.slug),className:"block group",children:(0,c.jsxs)("div",{className:"flex space-x-3",children:[(0,c.jsx)("img",{src:e.featuredImage.url,alt:e.featuredImage.alt||e.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:e.title}),(0,c.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:S(e.publishedAt)})]})]})},e._id))})]})]})}),(0,c.jsxs)("div",{className:"lg:col-span-3",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,c.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),(0,c.jsxs)("select",{value:b.sort,onChange:e=>w("sort",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,c.jsx)("option",{value:"newest",children:"Newest"}),(0,c.jsx)("option",{value:"oldest",children:"Oldest"}),(0,c.jsx)("option",{value:"popular",children:"Most Popular"}),(0,c.jsx)("option",{value:"trending",children:"Trending"})]})]}),(0,c.jsx)("div",{className:"text-sm text-gray-600",children:m?"Loading...":"".concat(e.length," posts found")})]}),m?(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((e,s)=>(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse",children:[(0,c.jsx)("div",{className:"h-48 bg-gray-200"}),(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,c.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-4"}),(0,c.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-2"}),(0,c.jsx)("div",{className:"h-3 bg-gray-200 rounded"})]})]},s))}):0===e.length?(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,c.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No blog posts found"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(e=>(0,c.jsxs)("article",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[(0,c.jsx)(l.N_,{to:"/blog/".concat(e.slug),children:(0,c.jsx)("img",{src:e.featuredImage.url,alt:e.featuredImage.alt||e.title,className:"w-full h-48 object-cover"})}),(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,c.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:C(e.category)}),(0,c.jsxs)("span",{className:"text-sm text-gray-500",children:[e.readTime," min read"]})]}),(0,c.jsx)(l.N_,{to:"/blog/".concat(e.slug),children:(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3 hover:text-blue-600 transition-colors line-clamp-2",children:e.title})}),(0,c.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.excerpt}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("img",{src:e.author.avatar||"/default-avatar.png",alt:e.author.name,className:"w-8 h-8 rounded-full object-cover"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.author.name}),(0,c.jsx)("p",{className:"text-xs text-gray-500",children:S(e.publishedAt)})]})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,c.jsxs)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(0,c.jsx)("span",{children:e.views})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,c.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,c.jsx)("span",{children:e.likes})]})]})]})]})]},e._id))}),p>1&&(0,c.jsx)("div",{className:"mt-12 flex justify-center",children:(0,c.jsxs)("nav",{className:"flex items-center space-x-2",children:[(0,c.jsx)("button",{onClick:()=>k(h-1),disabled:1===h,className:"px-3 py-2 rounded-lg border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(p)].map((e,s)=>{const a=s+1,t=a===h;return 1===a||a===p||a>=h-1&&a<=h+1?(0,c.jsx)("button",{onClick:()=>k(a),className:"px-3 py-2 rounded-lg ".concat(t?"bg-blue-600 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"),children:a},a):a===h-2||a===h+2?(0,c.jsx)("span",{className:"px-2 text-gray-500",children:"..."},a):null}),(0,c.jsx)("button",{onClick:()=>k(h+1),disabled:h===p,className:"px-3 py-2 rounded-lg border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})})]})}}}]);
//# sourceMappingURL=191.9902269b.chunk.js.map