"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[72],{6072(e,t,s){s.r(t),s.d(t,{default:()=>j});var a=s(9379),i=s(5043),n=s(3216),l=s(5475),r=s(5016),o=s(4345),c=s(2825),d=s(3484),m=s(5369),x=s(2339),u=s(7304),g=s(6058),h=s(579);u.t1.register(u.PP,u.kc,u.FN,u.No,u.hE,u.m_,u.s$,u.dN);const p=()=>{const[e,t]=(0,i.useState)("Lagos"),s={Lagos:{data:[{month:"Jan",victoriaIsland:45e6,lekki:38e6,ikoyi:52e6},{month:"Feb",victoriaIsland:465e5,lekki:395e5,ikoyi:538e5},{month:"Mar",victoriaIsland:48e6,lekki:41e6,ikoyi:555e5},{month:"Apr",victoriaIsland:495e5,lekki:425e5,ikoyi:572e5},{month:"May",victoriaIsland:51e6,lekki:44e6,ikoyi:59e6},{month:"Jun",victoriaIsland:525e5,lekki:455e5,ikoyi:608e5}],areas:["Victoria Island","Lekki","Ikoyi"],colors:["#10B981","#F59E0B","#3B82F6"]},Abuja:{data:[{month:"Jan",asokoro:42e6,maitama:38e6,wuse:32e6},{month:"Feb",asokoro:435e5,maitama:395e5,wuse:335e5},{month:"Mar",asokoro:45e6,maitama:41e6,wuse:35e6},{month:"Apr",asokoro:465e5,maitama:425e5,wuse:365e5},{month:"May",asokoro:48e6,maitama:44e6,wuse:38e6},{month:"Jun",asokoro:495e5,maitama:455e5,wuse:395e5}],areas:["Asokoro","Maitama","Wuse"],colors:["#EF4444","#8B5CF6","#06B6D4"]},"Port Harcourt":{data:[{month:"Jan",gra:28e6,oldGRA:25e6,rumuola:22e6},{month:"Feb",gra:29e6,oldGRA:26e6,rumuola:23e6},{month:"Mar",gra:3e7,oldGRA:27e6,rumuola:24e6},{month:"Apr",gra:31e6,oldGRA:28e6,rumuola:25e6},{month:"May",gra:32e6,oldGRA:29e6,rumuola:26e6},{month:"Jun",gra:33e6,oldGRA:3e7,rumuola:27e6}],areas:["GRA","Old GRA","Rumuola"],colors:["#F97316","#84CC16","#EC4899"]},Kano:{data:[{month:"Jan",nassarawa:18e6,dala:15e6,fagge:12e6},{month:"Feb",nassarawa:185e5,dala:155e5,fagge:125e5},{month:"Mar",nassarawa:19e6,dala:16e6,fagge:13e6},{month:"Apr",nassarawa:195e5,dala:165e5,fagge:135e5},{month:"May",nassarawa:2e7,dala:17e6,fagge:14e6},{month:"Jun",nassarawa:205e5,dala:175e5,fagge:145e5}],areas:["Nassarawa","Dala","Fagge"],colors:["#6B7280","#14B8A6","#F59E0B"]}},a=s[e],n={labels:a.data.map(e=>e.month),datasets:a.areas.map((e,t)=>{const s=e.toLowerCase().replace(/\s+/g,"");return{label:e,data:a.data.map(e=>e[s]/1e6),borderColor:a.colors[t],backgroundColor:"".concat(a.colors[t],"20"),borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:a.colors[t],pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5,pointHoverRadius:7}})},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"500"}}},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{title:function(t){return"".concat(t[0].label," ").concat(e)},label:function(e){return"".concat(e.dataset.label,": \u20a6").concat(e.parsed.y,"M")}}}},scales:{y:{beginAtZero:!1,title:{display:!0,text:"Price (\u20a6M)",font:{size:12,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"rgba(0, 0, 0, 0.7)",font:{size:11},callback:function(e){return"\u20a6".concat(e,"M")}}},x:{title:{display:!0,text:"Month",font:{size:12,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"rgba(0, 0, 0, 0.7)",font:{size:11}}}},interaction:{mode:"index",intersect:!1},animation:{duration:1500,easing:"easeInOutQuart"}};return(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Price Trends in ",e]}),(0,h.jsx)("div",{className:"flex space-x-2",children:Object.keys(s).map(s=>(0,h.jsx)("button",{onClick:()=>t(s),className:"px-3 py-1 rounded-full text-xs font-medium transition-colors ".concat(e===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:s},s))})]}),(0,h.jsx)("div",{className:"relative h-80 w-full",children:(0,h.jsx)(g.N1,{data:n,options:l})}),(0,h.jsxs)("div",{className:"mt-4 flex justify-between text-xs text-gray-500",children:[(0,h.jsx)("span",{children:"Jan 2024"}),(0,h.jsx)("span",{className:"text-center font-medium",children:"6-Month Price Trend"}),(0,h.jsx)("span",{children:"Jun 2024"})]}),(0,h.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-2 text-blue-800",children:[(0,h.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Market Analysis"})]}),(0,h.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Average price increase in ",e,": ","Lagos"===e?"+12.5%":"Abuja"===e?"+11.8%":"Port Harcourt"===e?"+9.7%":"+8.9%"," over 6 months"]})]})]})};var v=s(6809),b=s(1876);const j=()=>{const{user:e,setAuthRedirect:t}=(0,r.As)(),u=(0,n.Zp)(),g=(0,n.zy)(),{properties:j,loading:f,toggleFavorite:y}=(0,o.NC)(),{userInvestments:N,getUserInvestmentSummary:w}=(0,c.H)(),{getUserMortgages:k,getPaymentSummary:I,getUserApplications:A,getApplicationsByStatus:S}=(0,d.Q)(),[P,C]=(0,i.useState)(new Set),M=j.slice(0,3),L=(0,i.useCallback)(()=>{if(e){const t="favorites_".concat(e.id),s=JSON.parse(localStorage.getItem(t)||"[]").map(e=>String(e));return C(new Set(s)),s.length}return 0},[e]);(0,i.useEffect)(()=>{L()},[e,L]);const[E,T]=(0,i.useState)({totalProperties:0,savedProperties:0,activeInquiries:0,scheduledViewings:0,completedViewings:0,totalInvested:0,activeInvestments:0,escrowTransactions:0,pendingPayments:0,totalEarnings:0,monthlyBudget:5e6}),V=(0,i.useCallback)(()=>{if(!e)return;const t="favorites_".concat(e.id),s=JSON.parse(localStorage.getItem(t)||"[]"),i=Array.isArray(s)?s.length:0,n=JSON.parse(localStorage.getItem("viewingRequests")||"[]").filter(t=>t.userId===e.id||t.buyerId===e.id),l=n.filter(e=>{var t;const s=null===(t=e.status)||void 0===t?void 0:t.toLowerCase();return"pending"===s||"pending_vendor_confirmation"===s||"accepted"===s||"confirmed"===s||"proposed_new_time"===s}).length,r=n.filter(e=>{var t;const s=null===(t=e.status)||void 0===t?void 0:t.toLowerCase();return"completed"===s||"viewed"===s||"declined"===s}).length,o=JSON.parse(localStorage.getItem("inquiries")||"[]").filter(t=>t.userId===e.id||t.buyerId===e.id).filter(e=>"new"===e.status||"pending"===e.status||"contacted"===e.status).length,c=JSON.parse(localStorage.getItem("escrowTransactions")||"[]").filter(t=>t.buyerId===e.id||t.sellerId===e.id||t.buyerId===e.uid||t.sellerId===e.uid),d=c.length,m=c.filter(e=>{var t;const s=null===(t=e.status)||void 0===t?void 0:t.toLowerCase();return"pending_payment"===s||"pending"===s||"funded"===s}).length,x=w(),u=x.totalInvested||0,g=x.activeInvestments||0,h=x.totalDividends||0,p=(A(),S("pending").length,S("under_review").length,S("approved").length,j.length||0);T(t=>(0,a.A)((0,a.A)({},t),{},{totalProperties:p,savedProperties:i,activeInquiries:o,scheduledViewings:l,completedViewings:r,totalInvested:u,activeInvestments:g,escrowTransactions:d,pendingPayments:m,totalEarnings:h,monthlyBudget:(null===e||void 0===e?void 0:e.monthlyBudget)||5e6,mortgageApplications:A().length,pendingMortgageApps:S("pending").length,underReviewMortgageApps:S("under_review").length,approvedMortgageApps:S("approved").length}))},[e,j.length,w,A,S]);(0,i.useEffect)(()=>{if(!e)return;const t=()=>{L(),setTimeout(()=>{V()},100)},s=()=>{setTimeout(()=>{V()},100)},a=()=>{setTimeout(()=>{V()},100)},i=()=>{setTimeout(()=>{V()},100)},n=()=>{setTimeout(()=>{V()},100)},l=l=>{const r="favorites_".concat(e.id);l.key===r?t():"inquiries"===l.key?s():"viewingRequests"===l.key?a():l.key==="userInvestments_".concat(e.id)?i():"escrowTransactions"===l.key&&n()};return window.addEventListener("favoritesUpdated",t),window.addEventListener("inquiriesUpdated",s),window.addEventListener("viewingsUpdated",a),window.addEventListener("investmentsUpdated",i),window.addEventListener("escrowUpdated",n),window.addEventListener("storage",l),()=>{window.removeEventListener("favoritesUpdated",t),window.removeEventListener("inquiriesUpdated",s),window.removeEventListener("viewingsUpdated",a),window.removeEventListener("investmentsUpdated",i),window.removeEventListener("escrowUpdated",n),window.removeEventListener("storage",l)}},[e,L,V]),(0,i.useEffect)(()=>{e&&V()},[e,P.size,V]),(0,i.useEffect)(()=>{const t=()=>{!document.hidden&&e&&(L(),V())},s=()=>{e&&(L(),V())};return document.addEventListener("visibilitychange",t),window.addEventListener("focus",s),()=>{document.removeEventListener("visibilitychange",t),window.removeEventListener("focus",s)}},[e,L,V]);const R=e=>{u("/property/".concat(e))},[B,q]=(0,i.useState)(!1),[_,D]=(0,i.useState)(null),[J,O]=(0,i.useState)(""),[F,U]=(0,i.useState)(""),[z,Y]=(0,i.useState)(""),G=t=>{if(!e)return x.Ay.error("Please login to schedule viewings"),void u("/");D(t),q(!0)};(0,i.useEffect)(()=>{(()=>{if(!e)return;const t="favorites_".concat(e.id),i=JSON.parse(localStorage.getItem(t)||"[]").length,n=JSON.parse(localStorage.getItem("viewingRequests")||"[]").filter(t=>t.userId===e.id||t.buyerId===e.id),l=n.filter(e=>"pending"===e.status||"pending_vendor_confirmation"===e.status||"accepted"===e.status||"confirmed"===e.status).length,r=n.filter(e=>"completed"===e.status||"viewed"===e.status).length,o=JSON.parse(localStorage.getItem("inquiries")||"[]").filter(t=>t.userId===e.id||t.buyerId===e.id).filter(e=>"new"===e.status||"pending"===e.status||"contacted"===e.status).length,c=JSON.parse(localStorage.getItem("escrowTransactions")||"[]").filter(t=>t.buyerId===e.id||t.sellerId===e.id),d=c.length,m=c.filter(e=>"pending"===e.status||"funded"===e.status).length,x=w(),u=x.totalInvested||0,g=x.activeInvestments||0,h=x.totalDividends||0,p=(I().totalMonthlyPayments,j.length||0);(async()=>{try{const{hasAuthToken:t}=await Promise.resolve().then(s.bind(s,6809));if(!await t())return console.log("Dashboard: No Firebase token available, using local data only"),void T({totalProperties:p,savedProperties:i,activeInquiries:o,scheduledViewings:l,completedViewings:r,totalInvested:u,activeInvestments:g,escrowTransactions:d,monthlyBudget:(null===e||void 0===e?void 0:e.monthlyBudget)||5e6,pendingPayments:m,totalEarnings:h});const n=await(0,v.Ud)((0,b.e9)("/dashboard/user"),{method:"GET"});if(n.ok){const t=await n.json();if(t.success){const s=t.data||{},n=s.investments||{},c=s.escrow||{};return void T(t=>{var x;return(0,a.A)((0,a.A)({},t),{},{totalProperties:null!==(x=s.totalProperties)&&void 0!==x?x:p,savedProperties:i,activeInquiries:o||s.activeInquiries||0,scheduledViewings:l||s.scheduledViewings||0,completedViewings:r||s.completedViewings||0,totalInvested:u||n.totalInvested||0,activeInvestments:g||n.activeInvestments||0,escrowTransactions:d||c.count||0,pendingPayments:m||c.pendingPayments||0,monthlyBudget:(null===e||void 0===e?void 0:e.monthlyBudget)||5e6,totalEarnings:h||(null===e||void 0===e?void 0:e.totalEarnings)||0})})}}else 401===n.status&&console.log("Dashboard: API returned 401 - using local data only")}catch(t){console.log("Dashboard: Error fetching backend stats (using local data)",t.message)}T({totalProperties:p,savedProperties:i,activeInquiries:o,scheduledViewings:l,completedViewings:r,totalInvested:u,activeInvestments:g,escrowTransactions:d,monthlyBudget:(null===e||void 0===e?void 0:e.monthlyBudget)||5e6,pendingPayments:m,totalEarnings:h})})()})()},[e,j.length,N,w,I]),(0,i.useEffect)(()=>{"/dashboard"===g.pathname&&e&&(L(),V())},[g.pathname,e,L,V]);const Q=[{id:1,title:"Luxury Apartment in Victoria Island",price:75e6,location:"Victoria Island, Lagos",bedrooms:3,bathrooms:2,area:210,image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400&h=300&fit=crop",tag:"New Listing",tagColor:"bg-green-500"},{id:2,title:"Modern Family House in Lekki",price:12e7,location:"Lekki Phase 1, Lagos",bedrooms:4,bathrooms:3,area:350,image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=400&h=300&fit=crop",tag:"Featured",tagColor:"bg-brand-orange"},{id:3,title:"Penthouse with Ocean View in Ikoyi",price:95e6,location:"Ikoyi, Lagos",bedrooms:2,bathrooms:2,area:180,image:"https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=400&h=300&fit=crop",tag:null,tagColor:""}];return(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("div",{className:"mb-8",children:(0,h.jsxs)("div",{className:"welcome-section",children:[(0,h.jsxs)("h1",{className:"text-2xl font-bold mb-2",children:["Good Afternoon, ",(null===e||void 0===e?void 0:e.firstName)||"Oluwaseun","!"]}),(0,h.jsx)("p",{className:"text-blue-100 mb-4",children:"Welcome to your dashboard. Track your property journey, manage saved listings, and explore new opportunities in the African real estate market."}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,h.jsx)("div",{className:"stats-card cursor-pointer hover:bg-blue-700 transition-colors",onClick:()=>u("/saved-properties"),title:"View saved properties",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-white",children:E.savedProperties}),(0,h.jsx)("div",{className:"text-blue-200 text-sm",children:"Saved Properties"})]}),(0,h.jsx)(m.Mbv,{className:"text-blue-300 text-xl"})]})}),(0,h.jsx)("div",{className:"stats-card cursor-pointer hover:bg-blue-700 transition-colors",onClick:()=>u("/inquiries"),title:"View active inquiries",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-white",children:E.activeInquiries}),(0,h.jsx)("div",{className:"text-blue-200 text-sm",children:"Active Inquiries"})]}),(0,h.jsx)(m.jNV,{className:"text-blue-300 text-xl"})]})}),(0,h.jsx)("div",{className:"stats-card cursor-pointer hover:bg-blue-700 transition-colors",onClick:()=>u("/my-inspections"),title:"View scheduled viewings",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-white",children:E.scheduledViewings}),(0,h.jsx)("div",{className:"text-blue-200 text-sm",children:"Scheduled Viewings"})]}),(0,h.jsx)(m.itz,{className:"text-blue-300 text-xl"})]})}),(0,h.jsx)("div",{className:"stats-card cursor-pointer hover:bg-blue-700 transition-colors",onClick:()=>u("/billing"),title:"View billing and payments",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-white",children:E.totalInvested>0?"\u20a6".concat((E.totalInvested/1e6).toFixed(1),"M"):"\u20a60"}),(0,h.jsx)("div",{className:"text-blue-200 text-sm",children:"Total Invested"})]}),(0,h.jsx)(m.YYR,{className:"text-blue-300 text-xl"})]})})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,h.jsx)("div",{className:"stats-card cursor-pointer hover:bg-blue-700 transition-colors",onClick:()=>u("/investment"),title:"View active investments",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-white",children:E.activeInvestments}),(0,h.jsx)("div",{className:"text-blue-200 text-sm",children:"Active Investments"})]}),(0,h.jsx)(m.wJQ,{className:"text-blue-300 text-xl"})]})}),(0,h.jsx)("div",{className:"stats-card cursor-pointer hover:bg-blue-700 transition-colors",onClick:()=>u("/billing"),title:"View escrow transactions",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-white",children:E.escrowTransactions}),(0,h.jsx)("div",{className:"text-blue-200 text-sm",children:"Escrow Transactions"})]}),(0,h.jsx)(m.CMH,{className:"text-blue-300 text-xl"})]})}),(0,h.jsx)("div",{className:"stats-card cursor-pointer hover:bg-blue-700 transition-colors",onClick:()=>u("/billing"),title:"View billing and payments",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"text-2xl font-bold text-white",children:["\u20a6",(E.monthlyBudget/1e6).toFixed(1),"M"]}),(0,h.jsx)("div",{className:"text-blue-200 text-sm",children:"Monthly Budget"})]}),(0,h.jsx)(m.MxO,{className:"text-blue-300 text-xl"})]})})]})]})}),(0,h.jsx)("div",{className:"mb-8",children:(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Market Insights & Trends"}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,h.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,h.jsx)("h4",{className:"font-semibold text-blue-900",children:"Price Trends"}),(0,h.jsx)(m.YYR,{className:"text-blue-600"})]}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-blue-700",children:"Victoria Island"}),(0,h.jsx)("span",{className:"font-semibold text-green-600",children:"+12.5%"})]}),(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-blue-700",children:"Lekki"}),(0,h.jsx)("span",{className:"font-semibold text-green-600",children:"+8.3%"})]}),(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-blue-700",children:"Ikoyi"}),(0,h.jsx)("span",{className:"font-semibold text-green-600",children:"+15.2%"})]})]}),(0,h.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"Average increase this quarter"})]}),(0,h.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,h.jsx)("h4",{className:"font-semibold text-green-900",children:"Investment ROI"}),(0,h.jsx)(m.wJQ,{className:"text-green-600"})]}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-green-700",children:"Luxury Apartments"}),(0,h.jsx)("span",{className:"font-semibold text-green-600",children:"18.5%"})]}),(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-green-700",children:"Commercial Properties"}),(0,h.jsx)("span",{className:"font-semibold text-green-600",children:"22.1%"})]}),(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-green-700",children:"Land Development"}),(0,h.jsx)("span",{className:"font-semibold text-green-600",children:"25.3%"})]})]}),(0,h.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"Average annual returns"})]}),(0,h.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,h.jsx)("h4",{className:"font-semibold text-orange-900",children:"Market Activity"}),(0,h.jsx)(m.jNV,{className:"text-orange-600"})]}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-orange-700",children:"New Listings"}),(0,h.jsx)("span",{className:"font-semibold text-orange-600",children:"+24"})]}),(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-orange-700",children:"Price Reductions"}),(0,h.jsx)("span",{className:"font-semibold text-orange-600",children:"-8"})]}),(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-orange-700",children:"Sold This Month"}),(0,h.jsx)("span",{className:"font-semibold text-orange-600",children:"+31"})]})]}),(0,h.jsx)("p",{className:"text-xs text-orange-600 mt-2",children:"Last 30 days activity"})]})]})]})}),e&&(0,h.jsx)("div",{className:"mb-8",children:(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Investment Portfolio"}),(0,h.jsx)("button",{onClick:()=>u("/investment"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All \u2192"})]}),(()=>{const e=w(),t=N.slice(0,3);return(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,h.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-green-600 text-sm font-medium",children:"Total Invested"}),(0,h.jsxs)("p",{className:"text-green-900 text-xl font-bold",children:["\u20a6",(e.totalInvested||0).toLocaleString()]})]}),(0,h.jsx)(m.YYR,{className:"text-green-600 text-xl"})]})}),(0,h.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-blue-600 text-sm font-medium",children:"Dividends Earned"}),(0,h.jsxs)("p",{className:"text-blue-900 text-xl font-bold",children:["\u20a6",(e.totalDividends||0).toLocaleString()]})]}),(0,h.jsx)(m.MxO,{className:"text-blue-600 text-xl"})]})}),(0,h.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-purple-600 text-sm font-medium",children:"Active Investments"}),(0,h.jsx)("p",{className:"text-purple-900 text-xl font-bold",children:e.activeInvestments})]}),(0,h.jsx)(m.wJQ,{className:"text-purple-600 text-xl"})]})})]}),t.length>0?(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Recent Investments"}),(0,h.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,h.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsx)("h5",{className:"font-medium text-gray-900",children:e.investmentTitle}),(0,h.jsxs)("p",{className:"text-sm text-gray-600",children:["Invested: \u20a6",(e.amount||0).toLocaleString()," \u2022 Status: ",(0,h.jsx)("span",{className:"capitalize ".concat("active"===e.status?"text-green-600":"pending_approval"===e.status?"text-yellow-600":"completed"===e.status?"text-blue-600":"text-gray-600"),children:e.status.replace("_"," ")})]})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsxs)("p",{className:"font-semibold text-gray-900",children:["\u20a6",(e.totalDividendsEarned||0).toLocaleString()]}),(0,h.jsx)("p",{className:"text-sm text-gray-600",children:"Earned"})]}),e.propertyId&&(0,h.jsxs)("button",{onClick:()=>u("/property/".concat(e.propertyId)),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors text-sm flex items-center space-x-1",children:[(0,h.jsx)(m.Ny1,{className:"text-xs"}),(0,h.jsx)("span",{children:"View Property"})]})]})]},e.id))})]}):(0,h.jsxs)("div",{className:"text-center py-8",children:[(0,h.jsx)(m.YYR,{className:"text-gray-300 text-4xl mx-auto mb-3"}),(0,h.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Investments Yet"}),(0,h.jsx)("p",{className:"text-gray-600 mb-4",children:"Start building your investment portfolio today"}),(0,h.jsx)("button",{onClick:()=>u("/investment"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Explore Opportunities"})]})]})})()]})}),e&&(()=>{const e=k(),t=I();return e.length>0?(0,h.jsx)("div",{className:"mb-8",children:(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Mortgage Portfolio"}),(0,h.jsx)("button",{onClick:()=>u("/mortgages"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All \u2192"})]}),(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,h.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-blue-600 text-sm font-medium",children:"Active Mortgages"}),(0,h.jsx)("p",{className:"text-blue-900 text-xl font-bold",children:t.activeMortgages})]}),(0,h.jsx)(m.rQ8,{className:"text-blue-600 text-xl"})]})}),(0,h.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-green-600 text-sm font-medium",children:"Monthly Payments"}),(0,h.jsxs)("p",{className:"text-green-900 text-xl font-bold",children:["\u20a6",t.totalMonthlyPayments.toLocaleString()]})]}),(0,h.jsx)(m.MxO,{className:"text-green-600 text-xl"})]})}),(0,h.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-purple-600 text-sm font-medium",children:"Total Paid"}),(0,h.jsxs)("p",{className:"text-purple-900 text-xl font-bold",children:["\u20a6",t.totalPaid.toLocaleString()]})]}),(0,h.jsx)(m.CMH,{className:"text-purple-600 text-xl"})]})})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Recent Mortgages"}),(0,h.jsx)("div",{className:"space-y-3",children:e.slice(0,2).map(e=>(0,h.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsx)("h5",{className:"font-medium text-gray-900",children:e.propertyTitle}),(0,h.jsxs)("p",{className:"text-sm text-gray-600",children:["Monthly: \u20a6",e.monthlyPayment.toLocaleString()," \u2022 Next Due: ",new Date(e.nextPaymentDate).toLocaleDateString()]})]}),(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.paymentsMade,"/",e.totalPayments]}),(0,h.jsx)("p",{className:"text-sm text-gray-600",children:"Payments"})]})]},e.id))})]})]})]})}):null})(),(0,h.jsxs)("div",{className:"mb-8",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Continue Browsing"}),(0,h.jsx)(l.N_,{to:"/properties",className:"text-brand-blue hover:text-blue-700 text-sm font-medium",children:"View history \u2192"})]}),(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Q.map(s=>{var a,i,n;return(0,h.jsxs)("div",{className:"property-card",children:[(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("img",{src:s.image,alt:s.title,className:"property-card-image"}),s.tag&&(0,h.jsx)("div",{className:"absolute top-2 left-2 tag ".concat(s.tagColor," text-white px-2 py-1 rounded text-xs font-medium"),children:s.tag}),(0,h.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2",children:[(0,h.jsx)("button",{onClick:async()=>{const e="".concat(window.location.origin,"/property/").concat(s.id);try{navigator.share?await navigator.share({title:s.title,text:s.title,url:e}):(await navigator.clipboard.writeText(e),x.Ay.success("Link copied"))}catch(t){}},className:"text-white bg-black bg-opacity-50 p-1 rounded hover:bg-opacity-70 transition-all",children:(0,h.jsx)(m.Zzu,{className:"text-sm"})}),(0,h.jsx)("button",{onClick:async a=>{if(a.stopPropagation(),!e)return t("/dashboard"),x.Ay.error("Please login to save properties"),void u("/");try{const e=String(s.id),t=await y(e,s);if(t&&t.success){const s=new Set(P);t.favorited?(s.add(e),x.Ay.success("Property saved successfully")):(s.delete(e),x.Ay.success("Property removed from saved properties")),C(s),window.dispatchEvent(new CustomEvent("favoritesUpdated",{detail:{propertyId:e,favorited:t.favorited}})),setTimeout(()=>{L(),V()},100)}}catch(a){x.Ay.error("Failed to save property")}},className:"p-1 rounded hover:bg-opacity-70 transition-all ".concat(P.has(String(s.id))?"bg-red-500 bg-opacity-90":"bg-black bg-opacity-50"),title:P.has(String(s.id))?"Remove from saved properties":"Save property",children:(0,h.jsx)(m.Mbv,{className:"text-sm transition-all ".concat(P.has(String(s.id))?"text-red-500 fill-red-500":"text-white")})})]})]}),(0,h.jsxs)("div",{className:"property-card-content",children:[(0,h.jsxs)("div",{className:"property-price",children:["\u20a6",(s.price||0).toLocaleString()]}),(0,h.jsx)("h3",{className:"property-title",children:s.title}),(0,h.jsx)("p",{className:"property-location",children:s.location}),(0,h.jsxs)("div",{className:"property-features",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,h.jsx)(m.TiC,{}),(0,h.jsxs)("span",{children:[s.bedrooms||(null===(a=s.details)||void 0===a?void 0:a.bedrooms)||0," Bedrooms"]})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,h.jsx)(m.F6e,{}),(0,h.jsxs)("span",{children:[s.bathrooms||(null===(i=s.details)||void 0===i?void 0:i.bathrooms)||0," Bathrooms"]})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,h.jsx)(m.c7S,{}),(0,h.jsxs)("span",{children:[s.area||(null===(n=s.details)||void 0===n?void 0:n.sqft)||0,"m\xb2 Area"]})]})]}),(0,h.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,h.jsx)("div",{onClick:e=>{e.stopPropagation(),R(s.id)},className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center cursor-pointer",children:"View Details \u2192"}),(0,h.jsxs)("button",{onClick:e=>{e.stopPropagation(),G(s)},className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",title:"Schedule a viewing for ".concat(s.title),children:[(0,h.jsx)(m.itz,{className:"mr-2"}),"Schedule Viewing"]})]})]})]},s.id)})})]}),(0,h.jsxs)("div",{className:"mb-8",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Recommended for You"}),(0,h.jsx)(l.N_,{to:"/properties",className:"text-brand-blue hover:text-blue-700 text-sm font-medium",children:"View all \u2192"})]}),(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(M.length>0?M:Q).map(s=>{var a,i,n,l,r,o;return(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("div",{onClick:()=>R(s.id),className:"cursor-pointer",children:(0,h.jsx)("img",{src:s.image||(null===(a=s.images)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.url)||"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=400&h=300&fit=crop",alt:s.title,className:"w-full h-48 object-cover"})}),s.tag&&(0,h.jsx)("div",{className:"absolute top-2 left-2 ".concat(s.tagColor||"bg-orange-500"," text-white px-2 py-1 rounded text-xs font-medium"),children:s.tag}),(0,h.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2 z-10",children:[(0,h.jsx)("button",{onClick:e=>{e.stopPropagation(),x.Ay.success("Property shared!")},className:"w-8 h-8 bg-black bg-opacity-50 rounded-full flex items-center justify-center hover:bg-opacity-75 transition-colors",children:(0,h.jsx)(m.Zzu,{className:"text-white text-sm"})}),(0,h.jsx)("button",{onClick:async a=>{if(a.stopPropagation(),!e)return t("/dashboard"),x.Ay.error("Please login to save properties"),void u("/");try{const e=String(s.id),t=await y(e,s);if(t&&t.success){const s=new Set(P);t.favorited?(s.add(e),x.Ay.success("Property saved successfully")):(s.delete(e),x.Ay.success("Property removed from saved properties")),C(s),window.dispatchEvent(new CustomEvent("favoritesUpdated",{detail:{propertyId:e,favorited:t.favorited}})),setTimeout(()=>{L(),V()},100)}}catch(a){x.Ay.error("Failed to save property")}},className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-opacity-75 transition-all ".concat(P.has(String(s.id))?"bg-red-500 bg-opacity-90":"bg-black bg-opacity-50"),title:P.has(String(s.id))?"Remove from saved properties":"Save property",children:(0,h.jsx)(m.Mbv,{className:"text-sm transition-all ".concat(P.has(String(s.id))?"text-red-500 fill-red-500":"text-white")})})]})]}),(0,h.jsxs)("div",{onClick:()=>R(s.id),className:"p-4 cursor-pointer",children:[(0,h.jsxs)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:["\u20a6",null===(n=s.price)||void 0===n?void 0:n.toLocaleString()]}),(0,h.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:s.title}),(0,h.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:(()=>{if("string"===typeof s.location)return s.location;if(s.location&&"object"===typeof s.location){if(s.location.address)return s.location.address;const e=s.location.city||"",t=s.location.state||"";return"".concat(e).concat(e&&t?", ":"").concat(t).trim()}return"Location not specified"})()}),(0,h.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,h.jsx)(m.TiC,{}),(0,h.jsxs)("span",{children:[s.bedrooms||(null===(l=s.details)||void 0===l?void 0:l.bedrooms)||0," Bedrooms"]})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,h.jsx)(m.F6e,{}),(0,h.jsxs)("span",{children:[s.bathrooms||(null===(r=s.details)||void 0===r?void 0:r.bathrooms)||0," Bathrooms"]})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,h.jsx)(m.c7S,{}),(0,h.jsxs)("span",{children:[s.area||(null===(o=s.details)||void 0===o?void 0:o.sqft)||0,"m\xb2 Area"]})]})]}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsx)("div",{onClick:e=>{e.stopPropagation(),R(s.id)},className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center cursor-pointer",children:"View Details \u2192"}),(0,h.jsxs)("button",{onClick:e=>{e.stopPropagation(),G(s)},className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",title:"Schedule a viewing for ".concat(s.title),children:[(0,h.jsx)(m.itz,{className:"mr-2"}),"Schedule Viewing"]})]})]})]},s.id)})})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,h.jsx)(p,{}),(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Transactions"}),(0,h.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded flex items-center justify-center",children:(0,h.jsx)(m.rQ8,{className:"w-4 h-4 text-brand-blue"})})]}),(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,h.jsx)(m.rQ8,{className:"text-brand-blue"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-medium text-gray-900",children:"3 Bedroom Apartment"}),(0,h.jsx)("p",{className:"text-sm text-gray-600",children:"Victoria Island, Lagos"})]})]}),(0,h.jsx)("p",{className:"font-semibold text-gray-900",children:"\u20a6100M"})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,h.jsx)(m.rQ8,{className:"text-brand-blue"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-medium text-gray-900",children:"2 Bedroom Penthouse"}),(0,h.jsx)("p",{className:"text-sm text-gray-600",children:"Ikoyi, Lagos"})]})]}),(0,h.jsx)("p",{className:"font-semibold text-gray-900",children:"\u20a682M"})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,h.jsx)(m.rQ8,{className:"text-brand-blue"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-medium text-gray-900",children:"4 Bedroom Duplex"}),(0,h.jsx)("p",{className:"text-sm text-gray-600",children:"Lekki Phase 1, Lagos"})]})]}),(0,h.jsx)("p",{className:"font-semibold text-gray-900",children:"\u20a695M"})]})]})]})]})]}),B&&_&&(0,h.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,h.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,h.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Schedule Property Viewing"}),(0,h.jsx)("p",{className:"text-gray-600 mb-4",children:_.title}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date"}),(0,h.jsx)("input",{type:"date",value:J,onChange:e=>O(e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Time"}),(0,h.jsxs)("select",{value:F,onChange:e=>U(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,h.jsx)("option",{value:"",children:"Select Time"}),(0,h.jsx)("option",{value:"09:00",children:"9:00 AM"}),(0,h.jsx)("option",{value:"10:00",children:"10:00 AM"}),(0,h.jsx)("option",{value:"11:00",children:"11:00 AM"}),(0,h.jsx)("option",{value:"12:00",children:"12:00 PM"}),(0,h.jsx)("option",{value:"13:00",children:"1:00 PM"}),(0,h.jsx)("option",{value:"14:00",children:"2:00 PM"}),(0,h.jsx)("option",{value:"15:00",children:"3:00 PM"}),(0,h.jsx)("option",{value:"16:00",children:"4:00 PM"}),(0,h.jsx)("option",{value:"17:00",children:"5:00 PM"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Message (Optional)"}),(0,h.jsx)("textarea",{value:z,onChange:e=>Y(e.target.value),placeholder:"Any specific requirements or questions...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]})]}),(0,h.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,h.jsx)("button",{onClick:()=>{q(!1),D(null),O(""),U(""),Y("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,h.jsx)("button",{onClick:()=>{if(!J||!F)return void x.Ay.error("Please select both date and time");const t={id:"viewing-".concat(Date.now()),propertyId:_.id,propertyTitle:_.title,propertyLocation:_.location,userId:e.id,buyerId:e.id,userName:"".concat(e.firstName," ").concat(e.lastName),userEmail:e.email,status:"pending_vendor_confirmation",requestedAt:(new Date).toISOString(),preferredDate:J,preferredTime:F,message:z,agentContact:_.agent||{name:"Property Agent",phone:"+234-XXX-XXXX",email:"agent@example.com"},vendorResponse:null,confirmedDate:null,confirmedTime:null},s=JSON.parse(localStorage.getItem("viewingRequests")||"[]");s.push(t),localStorage.setItem("viewingRequests",JSON.stringify(s)),window.dispatchEvent(new CustomEvent("viewingsUpdated",{detail:{viewingRequest:t,action:"created"}})),x.Ay.success('Viewing request sent for "'.concat(_.title,'"! The vendor will confirm or suggest an alternative time.')),V(),q(!1),D(null),O(""),U(""),Y("")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Request Viewing"})]})]})})]})}},6809(e,t,s){s.d(t,{Ud:()=>r,hasAuthToken:()=>l});var a=s(9379);const i=async()=>(()=>{try{return localStorage.getItem("accessToken")||localStorage.getItem("token")}catch(e){return console.warn("getAuthToken: Could not read token from storage:",e),null}})(),n=async()=>{const e=await i(),t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t},l=async()=>{const e=await i();return Boolean(e)},r=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=await n(),i=(0,a.A)((0,a.A)({},t),{},{headers:(0,a.A)((0,a.A)({},s),t.headers||{})});return fetch(e,i)}}}]);
//# sourceMappingURL=72.fe282d19.chunk.js.map