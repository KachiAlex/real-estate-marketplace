{"version":3,"file":"static/js/903.92b35f48.chunk.js","mappings":"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","sources":["pages/Messages.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaEnvelope, FaSearch, FaPaperPlane, FaPhone, FaVideo, FaEllipsisV, FaReply, FaForward, FaArchive, FaTrash, FaStar, FaCircle, FaCheck, FaCheckDouble, FaImage, FaFile, FaSmile } from 'react-icons/fa';\n\nconst Messages = () => {\n  const { user } = useAuth();\n  const [conversations, setConversations] = useState([]);\n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [newMessage, setNewMessage] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const messagesEndRef = useRef(null);\n\n  // Mock conversations data\n  useEffect(() => {\n    const mockConversations = [\n      {\n        id: 1,\n        contact: {\n          id: 1,\n          name: \"Sarah Johnson\",\n          role: \"Property Agent\",\n          avatar: \"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face\",\n          phone: \"+234 801 234 5678\",\n          email: \"sarah@propertyark.com\",\n          isOnline: true\n        },\n        property: {\n          id: 1,\n          title: \"Luxury 4-Bedroom Villa in Victoria Island\",\n          image: \"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=100&h=100&fit=crop\"\n        },\n        lastMessage: {\n          text: \"I've scheduled the viewing for Saturday 2 PM. Please confirm if that works for you.\",\n          timestamp: \"2024-01-15T14:30:00Z\",\n          sender: \"agent\",\n          isRead: true\n        },\n        unreadCount: 0,\n        isStarred: true,\n        isArchived: false,\n        messages: [\n          {\n            id: 1,\n            text: \"Hi! I'm interested in the 4-bedroom villa in Victoria Island. Could you provide more details?\",\n            timestamp: \"2024-01-15T10:30:00Z\",\n            sender: \"user\",\n            isRead: true\n          },\n          {\n            id: 2,\n            text: \"Hello! Thank you for your interest. The villa is a beautiful 4-bedroom property with a private pool, gym, and 24/7 security. It's located in a prime area of Victoria Island. Would you like to schedule a viewing?\",\n            timestamp: \"2024-01-15T10:45:00Z\",\n            sender: \"agent\",\n            isRead: true\n          },\n          {\n            id: 3,\n            text: \"Yes, I'd love to see it. What are your available times this weekend?\",\n            timestamp: \"2024-01-15T11:00:00Z\",\n            sender: \"user\",\n            isRead: true\n          },\n          {\n            id: 4,\n            text: \"I've scheduled the viewing for Saturday 2 PM. Please confirm if that works for you.\",\n            timestamp: \"2024-01-15T14:30:00Z\",\n            sender: \"agent\",\n            isRead: true\n          }\n        ]\n      },\n      {\n        id: 2,\n        contact: {\n          id: 2,\n          name: \"Michael Adebayo\",\n          role: \"Property Agent\",\n          avatar: \"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face\",\n          phone: \"+234 802 345 6789\",\n          email: \"michael@propertyark.com\",\n          isOnline: false\n        },\n        property: {\n          id: 2,\n          title: \"Modern 3-Bedroom Apartment in Ikoyi\",\n          image: \"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=100&h=100&fit=crop\"\n        },\n        lastMessage: {\n          text: \"The maintenance fee is ₦150,000 monthly and includes all amenities I mentioned.\",\n          timestamp: \"2024-01-12T16:10:00Z\",\n          sender: \"agent\",\n          isRead: true\n        },\n        unreadCount: 0,\n        isStarred: false,\n        isArchived: false,\n        messages: [\n          {\n            id: 1,\n            text: \"What are the maintenance fees for the Ikoyi apartment?\",\n            timestamp: \"2024-01-12T09:15:00Z\",\n            sender: \"user\",\n            isRead: true\n          },\n          {\n            id: 2,\n            text: \"The monthly maintenance fee is ₦150,000 and includes: 24/7 security, generator backup, swimming pool, gym, children's playground, and regular maintenance of common areas.\",\n            timestamp: \"2024-01-12T11:45:00Z\",\n            sender: \"agent\",\n            isRead: true\n          },\n          {\n            id: 3,\n            text: \"Thank you for the information. I'm also interested in the parking situation - how many parking spaces are allocated per unit?\",\n            timestamp: \"2024-01-12T15:30:00Z\",\n            sender: \"user\",\n            isRead: true\n          },\n          {\n            id: 4,\n            text: \"Each unit comes with 2 covered parking spaces. There's also additional visitor parking available.\",\n            timestamp: \"2024-01-12T16:10:00Z\",\n            sender: \"agent\",\n            isRead: true\n          }\n        ]\n      },\n      {\n        id: 3,\n        contact: {\n          id: 3,\n          name: \"Grace Okafor\",\n          role: \"Property Agent\",\n          avatar: \"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face\",\n          phone: \"+234 803 456 7890\",\n          email: \"grace@propertyark.com\",\n          isOnline: true\n        },\n        property: {\n          id: 3,\n          title: \"Elegant 2-Bedroom Penthouse in Lekki\",\n          image: \"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=100&h=100&fit=crop\"\n        },\n        lastMessage: {\n          text: \"I have a similar penthouse that just became available. Would you like me to send you the details?\",\n          timestamp: \"2024-01-08T17:20:00Z\",\n          sender: \"agent\",\n          isRead: true\n        },\n        unreadCount: 0,\n        isStarred: false,\n        isArchived: false,\n        messages: [\n          {\n            id: 1,\n            text: \"Is the Lekki penthouse still available? I'm looking to make an offer.\",\n            timestamp: \"2024-01-08T16:45:00Z\",\n            sender: \"user\",\n            isRead: true\n          },\n          {\n            id: 2,\n            text: \"I'm sorry, but this property was sold yesterday. However, I have a similar penthouse in the same building that just became available. Would you like me to send you the details?\",\n            timestamp: \"2024-01-08T17:20:00Z\",\n            sender: \"agent\",\n            isRead: true\n          }\n        ]\n      },\n      {\n        id: 4,\n        contact: {\n          id: 4,\n          name: \"David Okonkwo\",\n          role: \"Property Agent\",\n          avatar: \"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face\",\n          phone: \"+234 804 567 8901\",\n          email: \"david@propertyark.com\",\n          isOnline: false\n        },\n        property: {\n          id: 4,\n          title: \"Spacious 5-Bedroom Duplex in Abuja\",\n          image: \"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=100&h=100&fit=crop\"\n        },\n        lastMessage: {\n          text: \"I'll get back to you with the rental yield data for the Asokoro area.\",\n          timestamp: \"2024-01-05T14:00:00Z\",\n          sender: \"agent\",\n          isRead: false\n        },\n        unreadCount: 1,\n        isStarred: false,\n        isArchived: false,\n        messages: [\n          {\n            id: 1,\n            text: \"I'm interested in this property for investment purposes. What's the rental yield potential in this area?\",\n            timestamp: \"2024-01-05T13:20:00Z\",\n            sender: \"user\",\n            isRead: true\n          },\n          {\n            id: 2,\n            text: \"I'll get back to you with the rental yield data for the Asokoro area.\",\n            timestamp: \"2024-01-05T14:00:00Z\",\n            sender: \"agent\",\n            isRead: false\n          }\n        ]\n      }\n    ];\n\n    setTimeout(() => {\n      setConversations(mockConversations);\n      setLoading(false);\n    }, 1000);\n  }, []);\n\n  const handleSendMessage = () => {\n    if (!newMessage.trim() || !selectedConversation) return;\n\n    const message = {\n      id: Date.now(),\n      text: newMessage,\n      timestamp: new Date().toISOString(),\n      sender: \"user\",\n      isRead: true\n    };\n\n    setConversations(prev => prev.map(conv => \n      conv.id === selectedConversation.id \n        ? {\n            ...conv,\n            messages: [...conv.messages, message],\n            lastMessage: {\n              text: newMessage,\n              timestamp: new Date().toISOString(),\n              sender: \"user\",\n              isRead: true\n            }\n          }\n        : conv\n    ));\n\n    setNewMessage('');\n    \n    // Auto-scroll to bottom\n    setTimeout(() => {\n      messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n    }, 100);\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const toggleStar = (conversationId) => {\n    setConversations(prev => prev.map(conv => \n      conv.id === conversationId \n        ? { ...conv, isStarred: !conv.isStarred }\n        : conv\n    ));\n  };\n\n  const formatTime = (timestamp) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffInHours = (now - date) / (1000 * 60 * 60);\n\n    if (diffInHours < 24) {\n      return date.toLocaleTimeString('en-US', { \n        hour: '2-digit', \n        minute: '2-digit',\n        hour12: true \n      });\n    } else if (diffInHours < 168) { // 7 days\n      return date.toLocaleDateString('en-US', { weekday: 'short' });\n    } else {\n      return date.toLocaleDateString('en-US', { \n        month: 'short', \n        day: 'numeric' \n      });\n    }\n  };\n\n  const filteredConversations = conversations.filter(conv => \n    conv.contact.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    conv.property.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const sortedConversations = filteredConversations.sort((a, b) => {\n    // Unread messages first, then by timestamp\n    if (a.unreadCount > 0 && b.unreadCount === 0) return -1;\n    if (b.unreadCount > 0 && a.unreadCount === 0) return 1;\n    return new Date(b.lastMessage.timestamp) - new Date(a.lastMessage.timestamp);\n  });\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 h-full\">\n      <div className=\"flex h-full bg-white rounded-lg shadow overflow-hidden\">\n        {/* Conversations Sidebar */}\n        <div className=\"w-1/3 border-r border-gray-200 flex flex-col\">\n          {/* Header */}\n          <div className=\"p-4 border-b border-gray-200\">\n            <h1 className=\"text-xl font-semibold text-gray-900 mb-4\">Messages</h1>\n            <div className=\"relative\">\n              <FaSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search conversations...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n              />\n            </div>\n          </div>\n\n          {/* Conversations List */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {sortedConversations.length === 0 ? (\n              <div className=\"p-6 text-center\">\n                <FaEnvelope className=\"text-gray-300 text-4xl mx-auto mb-2\" />\n                <p className=\"text-gray-500\">No conversations found</p>\n              </div>\n            ) : (\n              <div className=\"space-y-1\">\n                {sortedConversations.map((conversation) => (\n                  <div\n                    key={conversation.id}\n                    onClick={() => setSelectedConversation(conversation)}\n                    className={`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${\n                      selectedConversation?.id === conversation.id ? 'bg-blue-50 border-r-2 border-brand-blue' : ''\n                    }`}\n                  >\n                    <div className=\"flex items-start space-x-3\">\n                      <div className=\"relative\">\n                        <img\n                          src={conversation.contact.avatar}\n                          alt={conversation.contact.name}\n                          className=\"w-12 h-12 rounded-full object-cover\"\n                        />\n                        {conversation.contact.isOnline && (\n                          <FaCircle className=\"absolute bottom-0 right-0 text-green-500 text-xs\" />\n                        )}\n                      </div>\n                      \n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center justify-between mb-1\">\n                          <h3 className=\"font-semibold text-gray-900 truncate\">\n                            {conversation.contact.name}\n                          </h3>\n                          <div className=\"flex items-center space-x-1\">\n                            <button\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                toggleStar(conversation.id);\n                              }}\n                              className=\"text-gray-400 hover:text-yellow-500\"\n                            >\n                              <FaStar className={conversation.isStarred ? \"text-yellow-500\" : \"\"} />\n                            </button>\n                            <span className=\"text-xs text-gray-500\">\n                              {formatTime(conversation.lastMessage.timestamp)}\n                            </span>\n                          </div>\n                        </div>\n                        \n                        <p className=\"text-sm text-gray-600 truncate mb-1\">\n                          {conversation.lastMessage.text}\n                        </p>\n                        \n                        <div className=\"flex items-center justify-between\">\n                          <p className=\"text-xs text-gray-500 truncate\">\n                            {conversation.property.title}\n                          </p>\n                          {conversation.unreadCount > 0 && (\n                            <span className=\"bg-brand-blue text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                              {conversation.unreadCount}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Chat Area */}\n        <div className=\"flex-1 flex flex-col\">\n          {selectedConversation ? (\n            <>\n              {/* Chat Header */}\n              <div className=\"p-4 border-b border-gray-200 bg-gray-50\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"relative\">\n                      <img\n                        src={selectedConversation.contact.avatar}\n                        alt={selectedConversation.contact.name}\n                        className=\"w-10 h-10 rounded-full object-cover\"\n                      />\n                      {selectedConversation.contact.isOnline && (\n                        <FaCircle className=\"absolute bottom-0 right-0 text-green-500 text-xs\" />\n                      )}\n                    </div>\n                    <div>\n                      <h3 className=\"font-semibold text-gray-900\">\n                        {selectedConversation.contact.name}\n                      </h3>\n                      <p className=\"text-sm text-gray-600\">\n                        {selectedConversation.contact.role}\n                      </p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-2\">\n                    <button className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200\">\n                      <FaPhone />\n                    </button>\n                    <button className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200\">\n                      <FaVideo />\n                    </button>\n                    <button className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200\">\n                      <FaEllipsisV />\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              {/* Property Info */}\n              <div className=\"p-4 border-b border-gray-200 bg-blue-50\">\n                <div className=\"flex items-center space-x-3\">\n                  <img\n                    src={selectedConversation.property.image}\n                    alt={selectedConversation.property.title}\n                    className=\"w-12 h-12 rounded-lg object-cover\"\n                  />\n                  <div>\n                    <h4 className=\"font-medium text-gray-900\">\n                      {selectedConversation.property.title}\n                    </h4>\n                    <p className=\"text-sm text-gray-600\">Property Discussion</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Messages */}\n              <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                {selectedConversation.messages.map((message) => (\n                  <div\n                    key={message.id}\n                    className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n                  >\n                    <div\n                      className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n                        message.sender === 'user'\n                          ? 'bg-brand-blue text-white'\n                          : 'bg-gray-200 text-gray-900'\n                      }`}\n                    >\n                      <p className=\"text-sm\">{message.text}</p>\n                      <div className={`flex items-center justify-end mt-1 space-x-1 ${\n                        message.sender === 'user' ? 'text-blue-100' : 'text-gray-500'\n                      }`}>\n                        <span className=\"text-xs\">\n                          {formatTime(message.timestamp)}\n                        </span>\n                        {message.sender === 'user' && (\n                          <FaCheckDouble className=\"text-xs\" />\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n                <div ref={messagesEndRef} />\n              </div>\n\n              {/* Message Input */}\n              <div className=\"p-4 border-t border-gray-200\">\n                <div className=\"flex items-center space-x-2\">\n                  <button className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200\">\n                    <FaImage />\n                  </button>\n                  <button className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200\">\n                    <FaFile />\n                  </button>\n                  <button className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200\">\n                    <FaSmile />\n                  </button>\n                  \n                  <div className=\"flex-1 relative\">\n                    <textarea\n                      value={newMessage}\n                      onChange={(e) => setNewMessage(e.target.value)}\n                      onKeyPress={handleKeyPress}\n                      placeholder=\"Type your message...\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent resize-none\"\n                      rows=\"1\"\n                    />\n                  </div>\n                  \n                  <button\n                    onClick={handleSendMessage}\n                    disabled={!newMessage.trim()}\n                    className=\"p-2 bg-brand-blue text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <FaPaperPlane />\n                  </button>\n                </div>\n              </div>\n            </>\n          ) : (\n            <div className=\"flex-1 flex items-center justify-center\">\n              <div className=\"text-center\">\n                <FaEnvelope className=\"text-gray-300 text-6xl mx-auto mb-4\" />\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Select a Conversation</h3>\n                <p className=\"text-gray-600\">\n                  Choose a conversation from the sidebar to start messaging\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Messages;\n\n"],"names":["Messages","user","useAuth","conversations","setConversations","useState","selectedConversation","setSelectedConversation","newMessage","setNewMessage","searchTerm","setSearchTerm","loading","setLoading","messagesEndRef","useRef","useEffect","mockConversations","id","contact","name","role","avatar","phone","email","isOnline","property","title","image","lastMessage","text","timestamp","sender","isRead","unreadCount","isStarred","isArchived","messages","setTimeout","handleSendMessage","trim","message","Date","now","toISOString","prev","map","conv","_objectSpread","_messagesEndRef$curre","current","scrollIntoView","behavior","formatTime","date","diffInHours","toLocaleTimeString","hour","minute","hour12","toLocaleDateString","weekday","month","day","sortedConversations","filter","toLowerCase","includes","sort","a","b","_jsx","className","children","_jsxs","FaSearch","type","placeholder","value","onChange","e","target","length","FaEnvelope","conversation","onClick","concat","src","alt","FaCircle","conversationId","stopPropagation","FaStar","_Fragment","FaPhone","FaVideo","FaEllipsisV","FaCheckDouble","ref","FaImage","FaFile","FaSmile","onKeyPress","key","shiftKey","preventDefault","rows","disabled","FaPaperPlane"],"sourceRoot":""}