"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[68],{68(e,s,t){t.r(s),t.d(s,{default:()=>m});var n=t(9379),a=t(5043),r=t(5016),l=t(3823),i=t(579);var c=t(5369);const o=e=>{let{transaction:s,onClose:t}=e;const n=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=e=>"\u20a6".concat(null===e||void 0===e?void 0:e.toLocaleString()),r=e=>{const s=(e.replace(/[^0-9]/g,"")||"1").padStart(6,"0"),t=e.includes("ESC")?"RCP-ESC":e.includes("TXN")?"RCP-TXN":"RCP";return"".concat(t,"-").concat(s)};return s?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-8 text-center",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,i.jsx)(c.rQ8,{className:"text-3xl mr-3"}),(0,i.jsx)("h1",{className:"text-3xl font-bold",children:"PropertyArk"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,i.jsx)(c.wTh,{className:"mr-2"}),(0,i.jsx)("h2",{className:"text-xl font-semibold",children:"Payment Receipt"})]}),(0,i.jsxs)("p",{className:"text-orange-100",children:["Receipt #",r(s.id)]})]}),(0,i.jsxs)("div",{className:"p-8",children:[(0,i.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,i.jsxs)("span",{className:"inline-flex items-center px-4 py-2 rounded-full font-semibold ".concat("completed"===s.status?"bg-green-100 text-green-800":"pending"===s.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:["completed"===s.status&&(0,i.jsx)(c.A7C,{className:"mr-2"}),"pending"===s.status&&(0,i.jsx)(c.w_X,{className:"mr-2"}),"in-progress"===s.status&&(0,i.jsx)(c.Z0P,{className:"mr-2"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-bold mb-4 text-gray-900 border-b-2 border-gray-200 pb-2",children:"Transaction Details"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,i.jsx)("span",{className:"font-semibold",children:s.id})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Date & Time:"}),(0,i.jsx)("span",{className:"font-semibold",children:n(s.date||s.createdAt)})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Payment Method:"}),(0,i.jsxs)("span",{className:"font-semibold flex items-center",children:[(0,i.jsx)(c.x1c,{className:"mr-1"}),s.paymentMethod||"Escrow"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Transaction Type:"}),(0,i.jsx)("span",{className:"font-semibold",children:s.type||"Property Purchase"})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-bold mb-4 text-gray-900 border-b-2 border-gray-200 pb-2",children:"Property Information"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Property:"}),(0,i.jsx)("span",{className:"font-semibold text-right max-w-xs",children:s.propertyTitle||s.description})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Buyer:"}),(0,i.jsxs)("span",{className:"font-semibold flex items-center",children:[(0,i.jsx)(c.x$1,{className:"mr-1"}),s.buyer||"John Doe"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Seller:"}),(0,i.jsx)("span",{className:"font-semibold",children:s.seller||"Property Owner"})]}),s.escrowId&&(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Escrow ID:"}),(0,i.jsx)("span",{className:"font-semibold",children:s.escrowId})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-8",children:[(0,i.jsx)("h3",{className:"text-lg font-bold mb-4 text-gray-900",children:"Payment Summary"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Property Amount:"}),(0,i.jsx)("span",{className:"font-semibold",children:a(s.amount)})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Escrow Fee (0.5%):"}),(0,i.jsx)("span",{className:"font-semibold",children:a(s.fees||Math.round(.005*s.amount))})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Processing Fee:"}),(0,i.jsx)("span",{className:"font-semibold",children:"\u20a62,500"})]}),(0,i.jsx)("div",{className:"border-t-2 border-gray-300 pt-3 mt-3",children:(0,i.jsxs)("div",{className:"flex justify-between text-xl font-bold text-orange-600",children:[(0,i.jsx)("span",{children:"Total Amount:"}),(0,i.jsx)("span",{children:a((s.totalAmount||s.amount)+(s.fees||Math.round(.005*s.amount))+2500)})]})})]})]}),(0,i.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,i.jsx)(c.SMR,{className:"text-blue-600 mr-2"}),(0,i.jsx)("h4",{className:"text-lg font-bold text-blue-900",children:"Escrow Protection"})]}),(0,i.jsx)("p",{className:"text-blue-800 text-center",children:"Your payment is secured through our escrow service. Funds are held safely until all conditions are met and you approve the release to the vendor."})]}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,i.jsxs)("button",{onClick:()=>{const e=window.open("","_blank"),t="\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Receipt - ".concat(s.id,'</title>\n          <style>\n            * {\n              margin: 0;\n              padding: 0;\n              box-sizing: border-box;\n            }\n            body {\n              font-family: \'Arial\', sans-serif;\n              line-height: 1.6;\n              color: #333;\n              background: white;\n              padding: 20px;\n            }\n            .receipt-container {\n              max-width: 800px;\n              margin: 0 auto;\n              background: white;\n              border: 2px solid #e5e7eb;\n              border-radius: 12px;\n              overflow: hidden;\n            }\n            .receipt-header {\n              background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);\n              color: white;\n              padding: 30px;\n              text-align: center;\n            }\n            .company-logo {\n              font-size: 2rem;\n              font-weight: bold;\n              margin-bottom: 10px;\n            }\n            .receipt-title {\n              font-size: 1.5rem;\n              margin-bottom: 10px;\n            }\n            .receipt-number {\n              font-size: 1rem;\n              opacity: 0.9;\n            }\n            .receipt-body {\n              padding: 40px;\n            }\n            .status-badge {\n              display: inline-block;\n              padding: 8px 16px;\n              border-radius: 20px;\n              font-weight: bold;\n              text-transform: uppercase;\n              font-size: 0.875rem;\n              margin-bottom: 30px;\n            }\n            .status-completed {\n              background: #dcfce7;\n              color: #166534;\n            }\n            .status-pending {\n              background: #fef3c7;\n              color: #92400e;\n            }\n            .status-in-progress {\n              background: #dbeafe;\n              color: #1e40af;\n            }\n            .info-grid {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              gap: 30px;\n              margin-bottom: 40px;\n            }\n            .info-section h3 {\n              font-size: 1.125rem;\n              font-weight: bold;\n              margin-bottom: 15px;\n              color: #374151;\n              border-bottom: 2px solid #f3f4f6;\n              padding-bottom: 8px;\n            }\n            .info-item {\n              display: flex;\n              justify-content: space-between;\n              margin-bottom: 12px;\n              padding: 8px 0;\n            }\n            .info-label {\n              color: #6b7280;\n              font-weight: 500;\n            }\n            .info-value {\n              font-weight: bold;\n              color: #111827;\n            }\n            .amount-summary {\n              background: #f9fafb;\n              border: 1px solid #e5e7eb;\n              border-radius: 8px;\n              padding: 25px;\n              margin: 30px 0;\n            }\n            .amount-row {\n              display: flex;\n              justify-content: space-between;\n              margin-bottom: 12px;\n              padding: 8px 0;\n            }\n            .amount-row.total {\n              border-top: 2px solid #d1d5db;\n              padding-top: 15px;\n              margin-top: 15px;\n              font-weight: bold;\n              font-size: 1.25rem;\n              color: #f97316;\n            }\n            .escrow-notice {\n              background: #eff6ff;\n              border: 1px solid #bfdbfe;\n              border-radius: 8px;\n              padding: 20px;\n              margin: 25px 0;\n              text-align: center;\n            }\n            .escrow-notice h4 {\n              color: #1e40af;\n              margin-bottom: 10px;\n              font-weight: bold;\n            }\n            .receipt-footer {\n              background: #f9fafb;\n              border-top: 1px solid #e5e7eb;\n              padding: 25px;\n              text-align: center;\n              color: #6b7280;\n              font-size: 0.875rem;\n            }\n            .footer-links {\n              margin-top: 15px;\n            }\n            .footer-links a {\n              color: #f97316;\n              text-decoration: none;\n              margin: 0 15px;\n            }\n            @media print {\n              body { padding: 0; }\n              .receipt-container { border: none; box-shadow: none; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="receipt-container">\n            <div class="receipt-header">\n              <div class="company-logo">\x8f\xa0PropertyArk</div>\n              <div class="receipt-title">Payment Receipt</div>\n              <div class="receipt-number">Receipt #').concat(r(s.id),'</div>\n            </div>\n            \n            <div class="receipt-body">\n              <div class="status-badge status-').concat(s.status,'">\n                ').concat("completed"===s.status?"\u2713 Completed":"pending"===s.status?"\x8f\xb3 Pending":"in-progress"===s.status?"In Progress":s.status,'\n              </div>\n              \n              <div class="info-grid">\n                <div class="info-section">\n                  <h3>Transaction Details</h3>\n                  <div class="info-item">\n                    <span class="info-label">Transaction ID:</span>\n                    <span class="info-value">').concat(s.id,'</span>\n                  </div>\n                  <div class="info-item">\n                    <span class="info-label">Date & Time:</span>\n                    <span class="info-value">').concat(n(s.date||s.createdAt),'</span>\n                  </div>\n                  <div class="info-item">\n                    <span class="info-label">Payment Method:</span>\n                    <span class="info-value">').concat(s.paymentMethod||"Escrow",'</span>\n                  </div>\n                  <div class="info-item">\n                    <span class="info-label">Transaction Type:</span>\n                    <span class="info-value">').concat(s.type||"Property Purchase",'</span>\n                  </div>\n                </div>\n                \n                <div class="info-section">\n                  <h3>Property Information</h3>\n                  <div class="info-item">\n                    <span class="info-label">Property:</span>\n                    <span class="info-value">').concat(s.propertyTitle||s.description,'</span>\n                  </div>\n                  <div class="info-item">\n                    <span class="info-label">Buyer:</span>\n                    <span class="info-value">').concat(s.buyer||"John Doe",'</span>\n                  </div>\n                  <div class="info-item">\n                    <span class="info-label">Seller:</span>\n                    <span class="info-value">').concat(s.seller||"Property Owner","</span>\n                  </div>\n                  ").concat(s.escrowId?'\n                  <div class="info-item">\n                    <span class="info-label">Escrow ID:</span>\n                    <span class="info-value">'.concat(s.escrowId,"</span>\n                  </div>\n                  "):"",'\n                </div>\n              </div>\n              \n              <div class="amount-summary">\n                <div class="amount-row">\n                  <span>Property Amount:</span>\n                  <span>').concat(a(s.amount),'</span>\n                </div>\n                <div class="amount-row">\n                  <span>Escrow Fee (0.5%):</span>\n                  <span>').concat(a(s.fees||Math.round(.005*s.amount)),'</span>\n                </div>\n                <div class="amount-row">\n                  <span>Processing Fee:</span>\n                  <span>\u20a62,500</span>\n                </div>\n                <div class="amount-row total">\n                  <span>Total Amount:</span>\n                  <span>').concat(a((s.totalAmount||s.amount)+(s.fees||Math.round(.005*s.amount))+2500),'</span>\n                </div>\n              </div>\n              \n              <div class="escrow-notice">\n                <h4>Escrow Protection</h4>\n                <p>Your payment is secured through our escrow service. Funds are held safely until all conditions are met and you approve the release to the vendor.</p>\n              </div>\n            </div>\n            \n            <div class="receipt-footer">\n              <p><strong>PropertyArk</strong> - Your Trusted Real Estate Partner</p>\n              <p>123 Victoria Island, Lagos, Nigeria | +234 800 123 4567</p>\n              <p>Email: support@propertyark.com | Website: www.propertyark.com</p>\n              <div class="footer-links">\n                <a href="#">Terms of Service</a>\n                <a href="#">Privacy Policy</a>\n                <a href="#">Support</a>\n              </div>\n              <p style="margin-top: 15px; font-size: 0.75rem;">\n                This is a computer-generated receipt. No signature required.\n                <br>Generated on ').concat((new Date).toLocaleString(),"\n              </p>\n            </div>\n          </div>\n        </body>\n      </html>\n    ");e.document.write(t),e.document.close(),e.onload=()=>{setTimeout(()=>{e.print()},500)}},className:"flex items-center justify-center px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[(0,i.jsx)(c.WCW,{className:"mr-2"}),"Download Receipt"]}),(0,i.jsx)("button",{onClick:t,className:"flex items-center justify-center px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})]}),(0,i.jsxs)("div",{className:"bg-gray-100 border-t px-8 py-6 text-center text-sm text-gray-600",children:[(0,i.jsx)("p",{className:"font-semibold mb-2",children:"PropertyArk- Your Trusted Real Estate Partner"}),(0,i.jsx)("p",{children:"123 Victoria Island, Lagos, Nigeria | +234 800 123 4567"}),(0,i.jsx)("p",{children:"Email: support@propertyark.com | Website: www.propertyark.com"}),(0,i.jsxs)("p",{className:"mt-3 text-xs",children:["This is a computer-generated receipt. No signature required.",(0,i.jsx)("br",{}),"Generated on ",(new Date).toLocaleString()]})]})]})}):null};var d=t(2339);const m=()=>{const{user:e}=(0,r.As)(),{escrowTransactions:s,createEscrowTransaction:t,releaseEscrowFunds:m}=(0,l.N)(),[x,p]=(0,a.useState)("overview"),[u,h]=(0,a.useState)(null),[g,b]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[N,w]=(0,a.useState)("card"),[k,P]=(0,a.useState)("all"),[C,A]=(0,a.useState)([]),[T,S]=(0,a.useState)({type:"card",cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",bankName:""}),D=[{id:"card",type:"Credit/Debit Card",icon:c.x1c,last4:"4242",expiry:"12/25",isDefault:!0,provider:"Visa"},{id:"bank",type:"Bank Transfer",icon:c.MxO,last4:"1234",expiry:null,isDefault:!1,provider:"First Bank"}],I=(()=>{const e=C.filter(e=>"completed"===e.status),s=C.filter(e=>"pending"===e.status||"in-progress"===e.status),t=e.reduce((e,s)=>e+(s.totalAmount||s.amount),0),n=s.reduce((e,s)=>e+(s.totalAmount||s.amount),0),a=s.reduce((e,s)=>e+(s.totalAmount||s.amount),0),r=(new Date).getMonth(),l=(new Date).getFullYear(),i=e.filter(e=>{const s=new Date(e.date);return s.getMonth()===r&&s.getFullYear()===l}).reduce((e,s)=>e+(s.totalAmount||s.amount),0),c=e.length>0?e.sort((e,s)=>new Date(s.date)-new Date(e.date))[0].date:null;return{totalSpent:t,pendingPayments:n,completedTransactions:e.length,escrowBalance:a,monthlySpend:i,lastPayment:c}})(),E=[{id:"TXN-001",type:"Property Purchase",amount:15e6,status:"completed",date:"2024-01-15",description:"Luxury Apartment in Ikoyi",paymentMethod:"Card",escrowId:"ESC-001",fees:37500},{id:"TXN-002",type:"Investment",amount:5e5,status:"pending",date:"2024-01-20",description:"Azure Heights Complex Investment",paymentMethod:"Bank Transfer",escrowId:"ESC-002",fees:5e3},{id:"TXN-003",type:"Escrow Release",amount:15e6,status:"completed",date:"2024-01-10",description:"Property Transfer Completed",paymentMethod:"Escrow",escrowId:"ESC-001",fees:0}];(0,a.useEffect)(()=>{(()=>{try{const s=JSON.parse(localStorage.getItem("escrowTransactions")||"[]").map(s=>({id:"TXN-".concat(s.id),type:"Property Purchase",amount:s.amount,totalAmount:s.totalAmount,status:"funded"===s.status?"completed":s.status,date:s.createdAt,description:s.propertyTitle,propertyTitle:s.propertyTitle,buyer:(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.lastName)||"Current User",seller:"Property Owner",paymentMethod:"Flutterwave",escrowId:s.id,fees:s.escrowFee,completedAt:s.completedAt,paymentReference:s.paymentReference})),t=[...s,...E.filter(e=>!s.find(s=>s.escrowId===e.escrowId))];t.sort((e,s)=>new Date(s.date)-new Date(e.date)),A(t)}catch(s){console.error("Error loading transactions:",s),A(E)}})()},[e,E]);const M=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=e=>{h(e),f(!0),d.Ay.success("Opening receipt for download...")},F=()=>{v(!1),S({type:"card",cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",bankName:""})};[{id:"ESC-001",propertyTitle:"Luxury Apartment in Ikoyi",buyer:"John Doe",seller:"Lagos Properties Ltd",amount:15e6,status:"completed",createdAt:"2024-01-01",completedAt:"2024-01-10",fees:75e3,description:"Property purchase with full verification"},{id:"ESC-002",propertyTitle:"Azure Heights Complex Investment",buyer:"John Doe",seller:"Azure Development Co.",amount:5e5,status:"pending",createdAt:"2024-01-20",completedAt:null,fees:2500,description:"Investment in development project"},{id:"ESC-003",propertyTitle:"Villa in Victoria Island",buyer:"John Doe",seller:"Premium Estates",amount:25e6,status:"in-progress",createdAt:"2024-01-25",completedAt:null,fees:125e3,description:"Property purchase under verification"}].filter(e=>"all"===k||e.status===k);return(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Billing & Payments"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Manage your payments, escrow transactions, and billing information"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,i.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,i.jsx)(c.MxO,{className:"text-green-600 text-xl"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20a6",I.totalSpent.toLocaleString()]}),(0,i.jsx)("p",{className:"text-sm text-green-600",children:"+12.5% this month"})]})]})}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,i.jsx)(c.w_X,{className:"text-yellow-600 text-xl"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20a6",I.pendingPayments.toLocaleString()]}),(0,i.jsx)("p",{className:"text-sm text-yellow-600",children:"2 transactions"})]})]})}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,i.jsx)(c.SMR,{className:"text-blue-600 text-xl"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Escrow Balance"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20a6",I.escrowBalance.toLocaleString()]}),(0,i.jsx)("p",{className:"text-sm text-blue-600",children:"3 active escrows"})]})]})}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,i.jsx)(c.wTh,{className:"text-purple-600 text-xl"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:I.completedTransactions}),(0,i.jsx)("p",{className:"text-sm text-purple-600",children:"transactions"})]})]})})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,i.jsx)("div",{className:"border-b border-gray-200",children:(0,i.jsx)("nav",{className:"flex space-x-8 px-6",children:[{key:"overview",label:"Overview"},{key:"payments",label:"Payment Methods"},{key:"history",label:"Transaction History"},{key:"invoices",label:"Invoices & Receipts"}].map(e=>(0,i.jsx)("button",{onClick:()=>p(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(x===e.key?"border-brand-blue text-brand-blue":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.key))})}),(0,i.jsxs)("div",{className:"p-6",children:["overview"===x&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Overview"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,i.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Transactions"}),(0,i.jsxs)("div",{className:"space-y-3",children:[C.slice(0,3).map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:e.description||e.propertyTitle}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("p",{className:"font-semibold text-gray-900",children:["\u20a6",(e.totalAmount||e.amount).toLocaleString()]}),(0,i.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(M(e.status)),children:e.status})]})]},e.id)),0===C.length&&(0,i.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,i.jsx)("p",{children:"No recent transactions found."}),(0,i.jsx)("p",{className:"text-sm",children:"Complete a property purchase to see transactions here."})]})]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,i.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Escrow Status"}),(0,i.jsxs)("div",{className:"space-y-3",children:[C.filter(e=>e.escrowId&&("pending"===e.status||"in-progress"===e.status)).slice(0,2).map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:e.propertyTitle||e.description}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:["ID: ",e.escrowId||e.id]})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("p",{className:"font-semibold text-gray-900",children:["\u20a6",(e.totalAmount||e.amount).toLocaleString()]}),(0,i.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(M(e.status)),children:e.status})]})]},e.id)),0===C.filter(e=>e.escrowId&&("pending"===e.status||"in-progress"===e.status)).length&&(0,i.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,i.jsx)("p",{children:"No active escrow transactions."}),(0,i.jsx)("p",{className:"text-sm",children:"Your completed escrow transactions will appear in transaction history."})]})]})]})]})]}),"payments"===x&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Methods"}),(0,i.jsxs)("button",{onClick:()=>{v(!0)},className:"btn-primary flex items-center space-x-2",children:[(0,i.jsx)(c.OiG,{}),(0,i.jsx)("span",{children:"Add Payment Method"})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:D.map(e=>(0,i.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"p-3 bg-gray-100 rounded-lg",children:(0,i.jsx)(e.icon,{className:"text-gray-600 text-xl"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold text-gray-900",children:e.type}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e.provider})]})]}),e.isDefault&&(0,i.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Default"})]}),(0,i.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Card Number"}),(0,i.jsxs)("span",{className:"font-medium",children:["**** **** **** ",e.last4]})]}),e.expiry&&(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Expires"}),(0,i.jsx)("span",{className:"font-medium",children:e.expiry})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)("button",{className:"btn-outline text-sm flex-1",children:"Edit"}),!e.isDefault&&(0,i.jsx)("button",{className:"btn-outline text-sm flex-1",children:"Remove"})]})]},e.id))}),(0,i.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)(c.SMR,{className:"text-blue-600 mt-1"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold text-blue-900",children:"Secure Payment Processing"}),(0,i.jsx)("p",{className:"text-blue-700 text-sm mt-1",children:"All payments are processed securely through Flutterwave with bank-level encryption. Your payment information is never stored on our servers."})]})]})})]}),"history"===x&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction History"}),(0,i.jsxs)("div",{className:"flex space-x-3",children:[(0,i.jsxs)("button",{className:"btn-outline flex items-center space-x-2",children:[(0,i.jsx)(c.WCW,{}),(0,i.jsx)("span",{children:"Export"})]}),(0,i.jsxs)("button",{className:"btn-outline flex items-center space-x-2",children:[(0,i.jsx)(c.YsJ,{}),(0,i.jsx)("span",{children:"Filter"})]})]})]}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:C.filter(e=>"all"===k||e.status===k).map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.description}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})}),(0,i.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,i.jsxs)("div",{className:"text-sm text-gray-900",children:["\u20a6",e.amount.toLocaleString()]}),e.fees>0&&(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["Fees: \u20a6",e.fees.toLocaleString()]})]}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(M(e.status)),children:e.status})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.date}),(0,i.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,i.jsx)("button",{onClick:()=>(e=>{console.log("View transaction:",e.id)})(e),className:"text-brand-blue hover:text-brand-orange mr-3",title:"View Transaction",children:(0,i.jsx)(c.Ny1,{})}),(0,i.jsx)("button",{onClick:()=>B(e),className:"text-brand-blue hover:text-brand-orange",title:"Download Receipt",children:(0,i.jsx)(c.WCW,{})})]})]},e.id))})]})})]}),"invoices"===x&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Invoices & Receipts"}),(0,i.jsxs)("button",{className:"btn-outline flex items-center space-x-2",children:[(0,i.jsx)(c.WCW,{}),(0,i.jsx)("span",{children:"Download All"})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.filter(e=>"all"===k||e.status===k).map(e=>(0,i.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("div",{className:"p-3 bg-gray-100 rounded-lg",children:(0,i.jsx)(c.TlC,{className:"text-gray-600 text-xl"})}),(0,i.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(M(e.status)),children:e.status})]}),(0,i.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.description}),(0,i.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Invoice #",e.id]}),(0,i.jsxs)("p",{className:"text-lg font-bold text-gray-900 mb-4",children:["\u20a6",e.amount.toLocaleString()]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsxs)("button",{onClick:()=>(e=>{h(e),f(!0)})(e),className:"btn-outline text-sm flex-1 flex items-center justify-center",children:[(0,i.jsx)(c.Ny1,{className:"mr-1"}),"View"]}),(0,i.jsxs)("button",{onClick:()=>B(e),className:"btn-outline text-sm flex-1 flex items-center justify-center",children:[(0,i.jsx)(c.WCW,{className:"mr-1"}),"Receipt"]})]})]},e.id))})]})]})]}),g&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Complete Payment"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),(0,i.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent",children:[(0,i.jsx)("option",{value:"card",children:"Credit/Debit Card"}),(0,i.jsx)("option",{value:"bank",children:"Bank Transfer"}),(0,i.jsx)("option",{value:"flutterwave",children:"Flutterwave"})]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Amount to Pay"}),(0,i.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"\u20a6450,000"})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Processing Fee"}),(0,i.jsx)("span",{className:"text-gray-900",children:"\u20a611,250"})]}),(0,i.jsx)("div",{className:"border-t pt-2 mt-2",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"font-medium text-gray-900",children:"Total"}),(0,i.jsx)("span",{className:"text-lg font-bold text-brand-blue",children:"\u20a6461,250"})]})})]}),(0,i.jsxs)("div",{className:"flex space-x-3",children:[(0,i.jsx)("button",{onClick:()=>b(!1),className:"btn-outline flex-1",children:"Cancel"}),(0,i.jsx)("button",{onClick:()=>(async(s,t)=>{const n={tx_ref:"TXN-".concat(Date.now()),amount:s,currency:"NGN",redirect_url:window.location.origin+"/payment-success",customer:{email:null===e||void 0===e?void 0:e.email,name:null===e||void 0===e?void 0:e.name,phone_number:null===e||void 0===e?void 0:e.phone},customizations:{title:"PropertyArk",description:t,logo:"https://propertyark.com/logo.png"}};console.log("Flutterwave payment data:",n),d.Ay.loading("Redirecting to Flutterwave payment gateway...",{duration:2e3})})(461250,"Property Investment Payment"),className:"btn-primary flex-1",children:"Pay Now"})]})]})]})}),y&&u&&(0,i.jsx)(o,{transaction:u,onClose:()=>{f(!1),h(null)}}),j&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Add Payment Method"}),(0,i.jsx)("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:(0,i.jsx)(c.QCr,{})})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method Type"}),(0,i.jsxs)("select",{value:T.type,onChange:e=>S(s=>(0,n.A)((0,n.A)({},s),{},{type:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,i.jsx)("option",{value:"card",children:"Credit/Debit Card"}),(0,i.jsx)("option",{value:"bank",children:"Bank Transfer"})]})]}),"card"===T.type?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),(0,i.jsx)("input",{type:"text",placeholder:"1234 5678 9012 3456",value:T.cardNumber,onChange:e=>S(s=>(0,n.A)((0,n.A)({},s),{},{cardNumber:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),(0,i.jsx)("input",{type:"text",placeholder:"MM/YY",value:T.expiryDate,onChange:e=>S(s=>(0,n.A)((0,n.A)({},s),{},{expiryDate:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),(0,i.jsx)("input",{type:"text",placeholder:"123",value:T.cvv,onChange:e=>S(s=>(0,n.A)((0,n.A)({},s),{},{cvv:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name"}),(0,i.jsx)("input",{type:"text",placeholder:"John Doe",value:T.cardholderName,onChange:e=>S(s=>(0,n.A)((0,n.A)({},s),{},{cardholderName:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),(0,i.jsxs)("select",{value:T.bankName,onChange:e=>S(s=>(0,n.A)((0,n.A)({},s),{},{bankName:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,i.jsx)("option",{value:"",children:"Select Bank"}),(0,i.jsx)("option",{value:"First Bank",children:"First Bank of Nigeria"}),(0,i.jsx)("option",{value:"GTBank",children:"Guaranty Trust Bank"}),(0,i.jsx)("option",{value:"Access Bank",children:"Access Bank"}),(0,i.jsx)("option",{value:"Zenith Bank",children:"Zenith Bank"}),(0,i.jsx)("option",{value:"UBA",children:"United Bank for Africa"}),(0,i.jsx)("option",{value:"Fidelity Bank",children:"Fidelity Bank"})]})]}),(0,i.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,i.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,i.jsx)(c.SMR,{className:"text-blue-600 mt-0.5"}),(0,i.jsx)("div",{children:(0,i.jsx)("p",{className:"text-sm text-blue-800",children:"Your payment information is encrypted and secure. We use Flutterwave's secure payment processing and never store your card details."})})]})}),(0,i.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,i.jsx)("button",{onClick:F,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,i.jsx)("button",{onClick:()=>{d.Ay.success("Payment method added successfully!"),v(!1),S({type:"card",cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",bankName:""})},className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Add Payment Method"})]})]})]})})]})}}}]);
//# sourceMappingURL=68.7c66c170.chunk.js.map