{"version":3,"file":"static/js/425.9dbb94a7.chunk.js","mappings":"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","sources":["pages/SavedProperties.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useProperty } from '../contexts/PropertyContext';\nimport { FaHeart, FaShare, FaBed, FaBath, FaRuler, FaMapMarkerAlt, FaTrash, FaEye, FaPhone, FaEnvelope, FaFilter, FaSort, FaShoppingCart, FaCalendar } from 'react-icons/fa';\nimport toast from 'react-hot-toast';\n\nconst SavedProperties = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const { properties = [], toggleFavorite, fetchProperties, loading: propertiesLoading } = useProperty();\n  const [savedProperties, setSavedProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [sortBy, setSortBy] = useState('dateAdded');\n  const [filterBy, setFilterBy] = useState('all');\n\n  // Load saved properties from localStorage and match with actual property data\n  const loadSavedProperties = useCallback(() => {\n    if (!user || !user.id) {\n      console.warn('SavedProperties: No user available, skipping load');\n      setSavedProperties([]);\n      setLoading(false);\n      return;\n    }\n\n    try {\n      // Get saved property IDs from localStorage\n      const key = `favorites_${user.id}`;\n      const savedFavoriteIds = JSON.parse(localStorage.getItem(key) || '[]');\n      \n      // Also check for stored property metadata (for mock data or properties not in current list)\n      const savedPropertiesMetadataKey = `favorites_metadata_${user.id}`;\n      const savedPropertiesMetadata = JSON.parse(localStorage.getItem(savedPropertiesMetadataKey) || '{}');\n      \n      console.log('SavedProperties: Loading saved properties', {\n        savedFavoriteIds,\n        savedFavoriteIdsCount: savedFavoriteIds.length,\n        propertiesAvailable: properties.length,\n        savedMetadataCount: Object.keys(savedPropertiesMetadata).length,\n        propertyIdsSample: properties.slice(0, 3).map(p => p.id || p.propertyId || p._id)\n      });\n      \n      if (!Array.isArray(savedFavoriteIds) || savedFavoriteIds.length === 0) {\n        setSavedProperties([]);\n        setLoading(false);\n        return;\n      }\n\n      // Helper function to transform property to SavedProperties format\n      const transformProperty = (property, favoriteId) => {\n        return {\n          id: String(property.id || property.propertyId || property._id || favoriteId),\n          title: property.title || 'Untitled Property',\n          location: typeof property.location === 'string' \n            ? property.location \n            : property.location?.address \n              ? `${property.location.address}${property.location.city ? ', ' + property.location.city : ''}${property.location.state ? ', ' + property.location.state : ''}`.replace(/^, |, $/g, '').trim()\n              : property.city && property.state \n                ? `${property.city}, ${property.state}`\n                : property.city || property.state || property.address || 'Location not specified',\n          price: property.price || 0,\n          bedrooms: property.bedrooms || property.details?.bedrooms || 0,\n          bathrooms: property.bathrooms || property.details?.bathrooms || 0,\n          area: property.area || property.details?.sqft || property.sqft || 0,\n          image: property.image || property.images?.[0]?.url || property.images?.[0] || 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=400&h=300&fit=crop',\n          dateAdded: property.dateAdded || property.createdAt || new Date().toISOString().split('T')[0],\n          status: property.status || property.listingType || property.statusSlug || 'available',\n          type: property.type || property.typeSlug || 'sale',\n          agent: property.agent || property.owner || {\n            name: property.vendorName || 'Property Agent',\n            phone: property.vendorPhone || property.contactPhone || '+234-XXX-XXXX',\n            email: property.vendorEmail || property.contactEmail || 'agent@example.com'\n          }\n        };\n      };\n\n      // Match saved IDs with actual properties\n      const matchedProperties = savedFavoriteIds\n        .map(favoriteId => {\n          // Normalize favoriteId to string for consistent comparison\n          const favoriteIdStr = String(favoriteId);\n          \n          // First, try to find property in current properties list\n          const property = properties.find(p => {\n            const propId = p.id || p.propertyId || p._id;\n            const propIdStr = String(propId || '');\n            \n            // Compare as strings for consistent matching\n            const matches = (\n              propIdStr === favoriteIdStr ||\n              propId === favoriteId ||\n              String(propId) === String(favoriteId)\n            );\n            \n            return matches;\n          });\n          \n          if (property) {\n            // Found in current properties list\n            return transformProperty(property, favoriteId);\n          }\n          \n          // If not found, check saved metadata (for mock data or properties not currently loaded)\n          const savedMetadata = savedPropertiesMetadata[favoriteIdStr];\n          if (savedMetadata) {\n            console.log('SavedProperties: Using saved metadata for property', favoriteIdStr);\n            return transformProperty(savedMetadata, favoriteId);\n          }\n          \n          // If property not found anywhere, log for debugging\n          console.warn('SavedProperties: Property not found in properties list or metadata', {\n            favoriteId,\n            favoriteIdStr,\n            favoriteIdType: typeof favoriteId,\n            availablePropertyIds: properties.map(p => ({\n              id: p.id || p.propertyId || p._id,\n              idStr: String(p.id || p.propertyId || p._id),\n              type: typeof (p.id || p.propertyId || p._id)\n            })).slice(0, 5)\n          });\n          \n          return null;\n        })\n        .filter(Boolean); // Remove null entries\n\n      console.log('SavedProperties: Loaded properties result', {\n        savedFavoriteIdsCount: savedFavoriteIds.length,\n        matchedPropertiesCount: matchedProperties.length,\n        totalPropertiesAvailable: properties.length,\n        unmatchedIds: savedFavoriteIds.filter(id => !matchedProperties.find(p => (p.id === id || p.id?.toString() === id?.toString())))\n      });\n\n      setSavedProperties(matchedProperties);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading saved properties:', error);\n      setSavedProperties([]);\n      setLoading(false);\n    }\n  }, [user, properties]);\n\n  // Fetch properties if not already loaded\n  useEffect(() => {\n    if (user && fetchProperties) {\n      // Always fetch properties to ensure we have the latest data\n      if (properties.length === 0 && !propertiesLoading) {\n        console.log('SavedProperties: Fetching properties...');\n        fetchProperties();\n      }\n    }\n  }, [user, fetchProperties, properties.length, propertiesLoading]);\n\n  // Load saved properties when user or properties change\n  useEffect(() => {\n    // Wait a bit for properties to load if they're not loaded yet\n    if (properties.length === 0) {\n      const timer = setTimeout(() => {\n        loadSavedProperties();\n      }, 500);\n      return () => clearTimeout(timer);\n    } else {\n      loadSavedProperties();\n    }\n  }, [loadSavedProperties, properties.length]);\n\n  // Listen for storage changes (when properties are saved/removed from other tabs/pages)\n  useEffect(() => {\n    if (!user) return;\n\n    const handleStorageChange = (e) => {\n      if (e.key === `favorites_${user.id}`) {\n        console.log('SavedProperties: Storage change detected, reloading...');\n        loadSavedProperties();\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    \n    // Also listen for custom events (for same-tab updates)\n    const handleFavoriteChange = (event) => {\n      console.log('SavedProperties: Favorites updated event received', event.detail);\n      // Small delay to ensure localStorage is updated\n      setTimeout(() => {\n        loadSavedProperties();\n      }, 100);\n    };\n    \n    window.addEventListener('favoritesUpdated', handleFavoriteChange);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('favoritesUpdated', handleFavoriteChange);\n    };\n  }, [user, loadSavedProperties]);\n\n  const handleRemoveFromSaved = async (propertyId) => {\n    if (!user) {\n      toast.error('Please register to manage saved properties');\n      return;\n    }\n\n    try {\n      // Normalize propertyId to string\n      const propertyIdStr = String(propertyId);\n      \n      // Remove from localStorage using toggleFavorite\n      const result = await toggleFavorite(propertyIdStr);\n      \n      if (result && result.success) {\n        // Reload saved properties to reflect the change\n        setTimeout(() => {\n          loadSavedProperties();\n        }, 100);\n        \n        // Dispatch custom event to notify Dashboard and other components\n        window.dispatchEvent(new CustomEvent('favoritesUpdated', { \n          detail: { propertyId: propertyIdStr, favorited: false } \n        }));\n        \n        toast.success('Property removed from saved list');\n      } else {\n        toast.error('Failed to remove property');\n      }\n    } catch (error) {\n      console.error('Error removing property:', error);\n      toast.error('Failed to remove property');\n    }\n  };\n\n  const handleBuyProperty = (property) => {\n    console.log('ðŸ”¥ SavedProperties: handleBuyProperty called with property:', property);\n    \n    if (!user) {\n      console.warn('ðŸ”¥ SavedProperties: No user logged in');\n      toast.error('Please register to purchase properties');\n      return;\n    }\n    \n    if (property.status === 'sold') {\n      console.warn('ðŸ”¥ SavedProperties: Property already sold');\n      toast.error('This property has already been sold');\n      return;\n    }\n    \n    // Navigate to escrow process for purchase\n    const escrowUrl = `/escrow/create?propertyId=${property.id}&type=purchase`;\n    console.log('ðŸ”¥ SavedProperties: Navigating to:', escrowUrl);\n    console.log('ðŸ”¥ SavedProperties: Property ID:', property.id, 'Type:', typeof property.id);\n    \n    navigate(escrowUrl);\n  };\n\n  const handleScheduleViewing = (property) => {\n    if (!user || !user.id || !user.firstName || !user.lastName || !user.email) {\n      toast.error('User information incomplete. Please refresh and try again.');\n      return;\n    }\n    \n    // Create viewing request data\n    const viewingRequest = {\n      id: `viewing-${Date.now()}`,\n      propertyId: property.id,\n      propertyTitle: property.title,\n      propertyLocation: property.location,\n      userId: user.id,\n      userName: `${user.firstName} ${user.lastName}`,\n      userEmail: user.email,\n      status: 'pending',\n      requestedAt: new Date().toISOString(),\n      preferredDate: null,\n      preferredTime: null,\n      message: '',\n      agentContact: property.agent || {\n        name: 'Property Agent',\n        phone: '+234-XXX-XXXX',\n        email: 'agent@example.com'\n      }\n    };\n    \n    // Store in localStorage for demo\n    const existingRequests = JSON.parse(localStorage.getItem('viewingRequests') || '[]');\n    existingRequests.push(viewingRequest);\n    localStorage.setItem('viewingRequests', JSON.stringify(existingRequests));\n    \n    toast.success(`Viewing request sent for \"${property.title}\"! The agent will contact you within 24 hours.`);\n    \n    // Show additional info\n    setTimeout(() => {\n      toast.info(`Agent: ${viewingRequest.agentContact.name} | Phone: ${viewingRequest.agentContact.phone}`);\n    }, 2000);\n  };\n\n  const createInquiry = (property, inquiryType, message = '') => {\n    if (!user || !user.id || !property) {\n      console.warn('createInquiry: Missing user or property information');\n      return;\n    }\n\n    // Check if inquiry already exists for this property and user\n    const existingInquiries = JSON.parse(localStorage.getItem('inquiries') || '[]');\n    const existingInquiry = existingInquiries.find(\n      inq => inq.propertyId === property.id && \n             (inq.userId === user.id || inq.buyerId === user.id) &&\n             (inq.status === 'new' || inq.status === 'pending' || inq.status === 'contacted')\n    );\n\n    // If inquiry already exists, don't create duplicate\n    if (existingInquiry) {\n      return existingInquiry;\n    }\n\n    // Get property location\n    const propertyLocation = typeof property.location === 'string' \n      ? property.location \n      : property.location?.address || property.location?.city || property.address || property.city || 'Location not specified';\n\n    // Create new inquiry\n    const inquiry = {\n      id: `inquiry-${Date.now()}`,\n      propertyId: property.id,\n      propertyTitle: property.title,\n      propertyLocation: propertyLocation,\n      propertyPrice: property.price || 0,\n      propertyImage: property.images?.[0]?.url || property.image || property.images?.[0] || '',\n      propertyBedrooms: property.bedrooms || property.details?.bedrooms || 0,\n      propertyBathrooms: property.bathrooms || property.details?.bathrooms || 0,\n      propertyArea: property.area || property.details?.sqft || 0,\n      userId: user.id,\n      buyerId: user.id,\n      buyerName: `${user.firstName} ${user.lastName}`,\n      buyerEmail: user.email,\n      buyerPhone: user.phone || '',\n      vendorId: property.vendorId || property.owner?.id || property.vendor?.id || '',\n      vendorName: property.owner?.firstName \n        ? `${property.owner.firstName} ${property.owner.lastName || ''}`.trim()\n        : property.vendor?.firstName \n        ? `${property.vendor.firstName} ${property.vendor.lastName || ''}`.trim()\n        : property.agent?.name || 'Property Vendor',\n      vendorEmail: property.owner?.email || property.vendor?.email || property.vendorEmail || property.agent?.email || '',\n      vendorPhone: property.owner?.phone || property.vendorPhone || property.contactPhone || property.vendor?.phone || property.agent?.phone || '',\n      inquiryType: inquiryType, // 'call' or 'message'\n      message: message || `I'm interested in ${property.title}. Please contact me.`,\n      status: 'new',\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n      responses: []\n    };\n\n    // Save to localStorage\n    existingInquiries.push(inquiry);\n    localStorage.setItem('inquiries', JSON.stringify(existingInquiries));\n\n    // Dispatch event to notify dashboard\n    window.dispatchEvent(new CustomEvent('inquiriesUpdated', {\n      detail: { inquiry, action: 'created' }\n    }));\n    \n    // Also trigger a storage event for cross-tab synchronization\n    window.dispatchEvent(new StorageEvent('storage', {\n      key: 'inquiries',\n      newValue: JSON.stringify(existingInquiries)\n    }));\n\n    return inquiry;\n  };\n\n  const handleContactAgent = (property) => {\n    console.log('Contact Agent clicked, property:', property, 'user:', user);\n    \n    if (!user) {\n      toast.error('Please register to contact agents');\n      return;\n    }\n    \n    // Create inquiry\n    createInquiry(property, 'call', `I'm interested in ${property.title}. Please contact me via phone call.`);\n    \n    // Get agent's phone number\n    const agentPhone = property?.agent?.phone || property?.owner?.phone || property?.vendorPhone || property?.contactPhone;\n    \n    if (!agentPhone) {\n      toast.error('Agent phone number not available');\n      return;\n    }\n    \n    // Initiate phone call\n    window.location.href = `tel:${agentPhone}`;\n    \n    toast.success('Inquiry saved to My Inquiries.');\n  };\n\n  const handleSortChange = (e) => {\n    setSortBy(e.target.value);\n  };\n\n  const handleFilterChange = (e) => {\n    setFilterBy(e.target.value);\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'available': return 'bg-green-100 text-green-800';\n      case 'sold': return 'bg-red-100 text-red-800';\n      case 'rented': return 'bg-blue-100 text-blue-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusLabel = (status) => {\n    switch (status) {\n      case 'available': return 'Available';\n      case 'sold': return 'Sold';\n      case 'rented': return 'Rented';\n      default: return 'Unknown';\n    }\n  };\n\n  const filteredAndSortedProperties = savedProperties\n    .filter(property => {\n      if (filterBy === 'all') return true;\n      if (filterBy === 'available') return property.status === 'available';\n      if (filterBy === 'sold') return property.status === 'sold';\n      if (filterBy === 'rented') return property.status === 'rented';\n      return true;\n    })\n    .sort((a, b) => {\n      switch (sortBy) {\n        case 'priceHigh':\n          const priceA = parseFloat(a.price) || 0;\n          const priceB = parseFloat(b.price) || 0;\n          return priceB - priceA;\n        case 'priceLow':\n          const priceALow = parseFloat(a.price) || 0;\n          const priceBLow = parseFloat(b.price) || 0;\n          return priceALow - priceBLow;\n        case 'dateAdded':\n          const dateA = a.dateAdded ? new Date(a.dateAdded) : new Date(0);\n          const dateB = b.dateAdded ? new Date(b.dateAdded) : new Date(0);\n          const timeA = isNaN(dateA.getTime()) ? 0 : dateA.getTime();\n          const timeB = isNaN(dateB.getTime()) ? 0 : dateB.getTime();\n          return timeB - timeA; // Newest first\n        case 'bedrooms':\n          const bedroomsA = parseInt(a.bedrooms) || 0;\n          const bedroomsB = parseInt(b.bedrooms) || 0;\n          return bedroomsB - bedroomsA;\n        default:\n          return 0;\n      }\n    });\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"mb-4\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Saved Properties</h1>\n        <p className=\"text-gray-600\">\n          Manage your saved properties and track their availability status\n        </p>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-blue-100 rounded-lg\">\n              <FaHeart className=\"text-brand-blue text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Total Saved</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{savedProperties.length}</p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-green-100 rounded-lg\">\n              <FaEye className=\"text-green-600 text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Available</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {savedProperties.filter(p => p.status === 'available').length}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-red-100 rounded-lg\">\n              <FaTrash className=\"text-red-600 text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Sold/Rented</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {savedProperties.filter(p => p.status === 'sold' || p.status === 'rented').length}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-3 bg-orange-100 rounded-lg\">\n              <FaMapMarkerAlt className=\"text-brand-orange text-xl\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Locations</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {new Set(savedProperties.map(p => {\n                  if (typeof p.location === 'string') {\n                    const parts = p.location.split(',');\n                    return parts[parts.length > 1 ? 1 : 0]?.trim() || p.location;\n                  }\n                  return p.location || 'Unknown';\n                })).size}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters and Sort */}\n      <div className=\"bg-white rounded-lg shadow p-6 mb-4\">\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex items-center space-x-2\">\n              <FaFilter className=\"text-gray-500\" />\n              <select\n                value={filterBy}\n                onChange={handleFilterChange}\n                className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n              >\n                <option value=\"all\">All Properties</option>\n                <option value=\"available\">Available</option>\n                <option value=\"sold\">Sold</option>\n                <option value=\"rented\">Rented</option>\n              </select>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <FaSort className=\"text-gray-500\" />\n              <select\n                value={sortBy}\n                onChange={handleSortChange}\n                className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n              >\n                <option value=\"dateAdded\">Date Added</option>\n                <option value=\"priceHigh\">Price: High to Low</option>\n                <option value=\"priceLow\">Price: Low to High</option>\n                <option value=\"bedrooms\">Bedrooms</option>\n              </select>\n            </div>\n          </div>\n          \n          <div className=\"text-sm text-gray-600\">\n            Showing {filteredAndSortedProperties.length} of {savedProperties.length} properties\n          </div>\n        </div>\n      </div>\n\n      {/* Properties Grid */}\n      {filteredAndSortedProperties.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow p-12 text-center\">\n          <FaHeart className=\"text-gray-300 text-6xl mx-auto mb-4\" />\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No Saved Properties</h3>\n          <p className=\"text-gray-600 mb-6\">\n            {filterBy === 'all' \n              ? \"You haven't saved any properties yet. Start browsing to save your favorites!\"\n              : `No ${filterBy} properties found in your saved list.`\n            }\n          </p>\n          <Link \n            to=\"/properties\" \n            className=\"btn-primary inline-flex items-center\"\n          >\n            Browse Properties\n          </Link>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredAndSortedProperties.map((property) => (\n            <div key={property.id} className=\"property-card\">\n              <div className=\"relative\">\n                <Link \n                  to={`/property/${property.id}`}\n                  className=\"block cursor-pointer\"\n                >\n                  <img\n                    src={property.image}\n                    alt={property.title}\n                    className=\"property-card-image\"\n                  />\n                </Link>\n                <div className=\"absolute top-2 left-2\">\n                  <span className={`tag ${getStatusColor(property.status)}`}>\n                    {getStatusLabel(property.status)}\n                  </span>\n                </div>\n                <div className=\"absolute top-2 right-2 flex space-x-2 z-10\">\n                  <button \n                    onClick={async (e) => {\n                      e.stopPropagation();\n                      const url = `${window.location.origin}/property/${property.id}`;\n                      try {\n                        if (navigator.share) {\n                          await navigator.share({ title: property.title, text: property.title, url });\n                        } else {\n                          await navigator.clipboard.writeText(url);\n                          toast.success('Link copied');\n                        }\n                      } catch (e) {}\n                    }}\n                    className=\"text-white bg-black bg-opacity-50 p-1 rounded hover:bg-opacity-70 transition-all\">\n                    <FaShare className=\"text-sm\" />\n                  </button>\n                  <button \n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleRemoveFromSaved(property.id);\n                    }}\n                    className=\"text-white bg-red-500 bg-opacity-80 p-1 rounded hover:bg-opacity-100 transition-all\"\n                  >\n                    <FaTrash className=\"text-sm\" />\n                  </button>\n                </div>\n              </div>\n              \n              <Link \n                to={`/property/${property.id}`}\n                className=\"block property-card-content cursor-pointer\"\n              >\n                <div className=\"property-price\">\n                  â‚¦{(property.price || 0).toLocaleString()}\n                  {property.type === 'rent' && <span className=\"text-sm text-gray-500\">/month</span>}\n                </div>\n                <h3 className=\"property-title\">{property.title}</h3>\n                <p className=\"property-location\">\n                  <FaMapMarkerAlt className=\"mr-1\" />\n                  {property.location}\n                </p>\n                \n                <div className=\"property-features\">\n                  <div className=\"flex items-center space-x-1\">\n                    <FaBed />\n                    <span>{property.bedrooms} Bedrooms</span>\n                  </div>\n                  <div className=\"flex items-center space-x-1\">\n                    <FaBath />\n                    <span>{property.bathrooms} Bathrooms</span>\n                  </div>\n                  <div className=\"flex items-center space-x-1\">\n                    <FaRuler />\n                    <span>{property.area}mÂ²</span>\n                  </div>\n                </div>\n              </Link>\n\n              <div className=\"mt-4 pt-4 border-t border-gray-200 px-4 pb-4\">\n                  <div className=\"flex items-center justify-between text-sm text-gray-600 mb-3\">\n                    <span>Added: {new Date(property.dateAdded).toLocaleDateString()}</span>\n                    <span>Agent: {property.agent.name}</span>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    {/* Primary action based on property type and status */}\n                    {console.log('ðŸ”¥ SavedProperties: Rendering buttons for property:', { \n                      id: property.id, \n                      type: property.type, \n                      status: property.status,\n                      showBuyButton: property.type === 'sale' && property.status === 'available'\n                    })}\n                    {property.type === 'sale' && property.status === 'available' && (\n                      <button \n                        onClick={(e) => {\n                          console.log('ðŸ”¥ SavedProperties: Buy button clicked!', { property });\n                          e.stopPropagation();\n                          handleBuyProperty(property);\n                        }}\n                        className=\"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center\"\n                      >\n                        <FaShoppingCart className=\"mr-2\" />\n                        Buy Property - â‚¦{(property.price || 0).toLocaleString()}\n                      </button>\n                    )}\n                    \n                    {property.type === 'rent' && property.status === 'available' && (\n                      <button \n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleBuyProperty(property);\n                        }}\n                        className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center\"\n                      >\n                        <FaShoppingCart className=\"mr-2\" />\n                        Rent Property - â‚¦{(property.price || 0).toLocaleString()}/month\n                      </button>\n                    )}\n                    \n                    {property.status === 'sold' && (\n                      <div className=\"w-full bg-red-100 text-red-800 py-2 px-4 rounded-lg text-center\">\n                        Property Sold\n                      </div>\n                    )}\n                    \n                    {property.status === 'rented' && (\n                      <div className=\"w-full bg-blue-100 text-blue-800 py-2 px-4 rounded-lg text-center\">\n                        Property Rented\n                      </div>\n                    )}\n                    \n                    {/* Secondary actions */}\n                    <div className=\"flex space-x-2\">\n                      <div\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigate(`/property/${property.id}`);\n                        }}\n                        className=\"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-center cursor-pointer\"\n                      >\n                        View Details\n                      </div>\n                      <button \n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleScheduleViewing(property);\n                        }}\n                        className=\"flex-1 bg-orange-100 text-orange-700 py-2 px-4 rounded-lg hover:bg-orange-200 transition-colors flex items-center justify-center\"\n                      >\n                        <FaCalendar className=\"mr-1\" />\n                        Schedule Viewing\n                      </button>\n                      <button \n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleContactAgent(property);\n                        }}\n                        className=\"flex-1 bg-blue-100 text-blue-700 py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors flex items-center justify-center\"\n                      >\n                        <FaPhone className=\"mr-1\" />\n                        Contact Agent\n                      </button>\n                    </div>\n                  </div>\n                </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SavedProperties;\n\n"],"names":["SavedProperties","user","useAuth","navigate","useNavigate","properties","toggleFavorite","fetchProperties","loading","propertiesLoading","useProperty","savedProperties","setSavedProperties","useState","setLoading","sortBy","setSortBy","filterBy","setFilterBy","loadSavedProperties","useCallback","id","console","warn","key","savedFavoriteIds","JSON","parse","localStorage","getItem","savedPropertiesMetadataKey","savedPropertiesMetadata","log","savedFavoriteIdsCount","length","propertiesAvailable","savedMetadataCount","Object","keys","propertyIdsSample","slice","map","p","propertyId","_id","Array","isArray","transformProperty","property","favoriteId","_property$location","_property$details","_property$details2","_property$details3","_property$images","_property$images$","_property$images2","String","title","location","address","city","state","replace","trim","price","bedrooms","details","bathrooms","area","sqft","image","images","url","dateAdded","createdAt","Date","toISOString","split","status","listingType","statusSlug","type","typeSlug","agent","owner","name","vendorName","phone","vendorPhone","contactPhone","email","vendorEmail","contactEmail","matchedProperties","favoriteIdStr","find","propId","savedMetadata","favoriteIdType","availablePropertyIds","idStr","filter","Boolean","matchedPropertiesCount","totalPropertiesAvailable","unmatchedIds","_p$id","toString","error","useEffect","timer","setTimeout","clearTimeout","handleStorageChange","e","window","addEventListener","handleFavoriteChange","event","detail","removeEventListener","handleBuyProperty","toast","escrowUrl","handleContactAgent","_property$agent4","_property$owner5","inquiryType","_property$location2","_property$location3","_property$images3","_property$images3$","_property$images4","_property$details4","_property$details5","_property$details6","_property$owner","_property$vendor","_property$owner2","_property$vendor2","_property$agent","_property$owner3","_property$vendor3","_property$agent2","_property$owner4","_property$vendor4","_property$agent3","message","arguments","undefined","existingInquiries","existingInquiry","inq","userId","buyerId","propertyLocation","inquiry","now","propertyTitle","propertyPrice","propertyImage","propertyBedrooms","propertyBathrooms","propertyArea","buyerName","firstName","lastName","buyerEmail","buyerPhone","vendorId","vendor","updatedAt","responses","push","setItem","stringify","dispatchEvent","CustomEvent","action","StorageEvent","newValue","createInquiry","agentPhone","href","success","getStatusColor","getStatusLabel","filteredAndSortedProperties","sort","a","b","priceA","parseFloat","dateA","dateB","timeA","isNaN","getTime","bedroomsA","parseInt","_jsx","className","children","_jsxs","FaHeart","FaEye","FaTrash","FaMapMarkerAlt","Set","_parts","parts","size","FaFilter","value","onChange","target","FaSort","Link","to","src","alt","onClick","async","stopPropagation","origin","navigator","share","text","clipboard","writeText","FaShare","propertyIdStr","result","favorited","handleRemoveFromSaved","toLocaleString","FaBed","FaBath","FaRuler","toLocaleDateString","showBuyButton","FaShoppingCart","viewingRequest","userName","userEmail","requestedAt","preferredDate","preferredTime","agentContact","existingRequests","info","handleScheduleViewing","FaCalendar","FaPhone"],"sourceRoot":""}