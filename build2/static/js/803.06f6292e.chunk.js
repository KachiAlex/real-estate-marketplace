"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[803],{5803:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(5043),r=s(2825),l=s(5016),n=s(5369),i=s(579);const d=e=>{let{onClose:t,onSubmit:s}=e;const[r,l]=(0,a.useState)({title:"",description:"",targetAmount:"",minimumInvestment:"",expectedROI:"",investmentDuration:"",propertyLocation:"",propertyValue:"",propertyType:"",riskLevel:"medium",terms:"",collateralDetails:""});return(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Investment Opportunity"}),(0,i.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,i.jsx)(n.qbC,{})})]}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s({...r,targetAmount:parseFloat(r.targetAmount),minimumInvestment:parseFloat(r.minimumInvestment),expectedROI:parseFloat(r.expectedROI),investmentDuration:parseInt(r.investmentDuration),propertyValue:parseFloat(r.propertyValue)})},className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Investment Title"}),(0,i.jsx)("input",{type:"text",value:r.title,onChange:e=>l({...r,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Amount (\u20a6)"}),(0,i.jsx)("input",{type:"number",value:r.targetAmount,onChange:e=>l({...r,targetAmount:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Investment (\u20a6)"}),(0,i.jsx)("input",{type:"number",value:r.minimumInvestment,onChange:e=>l({...r,minimumInvestment:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected ROI (%)"}),(0,i.jsx)("input",{type:"number",step:"0.1",value:r.expectedROI,onChange:e=>l({...r,expectedROI:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Investment Duration (months)"}),(0,i.jsx)("input",{type:"number",value:r.investmentDuration,onChange:e=>l({...r,investmentDuration:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Location"}),(0,i.jsx)("input",{type:"text",value:r.propertyLocation,onChange:e=>l({...r,propertyLocation:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Value (\u20a6)"}),(0,i.jsx)("input",{type:"number",value:r.propertyValue,onChange:e=>l({...r,propertyValue:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type"}),(0,i.jsxs)("select",{value:r.propertyType,onChange:e=>l({...r,propertyType:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,i.jsx)("option",{value:"",children:"Select Property Type"}),(0,i.jsx)("option",{value:"residential",children:"Residential"}),(0,i.jsx)("option",{value:"commercial",children:"Commercial"}),(0,i.jsx)("option",{value:"industrial",children:"Industrial"}),(0,i.jsx)("option",{value:"land",children:"Land"})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,i.jsx)("textarea",{value:r.description,onChange:e=>l({...r,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Collateral Details"}),(0,i.jsx)("textarea",{value:r.collateralDetails,onChange:e=>l({...r,collateralDetails:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe the property collateral and its details...",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Terms & Conditions"}),(0,i.jsx)("textarea",{value:r.terms,onChange:e=>l({...r,terms:e.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Investment terms, conditions, and agreements...",required:!0})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,i.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,i.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Investment"})]})]})]})})},c=e=>{var t,s,a,r;let{investment:l,onClose:d,onUploadDeed:c}=e;return(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Investment Details"}),(0,i.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-600",children:(0,i.jsx)(n.qbC,{})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Investment Information"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Title:"}),(0,i.jsx)("p",{className:"text-gray-900",children:l.title})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Description:"}),(0,i.jsx)("p",{className:"text-gray-900",children:l.description})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Target Amount:"}),(0,i.jsxs)("p",{className:"text-gray-900",children:["\u20a6",null===(t=l.targetAmount)||void 0===t?void 0:t.toLocaleString()]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Expected ROI:"}),(0,i.jsxs)("p",{className:"text-gray-900",children:[l.expectedROI,"%"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Duration:"}),(0,i.jsxs)("p",{className:"text-gray-900",children:[l.investmentDuration," months"]})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Collateral"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Location:"}),(0,i.jsx)("p",{className:"text-gray-900",children:l.propertyLocation})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Property Value:"}),(0,i.jsxs)("p",{className:"text-gray-900",children:["\u20a6",null===(s=l.propertyValue)||void 0===s?void 0:s.toLocaleString()]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Property Type:"}),(0,i.jsx)("p",{className:"text-gray-900",children:l.propertyType})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Collateral Details:"}),(0,i.jsx)("p",{className:"text-gray-900",children:l.collateralDetails})]})]})]})]}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Investment Performance"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Total Raised"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20a6",(null===(a=l.totalRaised)||void 0===a?void 0:a.toLocaleString())||"0"]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Investors"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(r=l.investors)||void 0===r?void 0:r.length)||0})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Progress"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round((l.totalRaised||0)/l.targetAmount*100),"%"]})]})]})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,i.jsx)("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"}),"active"===l.status&&(0,i.jsx)("button",{onClick:()=>c(l.id,null),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Upload Property Deed"})]})]})})},o=()=>{const{user:e}=(0,l.As)(),{investments:t,loading:s,isInvestmentCompany:o,createInvestment:x,updateInvestmentStatus:m,uploadPropertyDeed:u}=(0,r.H)(),[p,g]=(0,a.useState)(!1),[h,y]=(0,a.useState)(null),[v,b]=(0,a.useState)({totalInvestments:0,totalRaised:0,activeInvestors:0,pendingApprovals:0});(0,a.useEffect)(()=>{if(t.length>0){const s=t.filter(t=>t.companyId===(null===e||void 0===e?void 0:e.uid)),a=s.reduce((e,t)=>e+(t.totalRaised||0),0),r=s.reduce((e,t)=>{var s;return e+((null===(s=t.investors)||void 0===s?void 0:s.length)||0)},0),l=s.filter(e=>"pending_approval"===e.status).length;b({totalInvestments:s.length,totalRaised:a,activeInvestors:r,pendingApprovals:l})}},[t,e]);const j=async(e,t)=>{(await u(e,{fileName:t.name,fileSize:t.size,fileType:t.type})).success},N=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"pending_approval":return"bg-yellow-100 text-yellow-800";case"funding":return"bg-blue-100 text-blue-800";case"completed":default:return"bg-gray-100 text-gray-800";case"defaulted":return"bg-red-100 text-red-800"}},f=e=>{switch(e){case"active":return(0,i.jsx)(n.CMH,{className:"text-green-500"});case"pending_approval":return(0,i.jsx)(n.w_X,{className:"text-yellow-500"});case"funding":return(0,i.jsx)(n.Tsk,{className:"text-blue-500"});case"completed":return(0,i.jsx)(n.CMH,{className:"text-gray-500"});case"defaulted":return(0,i.jsx)(n.BS8,{className:"text-red-500"});default:return(0,i.jsx)(n.w_X,{className:"text-gray-500"})}};return o?(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Investment Company Dashboard"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Manage your investment opportunities and track performance"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,i.jsx)(n.YYR,{className:"h-6 w-6 text-blue-600"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Investments"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.totalInvestments})]})]})}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,i.jsx)(n.Tsk,{className:"h-6 w-6 text-green-600"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Raised"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20a6",v.totalRaised.toLocaleString()]})]})]})}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,i.jsx)(n.YXz,{className:"h-6 w-6 text-purple-600"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Investors"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.activeInvestors})]})]})}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,i.jsx)(n.w_X,{className:"h-6 w-6 text-yellow-600"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approvals"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.pendingApprovals})]})]})})]}),(0,i.jsx)("div",{className:"mb-8",children:(0,i.jsxs)("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,i.jsx)(n.YYR,{className:"mr-2"}),"Create New Investment Opportunity"]})}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,i.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Investment Opportunities"})}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Investment"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target Amount"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Raised"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ROI"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.filter(t=>t.companyId===(null===e||void 0===e?void 0:e.uid)).map(e=>{var t,s;return(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,i.jsx)("div",{className:"text-sm text-gray-500",children:e.propertyLocation})]})}),(0,i.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["\u20a6",null===(t=e.targetAmount)||void 0===t?void 0:t.toLocaleString()]}),(0,i.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["\u20a6",(null===(s=e.totalRaised)||void 0===s?void 0:s.toLocaleString())||"0"]}),(0,i.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.expectedROI,"%"]}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N(e.status)}`,children:[f(e.status),(0,i.jsx)("span",{className:"ml-1",children:e.status.replace("_"," ")})]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)("button",{onClick:()=>y(e),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:(0,i.jsx)(n.Ny1,{})}),(0,i.jsx)("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit",children:(0,i.jsx)(n.uO9,{})}),"active"===e.status&&(0,i.jsx)("button",{onClick:()=>j(e.id,null),className:"text-green-600 hover:text-green-900",title:"Upload Property Deed",children:(0,i.jsx)(n.HVe,{})})]})})]},e.id)})})]})})]}),p&&(0,i.jsx)(d,{onClose:()=>g(!1),onSubmit:async e=>{(await x(e)).success&&g(!1)}}),h&&(0,i.jsx)(c,{investment:h,onClose:()=>y(null),onUploadDeed:j})]}):(0,i.jsx)("div",{className:"p-6",children:(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)(n.ymh,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Investment Company Access Required"}),(0,i.jsx)("p",{className:"text-gray-600",children:"You need investment company privileges to access this dashboard."})]})})}}}]);
//# sourceMappingURL=803.06f6292e.chunk.js.map