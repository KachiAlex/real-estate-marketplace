"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[595],{1595:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(5043),r=t(5475),l=t(5016),i=t(5369),n=t(3768),d=t(1876),c=t(579);const o=()=>{var e,s,t;const{user:o}=(0,l.As)(),[x,m]=(0,a.useState)([]),[h,g]=(0,a.useState)([]),[u,v]=(0,a.useState)({}),[j,p]=(0,a.useState)(!0),[b,y]=(0,a.useState)("portfolio"),N=(0,d.Ay)();(0,a.useEffect)(()=>{f()},[null===o||void 0===o?void 0:o.id]);const f=async()=>{try{p(!0),console.log("InvestorDashboard: Fetching data for user:",null===o||void 0===o?void 0:o.id),console.log("InvestorDashboard: API_BASE_URL:",N);const e=await fetch((0,d.Ay)("/investments")),s=await e.json();console.log("InvestorDashboard: Opportunities response:",s),s.success&&m(s.data);const t=await fetch((0,d.Ay)(`/user/investments?userId=${null===o||void 0===o?void 0:o.id}`)),a=await t.json();console.log("InvestorDashboard: User investments response:",a),a.success&&(g(a.data),v(a.summary))}catch(e){console.error("Error fetching investment data:",e)}finally{p(!1)}};return j?(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,c.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your investment portfolio..."})]})}):(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Landvest Investor Dashboard"}),(0,c.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",null===o||void 0===o?void 0:o.firstName,"! Manage your real estate investments"]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,c.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,c.jsx)(i.Tsk,{className:"w-6 h-6 text-blue-600"})})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Invested"}),(0,c.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(e=u.totalInvested)||void 0===e?void 0:e.toLocaleString())||"0"]})]})]})}),(0,c.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,c.jsx)(i.YYR,{className:"w-6 h-6 text-green-600"})})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Dividends"}),(0,c.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(s=u.totalDividendsEarned)||void 0===s?void 0:s.toLocaleString())||"0"]})]})]})}),(0,c.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,c.jsx)(i.gdQ,{className:"w-6 h-6 text-purple-600"})})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Return"}),(0,c.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(null===(t=u.totalReturn)||void 0===t?void 0:t.toFixed(2))||"0","%"]})]})]})}),(0,c.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,c.jsx)(i.ymh,{className:"w-6 h-6 text-yellow-600"})})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active Investments"}),(0,c.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:u.activeInvestments||"0"})]})]})})]}),(0,c.jsxs)("div",{className:"bg-white rounded-xl shadow-lg mb-8",children:[(0,c.jsx)("div",{className:"border-b border-gray-200",children:(0,c.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,c.jsx)("button",{onClick:()=>y("portfolio"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("portfolio"===b?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"My Portfolio"}),(0,c.jsx)("button",{onClick:()=>y("opportunities"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("opportunities"===b?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Investment Opportunities"}),(0,c.jsx)("button",{onClick:()=>y("dividends"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("dividends"===b?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Dividends"})]})}),(0,c.jsxs)("div",{className:"p-6",children:["portfolio"===b&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"My Investment Portfolio"}),h.length>0?(0,c.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,c.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[(0,c.jsxs)("div",{className:"flex justify-between items-start",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.investmentTitle}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:["Invested: $",e.amount.toLocaleString()]}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:["Shares: ",e.shares]})]}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsxs)("p",{className:"text-sm font-medium text-green-600",children:["+$",e.totalDividendsEarned.toLocaleString()," earned"]}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:["$",e.expectedMonthlyDividend.toFixed(0),"/month expected"]}),(0,c.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})]})]}),(0,c.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Investment Date"}),(0,c.jsx)("p",{className:"font-medium",children:new Date(e.investmentDate).toLocaleDateString()})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Last Dividend"}),(0,c.jsx)("p",{className:"font-medium",children:e.lastDividendDate?new Date(e.lastDividendDate).toLocaleDateString():"Not yet paid"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Total Return"}),(0,c.jsxs)("p",{className:"font-medium text-green-600",children:[e.totalReturn.toFixed(2),"%"]})]})]})})]},e.id))}):(0,c.jsxs)("div",{className:"text-center py-8",children:[(0,c.jsx)(i.ymh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No investments yet"}),(0,c.jsx)("p",{className:"text-gray-600 mb-4",children:"Start building your real estate portfolio today"}),(0,c.jsx)("button",{onClick:()=>y("opportunities"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Opportunities"})]})]}),"opportunities"===b&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Available Investment Opportunities"}),(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.map(e=>(0,c.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[(0,c.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:[e.type," \u2022 ",e.location.city]})]}),(0,c.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("fundraising"===e.status?"bg-blue-100 text-blue-800":"active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})]}),(0,c.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Total Amount"}),(0,c.jsxs)("p",{className:"font-medium",children:["$",e.totalAmount.toLocaleString()]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Minimum Investment"}),(0,c.jsxs)("p",{className:"font-medium",children:["$",e.minimumInvestment.toLocaleString()]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Expected Return"}),(0,c.jsxs)("p",{className:"font-medium text-green-600",children:[e.expectedReturn,"%"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Dividend Rate"}),(0,c.jsxs)("p",{className:"font-medium text-blue-600",children:[e.dividendRate,"%"]})]})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,c.jsx)("span",{children:"Progress"}),(0,c.jsxs)("span",{children:[Math.round(e.raisedAmount/e.totalAmount*100),"%"]})]}),(0,c.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,c.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:e.raisedAmount/e.totalAmount*100+"%"}})}),(0,c.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["$",e.raisedAmount.toLocaleString()," raised of $",e.totalAmount.toLocaleString()]})]}),(0,c.jsxs)("div",{className:"flex space-x-2",children:[(0,c.jsxs)("button",{onClick:()=>(async(e,s)=>{try{const t=await fetch((0,d.Ay)(`/investments/${e}/invest`),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:null===o||void 0===o?void 0:o.id,amount:parseInt(s)})}),a=await t.json();a.success?(n.Ay.success("Investment successful!"),f()):n.Ay.error(a.message||"Investment failed")}catch(t){console.error("Error making investment:",t),n.Ay.error("Investment failed")}})(e.id,e.minimumInvestment),disabled:"fundraising"!==e.status,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:["Invest $",e.minimumInvestment.toLocaleString()]}),(0,c.jsx)(r.N_,{to:`/investment/${e.id}`,className:"bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:(0,c.jsx)(i.Ny1,{className:"w-4 h-4"})})]})]},e.id))})]}),"dividends"===b&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dividend History"}),(0,c.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,c.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,c.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.investmentTitle}),(0,c.jsxs)("span",{className:"text-green-600 font-semibold",children:["+$",e.totalDividendsEarned.toLocaleString()," total"]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Monthly Expected"}),(0,c.jsxs)("p",{className:"font-medium",children:["$",e.expectedMonthlyDividend.toFixed(0)]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Last Payment"}),(0,c.jsx)("p",{className:"font-medium",children:e.lastDividendDate?new Date(e.lastDividendDate).toLocaleDateString():"Not yet paid"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Investment Amount"}),(0,c.jsxs)("p",{className:"font-medium",children:["$",e.amount.toLocaleString()]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Return Rate"}),(0,c.jsxs)("p",{className:"font-medium text-green-600",children:[e.totalReturn.toFixed(2),"%"]})]})]})]},e.id))})]})]})]})]})})}}}]);
//# sourceMappingURL=595.9eeef9c4.chunk.js.map