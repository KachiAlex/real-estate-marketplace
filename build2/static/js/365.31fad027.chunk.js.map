{"version":3,"file":"static/js/365.31fad027.chunk.js","mappings":"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","sources":["services/storageService.js","components/EnhancedFileUpload.js","components/PropertyImageUpload.js","components/PropertyVideoUpload.js","components/PropertyDocumentUpload.js","components/InvestmentDetailsModal.js","components/AgentPropertyListing.js","utils/googleMapsLoader.js","components/GoogleMapsAutocomplete.js","components/AddressMemory.js","hooks/useAutoSave.js","pages/AddProperty.js","components/MemoryInput.js"],"sourcesContent":["class StorageService {\r\n  async uploadFile(file, path, metadata = {}) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('uploadType', 'generic');\r\n      formData.append('metadata', JSON.stringify({ path, ...metadata }));\r\n\r\n      const response = await fetch('/api/upload', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok || !result?.success) {\r\n        throw new Error(result?.message || 'Upload failed');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        url: result.data?.url,\r\n        path: result.data?.publicId || path,\r\n        name: result.data?.originalName || file.name,\r\n        size: result.data?.size || file.size,\r\n        type: result.data?.format || file.type\r\n      };\r\n    } catch (error) {\r\n      console.error('Error uploading file:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Upload failed'\r\n      };\r\n    }\r\n  }\r\n\r\n  async uploadMultipleFiles(files, basePath, metadata = {}) {\r\n    try {\r\n      const formData = new FormData();\r\n      files.forEach((file) => formData.append('files', file));\r\n      formData.append('uploadType', 'multiple');\r\n      formData.append('metadata', JSON.stringify({ basePath, ...metadata }));\r\n\r\n      const response = await fetch('/api/upload/multiple', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok || !result?.success) {\r\n        throw new Error(result?.message || 'Upload failed');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        successful: result.data?.successful || [],\r\n        failed: result.data?.failed || [],\r\n        total: result.data?.total || files.length\r\n      };\r\n    } catch (error) {\r\n      console.error('Error uploading multiple files:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Upload failed'\r\n      };\r\n    }\r\n  }\r\n\r\n  async moveFile(oldPath, newPath) {\r\n    return {\r\n      success: true,\r\n      url: null,\r\n      path: newPath || oldPath,\r\n      name: (newPath || oldPath || '').split('/').pop()\r\n    };\r\n  }\r\n\r\n  async uploadPropertyImages(files, propertyId, userId) {\r\n    try {\r\n      const formData = new FormData();\r\n      files.forEach((file) => {\r\n        formData.append('files', file);\r\n      });\r\n      formData.append('uploadType', 'property_images');\r\n      formData.append('metadata', JSON.stringify({\r\n        propertyId,\r\n        userId\r\n      }));\r\n\r\n      const response = await fetch('/api/upload/multiple', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok || !result?.success) {\r\n        throw new Error(result?.message || 'Upload failed');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        successful: result.data?.successful || [],\r\n        failed: result.data?.failed || [],\r\n        total: result.data?.total || files.length\r\n      };\r\n    } catch (error) {\r\n      console.error('Error uploading property images:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Upload failed'\r\n      };\r\n    }\r\n  }\r\n\r\n  async uploadUserAvatar(file, userId) {\r\n    if (!userId) {\r\n      return { success: false, error: 'User ID is required' };\r\n    }\r\n\r\n    const timestamp = Date.now();\r\n    const fileExtension = file.name.split('.').pop();\r\n    const fileName = `avatar_${userId}_${timestamp}.${fileExtension}`;\r\n    const path = `users/${userId}/avatar/${fileName}`;\r\n\r\n    const validation = this.validateFile(file, ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'], 5 * 1024 * 1024);\r\n    if (!validation.valid) {\r\n      return {\r\n        success: false,\r\n        error: validation.errors.join(', ')\r\n      };\r\n    }\r\n\r\n    const result = await this.uploadFile(file, path, { userId });\r\n    if (result.success) {\r\n      const avatarInfo = {\r\n        userId,\r\n        avatarUrl: result.url,\r\n        uploadDate: new Date().toISOString(),\r\n        fileName: result.name\r\n      };\r\n      localStorage.setItem(`user_avatar_${userId}`, JSON.stringify(avatarInfo));\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  getFallbackAvatar(userId) {\r\n    const mockAvatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(userId)}&background=random&size=200`;\r\n\r\n    const avatarInfo = {\r\n      userId,\r\n      avatarUrl: mockAvatarUrl,\r\n      uploadDate: new Date().toISOString(),\r\n      fileName: 'fallback_avatar',\r\n      isFallback: true\r\n    };\r\n\r\n    localStorage.setItem(`user_avatar_${userId}`, JSON.stringify(avatarInfo));\r\n\r\n    return {\r\n      success: true,\r\n      url: mockAvatarUrl,\r\n      path: `users/${userId}/avatar/fallback_${Date.now()}`,\r\n      name: 'fallback_avatar',\r\n      size: 0,\r\n      type: 'image/png',\r\n      isFallback: true\r\n    };\r\n  }\r\n\r\n  async uploadEscrowDocument(file, escrowId, documentType, userId) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('uploadType', 'escrow_document');\r\n      formData.append('metadata', JSON.stringify({\r\n        escrowId,\r\n        documentType,\r\n        userId\r\n      }));\r\n\r\n      const response = await fetch('/api/upload', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok || !result?.success) {\r\n        throw new Error(result?.message || 'Upload failed');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        url: result.data?.url,\r\n        path: result.data?.publicId,\r\n        name: result.data?.originalName,\r\n        size: result.data?.size,\r\n        type: result.data?.format\r\n      };\r\n    } catch (error) {\r\n      console.error('Error uploading escrow document:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Upload failed'\r\n      };\r\n    }\r\n  }\r\n\r\n  async deleteFile() {\r\n    return { success: false, error: 'Delete is not supported in this build.' };\r\n  }\r\n\r\n  async getFileMetadata() {\r\n    return { success: false, error: 'Metadata lookup is not supported in this build.' };\r\n  }\r\n\r\n  async listFiles() {\r\n    return { success: false, error: 'Listing files is not supported in this build.' };\r\n  }\r\n\r\n  async getPropertyImages() {\r\n    return { success: false, error: 'Listing images is not supported in this build.' };\r\n  }\r\n\r\n  async getEscrowDocuments() {\r\n    return { success: false, error: 'Listing documents is not supported in this build.' };\r\n  }\r\n\r\n  validateFile(file, allowedTypes = [], maxSize = 5 * 1024 * 1024) {\r\n    const errors = [];\r\n\r\n    if (allowedTypes.length > 0 && !allowedTypes.includes(file.type)) {\r\n      errors.push(`File type ${file.type} is not allowed. Allowed types: ${allowedTypes.join(', ')}`);\r\n    }\r\n\r\n    if (file.size > maxSize) {\r\n      errors.push(`File size ${(file.size / 1024 / 1024).toFixed(2)}MB exceeds maximum allowed size of ${(maxSize / 1024 / 1024).toFixed(2)}MB`);\r\n    }\r\n\r\n    return {\r\n      valid: errors.length === 0,\r\n      errors\r\n    };\r\n  }\r\n\r\n  formatFileSize(bytes) {\r\n    if (bytes === 0) return '0 Bytes';\r\n\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  }\r\n}\r\n\r\nconst storageService = new StorageService();\r\nexport default storageService;\r\n","import React, { useState, useCallback } from 'react';\nimport { FaUpload, FaTimes, FaEye, FaPlay, FaFile, FaCheck, FaExclamationTriangle } from 'react-icons/fa';\nimport storageService from '../services/storageService';\nimport { useAuth } from '../contexts/AuthContext';\nimport toast from 'react-hot-toast';\n\nconst EnhancedFileUpload = ({ \n  propertyId, \n  onFilesChange, \n  initialFiles = [], \n  maxFiles = 10,\n  maxSize = 10 * 1024 * 1024, // 10MB default\n  allowedTypes = [],\n  type = 'image', // 'image', 'video', 'document'\n  disabled = false,\n  className = ''\n}) => {\n  const [files, setFiles] = useState(initialFiles);\n  const [uploadingFiles, setUploadingFiles] = useState(new Map());\n  const [dragActive, setDragActive] = useState(false);\n  const [previewIndex, setPreviewIndex] = useState(null);\n  const { user } = useAuth();\n\n  const getTypeConfig = () => {\n    const configs = {\n      image: {\n        icon: FaUpload,\n        accept: 'image/jpeg,image/png,image/webp,image/gif',\n        allowedTypes: ['image/jpeg', 'image/png', 'image/webp', 'image/gif'],\n        maxSize: 10 * 1024 * 1024, // 10MB\n        placeholder: 'Click to upload or drag and drop images',\n        subtext: 'PNG, JPG, WEBP, GIF up to 10MB each'\n      },\n      video: {\n        icon: FaPlay,\n        accept: 'video/mp4,video/webm,video/ogg,video/quicktime',\n        allowedTypes: ['video/mp4', 'video/webm', 'video/ogg', 'video/quicktime'],\n        maxSize: 100 * 1024 * 1024, // 100MB\n        placeholder: 'Click to upload or drag and drop videos',\n        subtext: 'MP4, WEBM, OGG, MOV up to 100MB each'\n      },\n      document: {\n        icon: FaFile,\n        accept: '.pdf,.doc,.docx,.txt,.rtf,.odt',\n        allowedTypes: ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain', 'application/rtf', 'application/vnd.oasis.opendocument.text'],\n        maxSize: 25 * 1024 * 1024, // 25MB\n        placeholder: 'Click to upload or drag and drop documents',\n        subtext: 'PDF, DOC, DOCX, TXT, RTF up to 25MB each'\n      }\n    };\n    return configs[type] || configs.image;\n  };\n\n  const config = getTypeConfig();\n  const finalAllowedTypes = allowedTypes.length > 0 ? allowedTypes : config.allowedTypes;\n  const finalMaxSize = maxSize || config.maxSize;\n\n  const handleUpload = useCallback(async (fileList) => {\n    if (!user || disabled) return;\n\n    const fileArray = Array.from(fileList);\n\n    // Check if adding these files would exceed maxFiles limit\n    if (files.length + fileArray.length > maxFiles) {\n      toast.error(`Maximum ${maxFiles} ${type}s allowed`);\n      return;\n    }\n\n    // Validate files\n    const validFiles = [];\n    const invalidFiles = [];\n\n    fileArray.forEach(file => {\n      const validation = storageService.validateFile(file, finalAllowedTypes, finalMaxSize);\n      \n      if (validation.valid) {\n        validFiles.push(file);\n      } else {\n        invalidFiles.push({ file, errors: validation.errors });\n      }\n    });\n\n    // Show validation errors\n    if (invalidFiles.length > 0) {\n      invalidFiles.forEach(({ file, errors }) => {\n        errors.forEach(error => {\n          toast.error(`${file.name}: ${error}`);\n        });\n      });\n    }\n\n    if (validFiles.length === 0) return;\n\n    // Upload files with progress tracking\n    for (const file of validFiles) {\n      const fileId = `${Date.now()}_${Math.random()}`;\n      \n      // Add to uploading state\n      setUploadingFiles(prev => new Map(prev).set(fileId, {\n        file,\n        progress: 0,\n        status: 'uploading'\n      }));\n\n      try {\n        const uploadResult = await uploadFileWithProgress(file, propertyId || 'temp', user.uid, fileId);\n        \n        if (uploadResult.success) {\n          const newFile = {\n            id: Date.now() + Math.random(),\n            url: uploadResult.url,\n            name: uploadResult.name,\n            size: uploadResult.size,\n            path: uploadResult.path,\n            type: uploadResult.type,\n            // Treat Firebase uploads as \"uploaded\" and local fallbacks as non-uploaded\n            isUploaded: !uploadResult.isLocal\n          };\n\n          setFiles(prev => [...prev, newFile]);\n          onFilesChange && onFilesChange([...files, newFile]);\n          \n          // Update progress to complete\n          setUploadingFiles(prev => {\n            const newMap = new Map(prev);\n            newMap.set(fileId, { ...newMap.get(fileId), progress: 100, status: 'completed' });\n            return newMap;\n          });\n\n          // Remove from uploading state after a delay\n          setTimeout(() => {\n            setUploadingFiles(prev => {\n              const newMap = new Map(prev);\n              newMap.delete(fileId);\n              return newMap;\n            });\n          }, 2000);\n\n          toast.success(`${file.name} uploaded successfully!`);\n        } else {\n          throw new Error(uploadResult.error || 'Upload failed');\n        }\n      } catch (error) {\n        console.error('File upload error:', error);\n        \n        // Update progress to error\n        setUploadingFiles(prev => {\n          const newMap = new Map(prev);\n          newMap.set(fileId, { ...newMap.get(fileId), status: 'error' });\n          return newMap;\n        });\n\n        toast.error(`Failed to upload ${file.name}`);\n        \n        // Remove from uploading state after a delay\n        setTimeout(() => {\n          setUploadingFiles(prev => {\n            const newMap = new Map(prev);\n            newMap.delete(fileId);\n            return newMap;\n          });\n        }, 3000);\n      }\n    }\n  }, [user, disabled, files, maxFiles, type, finalAllowedTypes, finalMaxSize, propertyId, onFilesChange]);\n\n  const uploadFileWithProgress = async (file, propertyId, userId, fileId) => {\n    try {\n      // Use storageService to upload the file\n      const result = await storageService.uploadFile(file, userId);\n      \n      if (result.success) {\n        // Simulate progress updates for UX\n        setUploadingFiles(prev => {\n          const newMap = new Map(prev);\n          newMap.set(fileId, { ...newMap.get(fileId), progress: 100 });\n          return newMap;\n        });\n\n        return {\n          success: true,\n          url: result.url || result.path,\n          path: result.path,\n          name: file.name,\n          size: file.size,\n          type: file.type,\n          isLocal: false\n        };\n      } else {\n        // Fallback to local object URL\n        const localUrl = URL.createObjectURL(file);\n        console.warn(`Falling back to local ${type} storage for:`, file.name);\n        \n        return {\n          success: true,\n          url: localUrl,\n          path: `local-files/${fileId}`,\n          name: file.name,\n          size: file.size,\n          type: file.type,\n          isLocal: true\n        };\n      }\n    } catch (error) {\n      console.error('Error uploading file:', error);\n\n      // Fallback for images, documents, and videos: use a local object URL so the flow still works in demo mode\n      if (type === 'image' || type === 'document' || type === 'video') {\n        const localUrl = URL.createObjectURL(file);\n        console.warn(`Falling back to local ${type} storage for:`, file.name);\n        let folder = 'local-files';\n        if (type === 'document') folder = 'local-documents';\n        if (type === 'video') folder = 'local-videos';\n        if (type === 'image') folder = 'local-images';\n        return {\n          success: true,\n          url: localUrl,\n          path: `${folder}/${fileId}`,\n          name: file.name,\n          size: file.size,\n          type: file.type,\n          isLocal: true\n        };\n      }\n\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  };\n\n  const handleRemoveFile = async (index) => {\n    if (disabled) return;\n\n    const fileToRemove = files[index];\n    \n    // If it's an uploaded file, delete from storage\n    if (fileToRemove.isUploaded && fileToRemove.path) {\n      try {\n        await storageService.deleteFile(fileToRemove.path);\n      } catch (error) {\n        console.error('Error deleting file from storage:', error);\n        // Continue with removal from UI even if storage deletion fails\n      }\n    }\n\n    const updatedFiles = files.filter((_, i) => i !== index);\n    setFiles(updatedFiles);\n    onFilesChange && onFilesChange(updatedFiles);\n    toast.success('File removed successfully');\n  };\n\n  const handleFileSelect = (e) => {\n    const fileList = e.target.files;\n    if (fileList.length > 0) {\n      handleUpload(fileList);\n    }\n    // Reset input value\n    e.target.value = '';\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    setDragActive(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    setDragActive(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setDragActive(false);\n    const fileList = e.dataTransfer.files;\n    if (fileList.length > 0) {\n      handleUpload(fileList);\n    }\n  };\n\n  const renderPreview = (file, index) => {\n    if (type === 'image') {\n      return (\n        <div className=\"aspect-square bg-gray-100 rounded-lg overflow-hidden\">\n          <img\n            src={file.url}\n            alt={`${type} ${index + 1}`}\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n      );\n    } else if (type === 'video') {\n      return (\n        <div className=\"aspect-video bg-gray-100 rounded-lg overflow-hidden relative\">\n          <video\n            src={file.url}\n            className=\"w-full h-full object-cover\"\n            controls={false}\n          />\n          <div className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30\">\n            <FaPlay className=\"text-white text-2xl\" />\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"aspect-square bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center\">\n          <FaFile className=\"text-gray-400 text-3xl\" />\n        </div>\n      );\n    }\n  };\n\n  const renderUploadingFiles = () => {\n    const uploadingArray = Array.from(uploadingFiles.values());\n    if (uploadingArray.length === 0) return null;\n\n    return (\n      <div className=\"mt-4\">\n        <h4 className=\"text-sm font-medium text-gray-700 mb-3\">\n          Uploading ({uploadingArray.length})\n        </h4>\n        <div className=\"space-y-3\">\n          {uploadingArray.map((uploadingFile, index) => (\n            <div key={`uploading_${index}`} className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg\">\n              <div className=\"flex-shrink-0\">\n                {uploadingFile.status === 'completed' ? (\n                  <FaCheck className=\"text-green-500\" />\n                ) : uploadingFile.status === 'error' ? (\n                  <FaExclamationTriangle className=\"text-red-500\" />\n                ) : (\n                  <config.icon className=\"text-blue-500\" />\n                )}\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-900 truncate\">\n                  {uploadingFile.file.name}\n                </p>\n                <div className=\"w-full bg-gray-200 rounded-full h-2 mt-1\">\n                  <div \n                    className={`h-2 rounded-full transition-all duration-300 ${\n                      uploadingFile.status === 'completed' ? 'bg-green-500' :\n                      uploadingFile.status === 'error' ? 'bg-red-500' : 'bg-blue-500'\n                    }`}\n                    style={{ width: `${uploadingFile.progress}%` }}\n                  />\n                </div>\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  {uploadingFile.status === 'completed' ? 'Upload complete' :\n                   uploadingFile.status === 'error' ? 'Upload failed' :\n                   `${Math.round(uploadingFile.progress)}% uploaded`}\n                </p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  const renderPreviewModal = () => {\n    if (previewIndex === null) return null;\n\n    const file = files[previewIndex];\n    if (!file) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n        <div className=\"relative max-w-4xl max-h-full\">\n          <button\n            onClick={() => setPreviewIndex(null)}\n            className=\"absolute top-4 right-4 p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-all z-10\"\n          >\n            <FaTimes className=\"text-gray-700\" />\n          </button>\n          \n          {type === 'image' ? (\n            <img\n              src={file.url}\n              alt={`${type} ${previewIndex + 1}`}\n              className=\"max-w-full max-h-full object-contain rounded-lg\"\n            />\n          ) : type === 'video' ? (\n            <video\n              src={file.url}\n              controls\n              className=\"max-w-full max-h-full rounded-lg\"\n            />\n          ) : (\n            <div className=\"bg-white rounded-lg p-8 max-w-md\">\n              <FaFile className=\"text-gray-400 text-6xl mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 text-center\">{file.name}</h3>\n              <p className=\"text-sm text-gray-500 text-center mt-2\">\n                {storageService.formatFileSize(file.size)}\n              </p>\n              <a\n                href={file.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"block mt-4 text-center text-blue-600 hover:text-blue-800\"\n              >\n                Download File\n              </a>\n            </div>\n          )}\n          \n          <div className=\"absolute bottom-4 left-4 right-4 bg-black bg-opacity-50 text-white p-3 rounded-lg\">\n            <p className=\"text-sm\">\n              {file.name} ({storageService.formatFileSize(file.size)})\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className={`enhanced-file-upload ${className}`}>\n      {/* Upload Area */}\n      <div\n        className={`\n          border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200\n          ${disabled ? 'border-gray-200 bg-gray-50 cursor-not-allowed' : \n            dragActive ? 'border-brand-blue bg-blue-50' : 'border-gray-300 hover:border-brand-blue cursor-pointer'}\n        `}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n        onClick={() => !disabled && document.getElementById(`${type}-upload`).click()}\n      >\n        <input\n          id={`${type}-upload`}\n          type=\"file\"\n          multiple\n          accept={config.accept}\n          onChange={handleFileSelect}\n          className=\"hidden\"\n          disabled={disabled}\n        />\n\n        <div className=\"space-y-2\">\n          <config.icon className={`mx-auto text-3xl ${disabled ? 'text-gray-300' : 'text-gray-400'}`} />\n          \n          <div className=\"space-y-1\">\n            <p className=\"text-sm font-medium text-gray-700\">\n              {disabled ? `${type} upload disabled` : config.placeholder}\n            </p>\n            <p className=\"text-xs text-gray-500\">\n              {config.subtext}\n            </p>\n            <p className=\"text-xs text-gray-500\">\n              {files.length}/{maxFiles} {type}s uploaded\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Uploading Files */}\n      {renderUploadingFiles()}\n\n      {/* Files Grid */}\n      {files.length > 0 && (\n        <div className=\"mt-6\">\n          <h4 className=\"text-sm font-medium text-gray-700 mb-3\">\n            {type.charAt(0).toUpperCase() + type.slice(1)}s ({files.length})\n          </h4>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n            {files.map((file, index) => (\n              <div key={file.id || index} className=\"relative group\">\n                {renderPreview(file, index)}\n                \n                {/* Overlay */}\n                <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 rounded-lg flex items-center justify-center\">\n                  <div className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex space-x-2\">\n                    <button\n                      onClick={() => setPreviewIndex(index)}\n                      className=\"p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-all\"\n                      title=\"Preview\"\n                    >\n                      <FaEye className=\"text-gray-700 text-sm\" />\n                    </button>\n                    \n                    {!disabled && (\n                      <button\n                        onClick={() => handleRemoveFile(index)}\n                        className=\"p-2 bg-red-500 bg-opacity-90 rounded-full hover:bg-opacity-100 transition-all\"\n                        title=\"Remove\"\n                      >\n                        <FaTimes className=\"text-white text-sm\" />\n                      </button>\n                    )}\n                  </div>\n                </div>\n\n                {/* File Info */}\n                <div className=\"mt-1\">\n                  <p className=\"text-xs text-gray-500 truncate\">\n                    {file.name}\n                  </p>\n                  <p className=\"text-xs text-gray-400\">\n                    {storageService.formatFileSize(file.size)}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Preview Modal */}\n      {renderPreviewModal()}\n    </div>\n  );\n};\n\nexport default EnhancedFileUpload;\n","import React, { useState } from 'react';\nimport { FaPlus } from 'react-icons/fa';\nimport EnhancedFileUpload from './EnhancedFileUpload';\nimport toast from 'react-hot-toast';\n\nconst PropertyImageUpload = ({ \n  propertyId, \n  onImagesChange, \n  initialImages = [], \n  maxImages = 10,\n  disabled = false,\n  className = ''\n}) => {\n  const [imageUrl, setImageUrl] = useState('');\n\n  const handleAddImageUrl = () => {\n    if (disabled || !imageUrl.trim()) return;\n    \n    const url = imageUrl.trim();\n    \n    try {\n      // Basic validation\n      const isHttp = url.startsWith('http://') || url.startsWith('https://');\n      if (!isHttp) {\n        toast.error('Please enter a valid http(s) URL');\n        return;\n      }\n      \n      // Create a new image object for URL\n      const newImage = {\n        id: Date.now() + Math.random(),\n        url,\n        name: url,\n        size: 0,\n        path: null,\n        isUploaded: false\n      };\n      \n      // Get current images and add the new one\n      const currentImages = initialImages || [];\n      if (currentImages.length >= maxImages) {\n        toast.error(`Maximum ${maxImages} images allowed`);\n        return;\n      }\n      \n      const updatedImages = [...currentImages, newImage];\n      onImagesChange && onImagesChange(updatedImages);\n      setImageUrl('');\n      toast.success('Image URL added');\n    } catch (e) {\n      toast.error('Failed to add image URL');\n    }\n  };\n\n  return (\n    <div className={`property-image-upload ${className}`}>\n      <EnhancedFileUpload\n        propertyId={propertyId}\n        onFilesChange={onImagesChange}\n        initialFiles={initialImages}\n        maxFiles={maxImages}\n        maxSize={10 * 1024 * 1024} // 10MB\n        allowedTypes={['image/jpeg', 'image/png', 'image/webp', 'image/gif']}\n        type=\"image\"\n        disabled={disabled}\n      />\n\n      {/* URL Upload Section */}\n      {!disabled && (\n        <div className=\"mt-4\">\n          <div className=\"flex gap-3\">\n          <input\n            type=\"url\"\n            value={imageUrl}\n            onChange={(e) => setImageUrl(e.target.value)}\n            placeholder=\"Paste image URL (https://...)\"\n              className=\"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              onKeyPress={(e) => e.key === 'Enter' && handleAddImageUrl()}\n          />\n          <button\n            type=\"button\"\n            onClick={handleAddImageUrl}\n              className=\"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n              disabled={!imageUrl.trim()}\n          >\n              <FaPlus className=\"text-sm\" />\n            Add URL\n          </button>\n        </div>\n          <p className=\"text-xs text-gray-500 mt-2\">\n            You can add images by uploading files or pasting image URLs\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PropertyImageUpload;\n","import React from 'react';\nimport EnhancedFileUpload from './EnhancedFileUpload';\n\nconst PropertyVideoUpload = ({ \n  propertyId, \n  onVideosChange, \n  initialVideos = [], \n  maxVideos = 5,\n  disabled = false,\n  className = ''\n}) => {\n  return (\n    <EnhancedFileUpload\n      propertyId={propertyId}\n      onFilesChange={onVideosChange}\n      initialFiles={initialVideos}\n      maxFiles={maxVideos}\n      maxSize={100 * 1024 * 1024} // 100MB\n      allowedTypes={['video/mp4', 'video/webm', 'video/ogg', 'video/quicktime']}\n      type=\"video\"\n      disabled={disabled}\n      className={className}\n    />\n  );\n};\n\nexport default PropertyVideoUpload;\n","import React from 'react';\nimport EnhancedFileUpload from './EnhancedFileUpload';\n\nconst PropertyDocumentUpload = ({ \n  propertyId, \n  onDocumentsChange, \n  initialDocuments = [], \n  maxDocuments = 10,\n  disabled = false,\n  className = ''\n}) => {\n  return (\n    <EnhancedFileUpload\n      propertyId={propertyId}\n      onFilesChange={onDocumentsChange}\n      initialFiles={initialDocuments}\n      maxFiles={maxDocuments}\n      maxSize={25 * 1024 * 1024} // 25MB\n      allowedTypes={[\n        'application/pdf',\n        'application/msword',\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        'text/plain',\n        'application/rtf',\n        'application/vnd.oasis.opendocument.text'\n      ]}\n      type=\"document\"\n      disabled={disabled}\n      className={className}\n    />\n  );\n};\n\nexport default PropertyDocumentUpload;\n","import React, { useState } from 'react';\nimport { FaTimes, FaFileAlt, FaUpload, FaPercent, FaCalendarAlt, FaDollarSign } from 'react-icons/fa';\n\nconst InvestmentDetailsModal = ({ isOpen, onClose, onSubmit }) => {\n  const [form, setForm] = useState({\n    title: '',\n    roiPercent: '',\n    durationUnit: 'monthly', // monthly | annually\n    durationValue: '',\n    minAmount: '',\n    payoutSchedule: 'monthly',\n    riskLevel: 'medium', // low | medium | high\n    redemptionTerms: '',\n    startDate: '',\n    maturityDate: '',\n    summary: ''\n  });\n  const [documents, setDocuments] = useState([]);\n  const [errors, setErrors] = useState({});\n\n  if (!isOpen) return null;\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm(prev => ({ ...prev, [name]: value }));\n    if (errors[name]) setErrors(prev => ({ ...prev, [name]: '' }));\n  };\n\n  const handleDocsChange = (e) => {\n    const files = Array.from(e.target.files);\n    const processed = files.map((file, index) => ({\n      url: URL.createObjectURL(file),\n      name: file.name,\n      size: file.size,\n      type: file.type,\n    }));\n    setDocuments(prev => [...prev, ...processed]);\n  };\n\n  const removeDoc = (idx) => {\n    setDocuments(prev => prev.filter((_, i) => i !== idx));\n  };\n\n  const validate = () => {\n    const v = {};\n    if (!form.title) v.title = 'Investment title is required';\n    if (!form.roiPercent) v.roiPercent = 'ROI is required';\n    if (!form.durationValue) v.durationValue = 'Duration is required';\n    if (!form.minAmount) v.minAmount = 'Minimum amount is required';\n    if (!form.summary) v.summary = 'Summary is required';\n    return v;\n  };\n\n  const submit = () => {\n    const v = validate();\n    if (Object.keys(v).length) {\n      setErrors(v);\n      return;\n    }\n    onSubmit({ investment: {\n      title: form.title,\n      roiPercent: Number(form.roiPercent),\n      durationUnit: form.durationUnit,\n      durationValue: Number(form.durationValue),\n      minAmount: Number(form.minAmount),\n      payoutSchedule: form.payoutSchedule,\n      riskLevel: form.riskLevel,\n      redemptionTerms: form.redemptionTerms,\n      startDate: form.startDate || null,\n      maturityDate: form.maturityDate || null,\n      summary: form.summary\n    }, investmentDocuments: documents });\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col relative\">\n        {/* Fixed Header */}\n        <div className=\"p-6 pb-4 border-b border-gray-100 flex-shrink-0\">\n          <button onClick={onClose} className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-700\">\n            <FaTimes />\n          </button>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-1\">Investment Details</h2>\n          <p className=\"text-sm text-gray-600\">Provide investment information for this collateralized property.</p>\n        </div>\n        \n        {/* Scrollable Content */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Investment Title</label>\n            <input name=\"title\" value={form.title} onChange={handleChange} className={`w-full px-4 py-3 border-2 rounded-xl ${errors.title ? 'border-red-300' : 'border-gray-200'}`} placeholder=\"e.g., Greenwood Estate Fixed Income\" />\n            {errors.title && <p className=\"text-sm text-red-600 mt-1\">{errors.title}</p>}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">ROI (%)</label>\n            <div className=\"relative\">\n              <input type=\"number\" name=\"roiPercent\" value={form.roiPercent} onChange={handleChange} className={`w-full pl-10 pr-4 py-3 border-2 rounded-xl ${errors.roiPercent ? 'border-red-300' : 'border-gray-200'}`} placeholder=\"12\" />\n              <FaPercent className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n            </div>\n            {errors.roiPercent && <p className=\"text-sm text-red-600 mt-1\">{errors.roiPercent}</p>}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Duration</label>\n            <div className=\"flex gap-2\">\n              <input type=\"number\" name=\"durationValue\" value={form.durationValue} onChange={handleChange} className={`flex-1 px-4 py-3 border-2 rounded-xl ${errors.durationValue ? 'border-red-300' : 'border-gray-200'}`} placeholder=\"12\" />\n              <select name=\"durationUnit\" value={form.durationUnit} onChange={handleChange} className=\"px-4 py-3 border-2 border-gray-200 rounded-xl min-w-[120px]\">\n                <option value=\"monthly\">Monthly</option>\n                <option value=\"annually\">Annually</option>\n              </select>\n            </div>\n            {errors.durationValue && <p className=\"text-sm text-red-600 mt-1\">{errors.durationValue}</p>}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Minimum Amount</label>\n            <div className=\"relative\">\n              <input type=\"number\" name=\"minAmount\" value={form.minAmount} onChange={handleChange} className={`w-full pl-10 pr-4 py-3 border-2 rounded-xl ${errors.minAmount ? 'border-red-300' : 'border-gray-200'}`} placeholder=\"500000\" />\n              <FaDollarSign className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n            </div>\n            {errors.minAmount && <p className=\"text-sm text-red-600 mt-1\">{errors.minAmount}</p>}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Payout Schedule</label>\n            <select name=\"payoutSchedule\" value={form.payoutSchedule} onChange={handleChange} className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-xl\">\n              <option value=\"monthly\">Monthly</option>\n              <option value=\"quarterly\">Quarterly</option>\n              <option value=\"annually\">Annually</option>\n              <option value=\"end-of-term\">End of Term</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Risk Level</label>\n            <select name=\"riskLevel\" value={form.riskLevel} onChange={handleChange} className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-xl\">\n              <option value=\"low\">Low</option>\n              <option value=\"medium\">Medium</option>\n              <option value=\"high\">High</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Start Date (optional)</label>\n            <div className=\"relative\">\n              <input type=\"date\" name=\"startDate\" value={form.startDate} onChange={handleChange} className=\"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl\" />\n              <FaCalendarAlt className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Maturity Date (optional)</label>\n            <div className=\"relative\">\n              <input type=\"date\" name=\"maturityDate\" value={form.maturityDate} onChange={handleChange} className=\"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl\" />\n              <FaCalendarAlt className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-4\">\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Investment Summary</label>\n          <textarea name=\"summary\" value={form.summary} onChange={handleChange} rows={4} className={`w-full px-4 py-3 border-2 rounded-xl ${errors.summary ? 'border-red-300' : 'border-gray-200'}`} placeholder=\"Briefly explain the investment, collateral structure, and terms.\" />\n          {errors.summary && <p className=\"text-sm text-red-600 mt-1\">{errors.summary}</p>}\n        </div>\n\n        <div className=\"mt-6\">\n          <h4 className=\"text-lg font-semibold text-gray-800 mb-3 flex items-center\"><FaFileAlt className=\"mr-2 text-green-600\" /> Investment Documents</h4>\n          <div className=\"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors\">\n            <input type=\"file\" multiple accept=\".pdf,.doc,.docx\" id=\"investment-docs\" className=\"hidden\" onChange={handleDocsChange} />\n            <label htmlFor=\"investment-docs\" className=\"cursor-pointer\">\n              <FaUpload className=\"mx-auto text-3xl text-gray-400 mb-2\" />\n              <p className=\"text-sm text-gray-600\">Click to upload investment documents</p>\n            </label>\n          </div>\n          {documents.length > 0 && (\n            <div className=\"mt-3 space-y-2\">\n              {documents.map((doc, idx) => (\n                <div key={idx} className=\"flex items-center justify-between p-2 bg-gray-50 rounded-lg\">\n                  <span className=\"text-sm text-gray-700 truncate\">{doc.name}</span>\n                  <button type=\"button\" onClick={() => removeDoc(idx)} className=\"text-red-500 hover:text-red-700\">\n                    <FaTimes />\n                  </button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n        </div>\n        \n        {/* Fixed Footer */}\n        <div className=\"p-6 pt-4 border-t border-gray-100 flex justify-end gap-3 flex-shrink-0\">\n          <button onClick={onClose} className=\"px-6 py-3 border-2 border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors\">Cancel</button>\n          <button onClick={submit} className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all\">Save & Publish</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InvestmentDetailsModal;\n\n\n","import React, { useState } from 'react';\nimport { FaFileUpload, FaCheck, FaExclamationTriangle, FaUser, FaBuilding } from 'react-icons/fa';\n\nconst AgentPropertyListing = ({ \n  isAgent, \n  isPropertyOwner, \n  isListingAsAgent, \n  setIsListingAsAgent, \n  attestationLetter, \n  setAttestationLetter,\n  documentStatus,\n  onAttestationUpload,\n  errors \n}) => {\n  const [dragActive, setDragActive] = useState(false);\n\n  const handleFileUpload = (file) => {\n    if (file && file.type === 'application/pdf') {\n      setAttestationLetter(file);\n      onAttestationUpload(file);\n    } else {\n      alert('Please upload a PDF file for the attestation letter.');\n    }\n  };\n\n  const handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFileUpload(e.dataTransfer.files[0]);\n    }\n  };\n\n  const handleFileInput = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      handleFileUpload(e.target.files[0]);\n    }\n  };\n\n  const getDocumentStatusIcon = () => {\n    if (!documentStatus?.hasAttestationLetter) {\n      return <FaExclamationTriangle className=\"text-red-500\" />;\n    }\n    switch (documentStatus.attestationStatus) {\n      case 'verified':\n        return <FaCheck className=\"text-green-500\" />;\n      case 'pending':\n        return <FaExclamationTriangle className=\"text-yellow-500\" />;\n      case 'rejected':\n        return <FaExclamationTriangle className=\"text-red-500\" />;\n      default:\n        return <FaExclamationTriangle className=\"text-gray-500\" />;\n    }\n  };\n\n  const getDocumentStatusText = () => {\n    if (!documentStatus?.hasAttestationLetter) {\n      return 'No attestation letter uploaded';\n    }\n    switch (documentStatus.attestationStatus) {\n      case 'verified':\n        return 'Attestation letter verified';\n      case 'pending':\n        return 'Attestation letter pending review';\n      case 'rejected':\n        return 'Attestation letter rejected - please upload a new one';\n      default:\n        return 'Attestation letter status unknown';\n    }\n  };\n\n  const getDocumentStatusColor = () => {\n    if (!documentStatus?.hasAttestationLetter) {\n      return 'text-red-600 bg-red-50 border-red-200';\n    }\n    switch (documentStatus.attestationStatus) {\n      case 'verified':\n        return 'text-green-600 bg-green-50 border-green-200';\n      case 'pending':\n        return 'text-yellow-600 bg-yellow-50 border-yellow-200';\n      case 'rejected':\n        return 'text-red-600 bg-red-50 border-red-200';\n      default:\n        return 'text-gray-600 bg-gray-50 border-gray-200';\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n        <FaUser className=\"mr-2\" />\n        Property Listing Type\n      </h3>\n\n      {/* Role Selection */}\n      <div className=\"space-y-4 mb-6\">\n        <div className=\"flex items-center space-x-4\">\n          <label className=\"flex items-center\">\n            <input\n              type=\"radio\"\n              name=\"listingType\"\n              value=\"owner\"\n              checked={!isListingAsAgent}\n              onChange={() => setIsListingAsAgent(false)}\n              className=\"mr-2\"\n            />\n            <div className=\"flex items-center\">\n              <FaBuilding className=\"mr-2 text-blue-500\" />\n              <span className=\"font-medium\">I am the property owner</span>\n            </div>\n          </label>\n        </div>\n\n        <div className=\"flex items-center space-x-4\">\n          <label className=\"flex items-center\">\n            <input\n              type=\"radio\"\n              name=\"listingType\"\n              value=\"agent\"\n              checked={isListingAsAgent}\n              onChange={() => setIsListingAsAgent(true)}\n              className=\"mr-2\"\n            />\n            <div className=\"flex items-center\">\n              <FaUser className=\"mr-2 text-orange-500\" />\n              <span className=\"font-medium\">I am an agent listing for a client</span>\n            </div>\n          </label>\n        </div>\n      </div>\n\n      {/* Agent-specific requirements */}\n      {isListingAsAgent && (\n        <div className=\"border-t pt-6\">\n          <div className=\"mb-4\">\n            <h4 className=\"text-md font-semibold text-gray-900 mb-2\">\n              Agent Requirements\n            </h4>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              As an agent, you must upload a letter of attestation from the property owner \n              authorizing you to list this property. This document will be verified by our \n              admin team before the property is published.\n            </p>\n          </div>\n\n          {/* Document Status */}\n          <div className={`p-4 rounded-lg border ${getDocumentStatusColor()} mb-4`}>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center\">\n                {getDocumentStatusIcon()}\n                <span className=\"ml-2 font-medium\">{getDocumentStatusText()}</span>\n              </div>\n              {documentStatus?.attestationStatus === 'verified' && (\n                <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full\">\n                  Ready to list\n                </span>\n              )}\n            </div>\n          </div>\n\n          {/* File Upload Area */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              dragActive \n                ? 'border-blue-400 bg-blue-50' \n                : 'border-gray-300 hover:border-gray-400'\n            }`}\n            onDragEnter={handleDrag}\n            onDragLeave={handleDrag}\n            onDragOver={handleDrag}\n            onDrop={handleDrop}\n          >\n            <FaFileUpload className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\n            <div className=\"text-sm text-gray-600 mb-2\">\n              <span className=\"font-medium\">Upload Attestation Letter</span>\n            </div>\n            <p className=\"text-xs text-gray-500 mb-4\">\n              Drag and drop your PDF file here, or click to browse\n            </p>\n            <input\n              type=\"file\"\n              accept=\".pdf\"\n              onChange={handleFileInput}\n              className=\"hidden\"\n              id=\"attestation-upload\"\n            />\n            <label\n              htmlFor=\"attestation-upload\"\n              className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer\"\n            >\n              Choose File\n            </label>\n            {attestationLetter && (\n              <div className=\"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <FaCheck className=\"text-green-500 mr-2\" />\n                  <span className=\"text-sm text-green-700\">\n                    {attestationLetter.name}\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {errors.attestationLetter && (\n            <p className=\"mt-2 text-sm text-red-600\">{errors.attestationLetter}</p>\n          )}\n\n          {/* Important Notice */}\n          <div className=\"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n            <div className=\"flex\">\n              <FaExclamationTriangle className=\"text-yellow-500 mr-2 mt-0.5\" />\n              <div className=\"text-sm text-yellow-800\">\n                <p className=\"font-medium\">Important Notice:</p>\n                <p className=\"mt-1\">\n                  Properties listed by agents without verified attestation letters will not be \n                  published until the document is reviewed and approved by our admin team. \n                  This process typically takes 1-2 business days.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Property Owner Notice */}\n      {!isListingAsAgent && (\n        <div className=\"border-t pt-6\">\n          <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n            <div className=\"flex\">\n              <FaBuilding className=\"text-blue-500 mr-2 mt-0.5\" />\n              <div className=\"text-sm text-blue-800\">\n                <p className=\"font-medium\">Property Owner Listing:</p>\n                <p className=\"mt-1\">\n                  As the property owner, you can list your property immediately without \n                  additional documentation requirements. Your property will be published \n                  after basic verification.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AgentPropertyListing;\n","// Google Maps API Loader Utility - Optimized for Performance\nlet isLoaded = false;\nlet isLoading = false;\nlet loadPromise = null;\nlet servicesInitialized = false;\n\n// Preload the API when the page loads\nconst preloadGoogleMapsAPI = () => {\n  const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n  if (apiKey && apiKey !== 'YOUR_GOOGLE_MAPS_API_KEY' && !isLoaded && !isLoading) {\n    loadGoogleMapsAPI(apiKey);\n  }\n};\n\n// Start preloading immediately\npreloadGoogleMapsAPI();\n\nexport const loadGoogleMapsAPI = (apiKey) => {\n  if (isLoaded) {\n    return Promise.resolve();\n  }\n\n  if (isLoading) {\n    return loadPromise;\n  }\n\n  isLoading = true;\n  loadPromise = new Promise((resolve, reject) => {\n    // Check if Google Maps is already loaded\n    if (window.google && window.google.maps) {\n      isLoaded = true;\n      isLoading = false;\n      resolve();\n      return;\n    }\n\n      // Create script element with optimized parameters\n      const script = document.createElement('script');\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places&v=weekly&loading=async`;\n      script.async = true;\n      script.defer = true;\n    \n    // Add preconnect hints for faster loading\n    const preconnectLink = document.createElement('link');\n    preconnectLink.rel = 'preconnect';\n    preconnectLink.href = 'https://maps.googleapis.com';\n    document.head.appendChild(preconnectLink);\n    \n    const dnsPrefetchLink = document.createElement('link');\n    dnsPrefetchLink.rel = 'dns-prefetch';\n    dnsPrefetchLink.href = 'https://maps.googleapis.com';\n    document.head.appendChild(dnsPrefetchLink);\n    \n    script.onload = () => {\n      isLoaded = true;\n      isLoading = false;\n      resolve();\n    };\n    \n      script.onerror = () => {\n        isLoading = false;\n        reject(new Error('Failed to load Google Maps API. Please check your API key and ensure the required APIs are enabled.'));\n      };\n\n    // Add script to document\n    document.head.appendChild(script);\n  });\n\n  return loadPromise;\n};\n\nexport const isGoogleMapsLoaded = () => {\n  return !!(isLoaded && window.google && window.google.maps);\n};\n\nexport const initializeGoogleMapsServices = () => {\n  if (!servicesInitialized && isGoogleMapsLoaded()) {\n    servicesInitialized = true;\n    return true;\n  }\n  return servicesInitialized;\n};\n","import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { FaMapMarkerAlt, FaTimes, FaExclamationTriangle } from 'react-icons/fa';\nimport { loadGoogleMapsAPI, isGoogleMapsLoaded, initializeGoogleMapsServices } from '../utils/googleMapsLoader';\n\nconst GoogleMapsAutocomplete = ({ \n  value, \n  onChange, \n  onPlaceSelect,\n  placeholder = \"Enter address...\",\n  className = \"\",\n  error = false\n}) => {\n  const [suggestions, setSuggestions] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isGoogleMapsAvailable, setIsGoogleMapsAvailable] = useState(true);\n  const [memorySuggestions, setMemorySuggestions] = useState([]);\n  const inputRef = useRef(null);\n  const suggestionsRef = useRef(null);\n  const autocompleteService = useRef(null);\n  const placesService = useRef(null);\n  const debounceTimer = useRef(null);\n  const requestId = useRef(0);\n  \n  // Cache for frequently used addresses\n  const addressCache = useRef(new Map());\n  const maxCacheSize = 50;\n\n  // Address memory management\n  const getAddressMemory = () => {\n    try {\n      const stored = localStorage.getItem('addressMemory');\n      return stored ? JSON.parse(stored) : [];\n    } catch (error) {\n      console.error('Error loading address memory:', error);\n      return [];\n    }\n  };\n\n  const saveAddressToMemory = useCallback((address) => {\n    try {\n      const memory = getAddressMemory();\n      const newMemory = [\n        { address, timestamp: Date.now() },\n        ...memory.filter(item => item.address !== address)\n      ].slice(0, 10); // Keep only last 10 addresses\n      \n      localStorage.setItem('addressMemory', JSON.stringify(newMemory));\n      return newMemory;\n    } catch (error) {\n      console.error('Error saving address to memory:', error);\n      return [];\n    }\n  }, []);\n\n  const getMemorySuggestions = useCallback((input) => {\n    if (!input || input.length < 2) return [];\n    \n    const memory = getAddressMemory();\n    return memory\n      .filter(item => \n        item.address.toLowerCase().includes(input.toLowerCase())\n      )\n      .slice(0, 5); // Show max 5 memory suggestions\n  }, []);\n\n  useEffect(() => {\n    // Initialize Google Maps services (API should already be preloaded)\n    const initializeServices = () => {\n      if (window.google && window.google.maps && initializeGoogleMapsServices()) {\n        // Check if places API is available\n        if (window.google.maps.places) {\n          // Use the new AutocompleteSuggestion API if available, otherwise fallback\n          if (window.google.maps.places.AutocompleteSuggestion) {\n            try {\n              autocompleteService.current = new window.google.maps.places.AutocompleteSuggestion();\n            } catch (error) {\n              console.log('AutocompleteSuggestion not available, using AutocompleteService');\n              autocompleteService.current = new window.google.maps.places.AutocompleteService();\n            }\n          } else {\n            // Fallback to AutocompleteService for backward compatibility\n            autocompleteService.current = new window.google.maps.places.AutocompleteService();\n          }\n          \n          // Use the new Place API if available, otherwise fallback\n          if (window.google.maps.places.Place) {\n            try {\n              placesService.current = new window.google.maps.places.Place();\n            } catch (error) {\n              console.log('Place API not available, using PlacesService');\n              placesService.current = new window.google.maps.places.PlacesService(\n                document.createElement('div')\n              );\n            }\n          } else {\n            // Fallback to PlacesService for backward compatibility\n            placesService.current = new window.google.maps.places.PlacesService(\n              document.createElement('div')\n            );\n          }\n        } else {\n          console.error('Google Maps Places API not available');\n        }\n      }\n    };\n\n    // Try to initialize immediately if already loaded\n    if (isGoogleMapsLoaded()) {\n      initializeServices();\n    } else {\n      // Fallback: load API if not already loaded\n      const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY || 'YOUR_GOOGLE_MAPS_API_KEY';\n      \n      // Only attempt to load if we have a real API key\n      if (apiKey && apiKey !== 'YOUR_GOOGLE_MAPS_API_KEY') {\n        loadGoogleMapsAPI(apiKey).then(initializeServices).catch((error) => {\n          console.error('Failed to load Google Maps API:', error);\n          // Set a flag to disable autocomplete functionality\n          autocompleteService.current = null;\n          placesService.current = null;\n          setIsGoogleMapsAvailable(false);\n        });\n      } else {\n        // Silently disable autocomplete without console warning\n        // Set a flag to disable autocomplete functionality\n        autocompleteService.current = null;\n        placesService.current = null;\n        setIsGoogleMapsAvailable(false);\n      }\n    }\n  }, []);\n\n  // Optimized search with caching and debouncing\n  const getPlacePredictionsOptimized = useCallback((input) => {\n    const currentRequestId = ++requestId.current;\n    \n    // Get memory suggestions first\n    const memorySuggestions = getMemorySuggestions(input);\n    setMemorySuggestions(memorySuggestions);\n    \n    // Check cache first\n    const cacheKey = input.toLowerCase().trim();\n    if (addressCache.current.has(cacheKey)) {\n      const cachedResults = addressCache.current.get(cacheKey);\n      setSuggestions(cachedResults);\n      setShowSuggestions(true);\n      setIsLoading(false);\n      return;\n    }\n\n    // Check if services are available\n    if (!autocompleteService.current || !window.google?.maps?.places) {\n        // Silently handle unavailable Google Maps services\n      setIsLoading(false);\n      setSuggestions([]);\n      setShowSuggestions(memorySuggestions.length > 0);\n      return;\n    }\n\n    const request = {\n      input: input,\n      types: ['address'],\n      componentRestrictions: { country: 'ng' }\n    };\n\n      // Use the new API if available, otherwise fallback to the old one\n      if (autocompleteService.current.getPlacePredictions) {\n        // Old API method\n        autocompleteService.current.getPlacePredictions(request, (predictions, status) => {\n          // Only process if this is still the latest request\n          if (currentRequestId !== requestId.current) return;\n          \n          setIsLoading(false);\n          if (status === window.google.maps.places.PlacesServiceStatus.OK && predictions) {\n            // Cache the results\n            if (addressCache.current.size >= maxCacheSize) {\n              const firstKey = addressCache.current.keys().next().value;\n              addressCache.current.delete(firstKey);\n            }\n            addressCache.current.set(cacheKey, predictions);\n            \n            setSuggestions(predictions);\n            setShowSuggestions(true);\n          } else {\n            setSuggestions([]);\n            setShowSuggestions(false);\n          }\n        });\n      } else if (autocompleteService.current.getSuggestions) {\n        // New API method\n        autocompleteService.current.getSuggestions(request).then((predictions) => {\n          // Only process if this is still the latest request\n          if (currentRequestId !== requestId.current) return;\n          \n          setIsLoading(false);\n          if (predictions && predictions.length > 0) {\n            // Cache the results\n            if (addressCache.current.size >= maxCacheSize) {\n              const firstKey = addressCache.current.keys().next().value;\n              addressCache.current.delete(firstKey);\n            }\n            addressCache.current.set(cacheKey, predictions);\n            \n            setSuggestions(predictions);\n            setShowSuggestions(true);\n          } else {\n            setSuggestions([]);\n            setShowSuggestions(false);\n          }\n        }).catch((error) => {\n          console.error('Autocomplete error:', error);\n          setIsLoading(false);\n          setSuggestions([]);\n          setShowSuggestions(false);\n        });\n      }\n  }, []);\n\n  const handleInputChange = useCallback((e) => {\n    const inputValue = e.target.value;\n    onChange(inputValue);\n    \n    // Clear previous debounce timer\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n    \n    if (inputValue.length > 2) {\n      setIsLoading(true);\n      // Debounce the API call by 300ms\n      debounceTimer.current = setTimeout(() => {\n        getPlacePredictionsOptimized(inputValue);\n      }, 300);\n    } else {\n      setSuggestions([]);\n      setShowSuggestions(false);\n      setIsLoading(false);\n    }\n  }, [onChange, getPlacePredictionsOptimized]);\n\n  // Save address to memory when user finishes typing (on blur)\n  const handleInputBlur = useCallback((e) => {\n    const inputValue = e.target.value.trim();\n    if (inputValue.length > 5) { // Only save meaningful addresses\n      saveAddressToMemory(inputValue);\n    }\n    // Defer hiding suggestions using local logic to avoid referencing before init\n    setTimeout(() => {\n      if (!suggestionsRef.current?.contains(document.activeElement)) {\n        setShowSuggestions(false);\n      }\n    }, 200);\n  }, []);\n\n  // Optimized place selection with caching\n  const handleSuggestionClick = useCallback((suggestion) => {\n    if (!placesService.current || !window.google?.maps?.places) {\n      console.warn('Google Maps places service not available');\n      return;\n    }\n\n    // Cancel any pending debounced requests\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n\n    const request = {\n      placeId: suggestion.place_id,\n      fields: ['formatted_address', 'geometry', 'address_components', 'url']\n    };\n\n    // Use the new API if available, otherwise fallback to the old one\n    if (placesService.current.getDetails) {\n      // Old API method\n      placesService.current.getDetails(request, (place, status) => {\n        if (status === window.google.maps.places.PlacesServiceStatus.OK && place) {\n          // Extract address components\n          const addressComponents = place.address_components || [];\n          const city = addressComponents.find(component => \n            component.types.includes('locality')\n          )?.long_name || '';\n          const state = addressComponents.find(component => \n            component.types.includes('administrative_area_level_1')\n          )?.long_name || '';\n          const zipCode = addressComponents.find(component => \n            component.types.includes('postal_code')\n          )?.long_name || '';\n\n          // Call the onPlaceSelect callback with all the data\n          onPlaceSelect({\n            address: place.formatted_address,\n            city: city,\n            state: state,\n            zipCode: zipCode,\n            coordinates: {\n              latitude: place.geometry?.location?.lat(),\n              longitude: place.geometry?.location?.lng()\n            },\n            googleMapsUrl: place.url || `https://www.google.com/maps/place/?q=place_id:${suggestion.place_id}`\n          });\n\n          // Save to address memory\n          saveAddressToMemory(place.formatted_address);\n\n          // Update the input value\n          onChange(place.formatted_address);\n          setShowSuggestions(false);\n          setSuggestions([]);\n        }\n      });\n    } else if (placesService.current.fetchFields) {\n      // New API method\n      placesService.current.fetchFields(request).then((place) => {\n        if (place) {\n          // Extract address components\n          const addressComponents = place.address_components || [];\n          const city = addressComponents.find(component => \n            component.types.includes('locality')\n          )?.long_name || '';\n          const state = addressComponents.find(component => \n            component.types.includes('administrative_area_level_1')\n          )?.long_name || '';\n          const zipCode = addressComponents.find(component => \n            component.types.includes('postal_code')\n          )?.long_name || '';\n\n          // Call the onPlaceSelect callback with all the data\n          onPlaceSelect({\n            address: place.formatted_address,\n            city: city,\n            state: state,\n            zipCode: zipCode,\n            coordinates: {\n              latitude: place.geometry?.location?.lat(),\n              longitude: place.geometry?.location?.lng()\n            },\n            googleMapsUrl: place.url || `https://www.google.com/maps/place/?q=place_id:${suggestion.place_id}`\n          });\n\n          // Save to address memory\n          saveAddressToMemory(place.formatted_address);\n\n          // Update the input value\n          onChange(place.formatted_address);\n          setShowSuggestions(false);\n          setSuggestions([]);\n        }\n      }).catch((error) => {\n        console.error('Place details error:', error);\n      });\n    }\n  }, [onPlaceSelect, onChange]);\n\n\n  const handleMemorySuggestionClick = useCallback((memorySuggestion) => {\n    // Clear debounce timer\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n\n    // Update the input value\n    onChange(memorySuggestion.address);\n    \n    // Call the onPlaceSelect callback with the memory data\n    onPlaceSelect({\n      address: memorySuggestion.address,\n      city: '',\n      state: '',\n      zipCode: '',\n      coordinates: {\n        latitude: null,\n        longitude: null\n      },\n      googleMapsUrl: ''\n    });\n\n    setShowSuggestions(false);\n    setSuggestions([]);\n    setMemorySuggestions([]);\n  }, [onChange, onPlaceSelect]);\n\n  const handleClearInput = useCallback(() => {\n    // Clear debounce timer\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n    onChange('');\n    setSuggestions([]);\n    setShowSuggestions(false);\n    setIsLoading(false);\n    inputRef.current?.focus();\n  }, [onChange]);\n\n  const handleBlur = useCallback((e) => {\n    // Delay hiding suggestions to allow clicking on them\n    setTimeout(() => {\n      if (!suggestionsRef.current?.contains(document.activeElement)) {\n        setShowSuggestions(false);\n      }\n    }, 200);\n  }, []);\n\n  const handleFocus = useCallback(() => {\n    if (suggestions.length > 0) {\n      setShowSuggestions(true);\n    }\n  }, [suggestions.length]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (debounceTimer.current) {\n        clearTimeout(debounceTimer.current);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"relative\">\n      <div className=\"relative\">\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={value}\n          onChange={handleInputChange}\n          onBlur={handleInputBlur}\n          onFocus={handleFocus}\n          className={`w-full pl-12 pr-12 py-4 border-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 ${\n            error ? 'border-red-300 focus:border-red-500' : 'border-gray-200 focus:border-blue-500'\n          }`}\n          placeholder={isGoogleMapsAvailable ? placeholder : \"Enter address manually (autocomplete disabled)\"}\n        />\n        <FaMapMarkerAlt className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg\" />\n        {value && (\n          <button\n            type=\"button\"\n            onClick={handleClearInput}\n            className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <FaTimes className=\"text-sm\" />\n          </button>\n        )}\n      </div>\n\n      {/* Loading indicator */}\n      {isLoading && (\n        <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-xl shadow-lg z-50\">\n          <div className=\"p-4 text-center\">\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto\"></div>\n            <p className=\"text-sm text-gray-600 mt-2\">Searching addresses...</p>\n          </div>\n        </div>\n        )}\n\n        {/* Google Maps not available message */}\n        {!isGoogleMapsAvailable && (\n          <div className=\"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\n            <p className=\"text-sm text-yellow-700\">\n              <FaExclamationTriangle className=\"inline mr-1\" />\n              Google Maps autocomplete is disabled. Please enter the address manually.\n            </p>\n          </div>\n        )}\n\n        {/* Suggestions dropdown */}\n        {(showSuggestions && (suggestions.length > 0 || memorySuggestions.length > 0)) && (\n        <div \n          ref={suggestionsRef}\n          className=\"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-xl shadow-lg z-50 max-h-60 overflow-y-auto\"\n        >\n          {/* Memory Suggestions */}\n          {memorySuggestions.length > 0 && (\n            <>\n              <div className=\"px-4 py-2 bg-gray-50 border-b border-gray-200\">\n                <p className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide\">Recent Addresses</p>\n              </div>\n              {memorySuggestions.map((memorySuggestion, index) => (\n                <button\n                  key={`memory-${index}`}\n                  type=\"button\"\n                  onClick={() => handleMemorySuggestionClick(memorySuggestion)}\n                  className=\"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors focus:outline-none focus:bg-gray-50\"\n                >\n                  <div className=\"flex items-start space-x-3\">\n                    <FaMapMarkerAlt className=\"text-green-500 text-sm mt-1 flex-shrink-0\" />\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium text-gray-900 truncate\">\n                        {memorySuggestion.address}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">\n                        Previously used\n                      </p>\n                    </div>\n                  </div>\n                </button>\n              ))}\n              {suggestions.length > 0 && (\n                <div className=\"px-4 py-2 bg-gray-50 border-b border-gray-200\">\n                  <p className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide\">Google Maps Suggestions</p>\n                </div>\n              )}\n            </>\n          )}\n          \n          {/* Google Maps Suggestions */}\n          {suggestions.slice(0, 8).map((suggestion) => (\n            <button\n              key={suggestion.place_id}\n              type=\"button\"\n              onClick={() => handleSuggestionClick(suggestion)}\n              className=\"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors focus:outline-none focus:bg-gray-50\"\n            >\n              <div className=\"flex items-start space-x-3\">\n                <FaMapMarkerAlt className=\"text-blue-500 text-sm mt-1 flex-shrink-0\" />\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-gray-900 truncate\">\n                    {suggestion.structured_formatting?.main_text || suggestion.description}\n                  </p>\n                  {suggestion.structured_formatting?.secondary_text && (\n                    <p className=\"text-xs text-gray-500 truncate\">\n                      {suggestion.structured_formatting.secondary_text}\n                    </p>\n                  )}\n                </div>\n              </div>\n            </button>\n          ))}\n        </div>\n        )}\n    </div>\n  );\n};\n\nexport default GoogleMapsAutocomplete;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { FaMapMarkerAlt, FaHistory, FaTimes } from 'react-icons/fa';\n\nconst AddressMemory = ({ \n  value, \n  onChange, \n  placeholder = \"Enter address...\",\n  className = \"\",\n  error = false,\n  fieldType = \"address\" // address, city, state, zipCode, etc.\n}) => {\n  const [memorySuggestions, setMemorySuggestions] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [inputRef, setInputRef] = useState(null);\n\n  // Address memory management\n  const getAddressMemory = useCallback(() => {\n    try {\n      const stored = localStorage.getItem(`addressMemory_${fieldType}`);\n      return stored ? JSON.parse(stored) : [];\n    } catch (error) {\n      console.error(`Error loading address memory for ${fieldType}:`, error);\n      return [];\n    }\n  }, [fieldType]);\n\n  const saveAddressToMemory = useCallback((address) => {\n    if (!address || address.trim().length < 3) return;\n    \n    try {\n      const memory = getAddressMemory();\n      const newMemory = [\n        { address: address.trim(), timestamp: Date.now() },\n        ...memory.filter(item => item.address !== address.trim())\n      ].slice(0, 10); // Keep only last 10 addresses\n      \n      localStorage.setItem(`addressMemory_${fieldType}`, JSON.stringify(newMemory));\n      return newMemory;\n    } catch (error) {\n      console.error(`Error saving address to memory for ${fieldType}:`, error);\n      return [];\n    }\n  }, [fieldType, getAddressMemory]);\n\n  const getMemorySuggestions = useCallback((input) => {\n    if (!input || input.length < 2) return [];\n    \n    const memory = getAddressMemory();\n    return memory\n      .filter(item => \n        item.address.toLowerCase().includes(input.toLowerCase())\n      )\n      .slice(0, 5); // Show max 5 memory suggestions\n  }, [getAddressMemory]);\n\n  const handleInputChange = useCallback((e) => {\n    const inputValue = e.target.value;\n    onChange(inputValue);\n    \n    // Get memory suggestions\n    const suggestions = getMemorySuggestions(inputValue);\n    setMemorySuggestions(suggestions);\n    setShowSuggestions(suggestions.length > 0);\n  }, [onChange, getMemorySuggestions]);\n\n  const handleMemorySuggestionClick = useCallback((memorySuggestion) => {\n    onChange(memorySuggestion.address);\n    setShowSuggestions(false);\n    setMemorySuggestions([]);\n  }, [onChange]);\n\n  const handleInputBlur = useCallback((e) => {\n    const inputValue = e.target.value.trim();\n    if (inputValue.length > 2) {\n      saveAddressToMemory(inputValue);\n    }\n    \n    // Delay hiding suggestions to allow clicking on them\n    setTimeout(() => {\n      setShowSuggestions(false);\n    }, 200);\n  }, [saveAddressToMemory]);\n\n  const handleInputFocus = useCallback(() => {\n    if (memorySuggestions.length > 0) {\n      setShowSuggestions(true);\n    }\n  }, [memorySuggestions.length]);\n\n  const clearMemory = useCallback(() => {\n    try {\n      localStorage.removeItem(`addressMemory_${fieldType}`);\n      setMemorySuggestions([]);\n      setShowSuggestions(false);\n    } catch (error) {\n      console.error(`Error clearing memory for ${fieldType}:`, error);\n    }\n  }, [fieldType]);\n\n  return (\n    <div className=\"relative\">\n      <div className=\"relative\">\n        <input\n          ref={setInputRef}\n          type=\"text\"\n          value={value}\n          onChange={handleInputChange}\n          onBlur={handleInputBlur}\n          onFocus={handleInputFocus}\n          className={`w-full pl-12 pr-10 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 ${\n            error ? 'border-red-300 focus:border-red-500' : 'border-gray-200 focus:border-blue-500'\n          } ${className}`}\n          placeholder={placeholder}\n          aria-invalid={error ? \"true\" : \"false\"}\n          aria-describedby={error ? `${fieldType}-error` : undefined}\n        />\n        <FaMapMarkerAlt className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg\" />\n        \n        {/* Clear memory button */}\n        {getAddressMemory().length > 0 && (\n          <button\n            type=\"button\"\n            onClick={clearMemory}\n            className=\"absolute right-10 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-red-500 transition-colors\"\n            title=\"Clear address history\"\n          >\n            <FaTimes className=\"h-4 w-4\" />\n          </button>\n        )}\n      </div>\n\n      {/* Memory Suggestions */}\n      {showSuggestions && memorySuggestions.length > 0 && (\n        <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-xl shadow-lg z-50 max-h-60 overflow-y-auto\">\n          <div className=\"px-4 py-2 bg-gray-50 border-b border-gray-200\">\n            <p className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide flex items-center\">\n              <FaHistory className=\"mr-1\" />\n              Recent {fieldType} entries\n            </p>\n          </div>\n          {memorySuggestions.map((memorySuggestion, index) => (\n            <button\n              key={`memory-${index}`}\n              type=\"button\"\n              onClick={() => handleMemorySuggestionClick(memorySuggestion)}\n              className=\"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors focus:outline-none focus:bg-gray-50\"\n            >\n              <div className=\"flex items-start space-x-3\">\n                <FaMapMarkerAlt className=\"text-green-500 text-sm mt-1 flex-shrink-0\" />\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-gray-900 truncate\">\n                    {memorySuggestion.address}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">\n                    Previously used\n                  </p>\n                </div>\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AddressMemory;\n","import { useEffect, useRef } from 'react';\n\n/**\n * Custom hook for auto-saving form data to localStorage\n * @param {string} storageKey - Key for localStorage\n * @param {object} formData - Form data to save\n * @param {number} debounceMs - Debounce delay in milliseconds (default: 1000)\n */\nexport const useAutoSave = (storageKey, formData, debounceMs = 1000) => {\n  const timeoutRef = useRef(null);\n  const isInitialMount = useRef(true);\n\n  useEffect(() => {\n    // Skip auto-save on initial mount\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n      return;\n    }\n\n    // Clear existing timeout\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    // Set new timeout for auto-save\n    timeoutRef.current = setTimeout(() => {\n      try {\n        localStorage.setItem(storageKey, JSON.stringify(formData));\n      } catch (error) {\n        console.error('Error auto-saving form data:', error);\n      }\n    }, debounceMs);\n\n    // Cleanup\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [formData, storageKey, debounceMs]);\n\n  // Function to clear saved data\n  const clearSavedData = () => {\n    try {\n      localStorage.removeItem(storageKey);\n    } catch (error) {\n      console.error('Error clearing saved data:', error);\n    }\n  };\n\n  // Function to load saved data manually\n  const loadSavedData = () => {\n    try {\n      const saved = localStorage.getItem(storageKey);\n      if (saved) {\n        return JSON.parse(saved);\n      }\n    } catch (error) {\n      console.error('Error loading saved data:', error);\n    }\n    return null;\n  };\n\n  return { clearSavedData, loadSavedData };\n};\n\nexport default useAutoSave;\n\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useProperty } from '../contexts/PropertyContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useVendor } from '../contexts/VendorContext';\nimport PropertyImageUpload from '../components/PropertyImageUpload';\nimport PropertyVideoUpload from '../components/PropertyVideoUpload';\nimport PropertyDocumentUpload from '../components/PropertyDocumentUpload';\nimport InvestmentDetailsModal from '../components/InvestmentDetailsModal';\nimport AgentPropertyListing from '../components/AgentPropertyListing';\nimport GoogleMapsAutocomplete from '../components/GoogleMapsAutocomplete';\nimport AddressMemory from '../components/AddressMemory';\nimport { FaHome, FaMapMarkerAlt, FaBed, FaBath, FaRulerCombined, FaDollarSign, FaBuilding, FaPlus, FaTimes, FaCheck, FaUpload, FaMapPin, FaBus, FaFileAlt, FaVideo, FaImage } from 'react-icons/fa';\nimport MemoryInput from '../components/MemoryInput';\nimport storageService from '../services/storageService';\nimport { useAutoSave } from '../hooks/useAutoSave';\nimport toast from 'react-hot-toast';\n\nconst AddProperty = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { createProperty, updateProperty } = useProperty();\n  const { user } = useAuth();\n  const { isAgent, isPropertyOwner, checkDocumentStatus, uploadAgentDocument } = useVendor();\n  \n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    price: '',\n    type: '',\n    status: '', // for-sale, for-rent, for-lease\n    location: {\n      address: '',\n      city: '',\n      state: '',\n      zipCode: '',\n      coordinates: {\n        latitude: '',\n        longitude: ''\n      },\n      nearestBusStop: {\n        name: '',\n        distance: '',\n        coordinates: {\n          latitude: '',\n          longitude: ''\n        }\n      },\n      googleMapsUrl: ''\n    },\n    details: {\n      bedrooms: '',\n      bathrooms: '',\n      sqft: '',\n      yearBuilt: '',\n      lotSize: '',\n      parking: '',\n      heating: '',\n      cooling: ''\n    },\n    amenities: [],\n    images: [],\n    videos: [],\n    documentation: [],\n    mortgageDetails: {} // Added for mortgage status\n  });\n  \n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [progressPercent, setProgressPercent] = useState(0);\n  const [progressMessage, setProgressMessage] = useState('');\n  const [amenityInput, setAmenityInput] = useState('');\n  const [showInvestmentModal, setShowInvestmentModal] = useState(false);\n  const [investmentPayload, setInvestmentPayload] = useState(null);\n  const [isListingAsAgent, setIsListingAsAgent] = useState(false);\n  const [attestationLetter, setAttestationLetter] = useState(null);\n  const [documentStatus, setDocumentStatus] = useState(null);\n  const [mortgageDetails, setMortgageDetails] = useState({\n    mortgageProvider: '',\n    minDownPaymentPercent: '',\n    tenorMonths: '',\n    interestRate: '',\n    monthlyIncomeRequirement: ''\n  });\n\n  const propertyTypes = ['house', 'apartment', 'condo', 'townhouse', 'land', 'commercial'];\n  const propertyStatuses = ['for-sale', 'for-rent', 'for-lease', 'for-mortgage', 'for-investment'];\n  const commonAmenities = ['Parking', 'Garden', 'Balcony', 'Pool', 'Gym', 'Security', 'Air Conditioning', 'Heating', 'Hardwood Floors', 'Fireplace', 'Walk-in Closet', 'Patio', 'High-Speed Internet'];\n\n  // Auto-save configuration\n  const storageKey = `addPropertyForm_${user?.id || 'guest'}`;\n  const { clearSavedData } = useAutoSave(storageKey, {}, 2000);\n\n  // Load saved form data on mount (if not editing a property)\n  useEffect(() => {\n    const propertyToEdit = location.state?.propertyToEdit;\n    \n    // If editing, don't load saved data\n    if (propertyToEdit) {\n      return;\n    }\n    \n    // Load auto-saved data\n    try {\n      const saved = localStorage.getItem(storageKey);\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        // Only load if we have meaningful data (at least title or address)\n        if (parsed.title || parsed.location?.address) {\n          setFormData(prev => ({\n            ...prev,\n            ...parsed,\n            // Preserve empty arrays for files (don't restore them)\n            images: prev.images,\n            videos: prev.videos,\n            documentation: prev.documentation\n          }));\n          toast.success('Draft restored from previous session', { duration: 3000 });\n        }\n      }\n    } catch (error) {\n      console.error('Error loading saved form data:', error);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // Only run on mount\n\n  // Auto-save form data (excludes large files like images) whenever formData changes\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      const dataToSave = {\n        ...formData,\n        // Exclude large arrays/files from auto-save\n        images: [],\n        videos: [],\n        documentation: []\n      };\n      try {\n        localStorage.setItem(storageKey, JSON.stringify(dataToSave));\n      } catch (error) {\n        console.error('Error auto-saving form data:', error);\n      }\n    }, 2000); // 2 second debounce\n\n    return () => clearTimeout(timeoutId);\n  }, [formData, storageKey]);\n\n  // Check document status on component mount\n  useEffect(() => {\n    if (isAgent) {\n      const status = checkDocumentStatus();\n      setDocumentStatus(status);\n    }\n  }, [isAgent, checkDocumentStatus]);\n\n  const handleAttestationUpload = async (file) => {\n    try {\n      const result = await uploadAgentDocument({\n        type: 'attestation_letter',\n        file: file,\n        propertyId: null, // Will be set when property is created\n        description: 'Letter of attestation for property listing'\n      });\n      \n      if (result.success) {\n        // Refresh document status\n        const status = checkDocumentStatus();\n        setDocumentStatus(status);\n      }\n      return result;\n    } catch (error) {\n      console.error('Error uploading attestation letter:', error);\n      return { success: false, error: error.message };\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    \n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      if (parent === 'location' && child === 'address') {\n        setFormData(prev => ({\n          ...prev,\n          location: {\n            ...prev.location,\n            address: value\n          }\n        }));\n      } else if (parent === 'location' && child === 'city') {\n        setFormData(prev => ({\n          ...prev,\n          location: {\n            ...prev.location,\n            city: value\n          }\n        }));\n      } else if (parent === 'location' && child === 'state') {\n        setFormData(prev => ({\n          ...prev,\n          location: {\n            ...prev.location,\n            state: value\n          }\n        }));\n      } else if (parent === 'location' && child === 'zipCode') {\n        setFormData(prev => ({\n          ...prev,\n          location: {\n            ...prev.location,\n            zipCode: value\n          }\n        }));\n      } else if (parent === 'location' && child === 'googleMapsUrl') {\n        setFormData(prev => ({\n          ...prev,\n          location: {\n            ...prev.location,\n            googleMapsUrl: value\n          }\n        }));\n      } else if (name.includes('coordinates.')) {\n        const coordType = name.split('.')[1];\n        setFormData(prev => ({\n          ...prev,\n          location: {\n            ...prev.location,\n            coordinates: {\n              ...prev.location.coordinates,\n              [coordType]: parseFloat(value) || ''\n            }\n          }\n        }));\n      } else if (name.includes('busStop.')) {\n        const busStopType = name.split('.')[1];\n        setFormData(prev => ({\n          ...prev,\n          location: {\n            ...prev.location,\n            nearestBusStop: {\n              ...prev.location.nearestBusStop,\n              [busStopType]: value\n            }\n          }\n        }));\n      } else if (name.includes('busStopCoordinates.')) {\n        const coordType = name.split('.')[1];\n        setFormData(prev => ({\n          ...prev,\n          location: {\n            ...prev.location,\n            nearestBusStop: {\n              ...prev.location.nearestBusStop,\n              coordinates: {\n                ...prev.location.nearestBusStop.coordinates,\n                [coordType]: parseFloat(value) || ''\n              }\n            }\n          }\n        }));\n      } else if (name.includes('details.')) {\n        const detailType = name.split('.')[1];\n        setFormData(prev => ({\n          ...prev,\n          details: {\n            ...prev.details,\n            [detailType]: value\n          }\n        }));\n      }\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n    \n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handleAddressSelect = (placeData) => {\n    setFormData(prev => ({\n      ...prev,\n      location: {\n        ...prev.location,\n        address: placeData.address,\n        city: placeData.city,\n        state: placeData.state,\n        zipCode: placeData.zipCode,\n        coordinates: placeData.coordinates,\n        googleMapsUrl: placeData.googleMapsUrl\n      }\n    }));\n  };\n\n  const handleAmenityAdd = () => {\n    if (amenityInput.trim() && !formData.amenities.includes(amenityInput.trim())) {\n      setFormData(prev => ({\n        ...prev,\n        amenities: [...prev.amenities, amenityInput.trim()]\n      }));\n      setAmenityInput('');\n    }\n  };\n\n  const handleAmenityRemove = (amenity) => {\n    setFormData(prev => ({\n      ...prev,\n      amenities: prev.amenities.filter(a => a !== amenity)\n    }));\n  };\n\n\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.title) newErrors.title = 'Title is required';\n    if (!formData.description) newErrors.description = 'Description is required';\n    if (!formData.price) newErrors.price = 'Price is required';\n    if (!formData.type) newErrors.type = 'Property type is required';\n    if (!formData.status) newErrors.status = 'Property status is required';\n    if (!formData.location.address) newErrors['location.address'] = 'Address is required';\n    if (!formData.location.city) newErrors['location.city'] = 'City is required';\n    if (!formData.location.state) newErrors['location.state'] = 'State is required';\n    if (!formData.details.bedrooms) newErrors['details.bedrooms'] = 'Number of bedrooms is required';\n    if (!formData.details.bathrooms) newErrors['details.bathrooms'] = 'Number of bathrooms is required';\n    if (!formData.details.sqft) newErrors['details.sqft'] = 'Square footage is required';\n    const hasCoords = Boolean(formData.location.coordinates.latitude) && Boolean(formData.location.coordinates.longitude);\n    if (!formData.location.googleMapsUrl && !hasCoords) {\n      newErrors['location.googleMapsUrl'] = 'Provide Google Maps link or both latitude and longitude';\n    }\n    \n    // Additional validation for agents\n    if (isListingAsAgent && isAgent) {\n      if (!documentStatus?.hasAttestationLetter) {\n        newErrors.attestationLetter = 'Attestation letter is required for agents';\n      } else if (documentStatus.attestationStatus !== 'verified') {\n        newErrors.attestationLetter = 'Attestation letter must be verified by admin before listing properties';\n      }\n    }\n\n    // Mortgage-specific validation\n    if (formData.status === 'for-mortgage') {\n      if (!mortgageDetails.mortgageProvider) newErrors.mortgageProvider = 'Mortgage provider is required';\n      if (!mortgageDetails.minDownPaymentPercent) newErrors.minDownPaymentPercent = 'Minimum down payment is required';\n      if (!mortgageDetails.tenorMonths) newErrors.tenorMonths = 'Tenor (months) is required';\n      if (!mortgageDetails.interestRate) newErrors.interestRate = 'Interest rate is required';\n      if (!mortgageDetails.monthlyIncomeRequirement) newErrors.monthlyIncomeRequirement = 'Monthly income requirement is required';\n    }\n    \n    return newErrors;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newErrors = validateForm();\n    \n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n\n    // If it's an investment listing, open modal first to capture details\n    if (formData.status === 'for-investment' && !investmentPayload) {\n      setShowInvestmentModal(true);\n      return;\n    }\n\n    setLoading(true);\n    setProgressPercent(10);\n    setProgressMessage('Validating and creating property...');\n    try {\n      const propertyData = {\n        ...formData,\n        price: parseFloat(formData.price),\n        vendorId: user?.id || user?.uid,\n        vendorName: user?.displayName || user?.firstName + ' ' + user?.lastName || user?.email,\n        isAgentListing: isListingAsAgent,\n        agentId: isListingAsAgent ? (user?.id || user?.uid) : null,\n        createdAt: new Date(),\n        listingType: formData.status,\n        moderationStatus: isListingAsAgent ? 'pending_verification' : 'pending', // Agent listings need extra verification\n        details: {\n          ...formData.details,\n          bedrooms: parseInt(formData.details.bedrooms),\n          bathrooms: parseInt(formData.details.bathrooms),\n          sqft: parseInt(formData.details.sqft),\n          yearBuilt: formData.details.yearBuilt ? parseInt(formData.details.yearBuilt) : null\n        },\n        images: (formData.images && formData.images.length > 0) ? formData.images : [],\n        videos: [],\n        documentation: [],\n        // attach investment details if provided\n        ...(investmentPayload ? {\n          investment: investmentPayload.investment,\n          investmentDocuments: investmentPayload.investmentDocuments\n        } : {}),\n        mortgageDetails: formData.status === 'for-mortgage' ? {\n          mortgageProvider: mortgageDetails.mortgageProvider,\n          minDownPaymentPercent: Number(mortgageDetails.minDownPaymentPercent),\n          tenorMonths: Number(mortgageDetails.tenorMonths),\n          interestRate: Number(mortgageDetails.interestRate),\n          monthlyIncomeRequirement: Number(mortgageDetails.monthlyIncomeRequirement)\n        } : undefined\n      };\n      \n      const result = await createProperty(propertyData);\n      if (result.success) {\n        const newId = result.id;\n        toast.success('Property created successfully!');\n        setProgressPercent(35);\n        setProgressMessage('Finalizing images...');\n\n        // Move temp images to final path if needed\n        let finalImages = [...(formData.images || [])];\n        try {\n          const imagesNeedingMove = finalImages.filter(img => img.path && img.path.includes('/temp'));\n          if (imagesNeedingMove.length > 0) {\n            const moved = await Promise.all(imagesNeedingMove.map(async (img) => {\n              const fileName = img.path.split('/').pop();\n              const newPath = `properties/${newId}/images/${fileName}`;\n              const res = await storageService.moveFile(img.path, newPath);\n              if (res.success) {\n                return { ...img, url: res.url, path: res.path };\n              }\n              return img;\n            }));\n            finalImages = finalImages.map(img => {\n              const updated = moved.find(m => (m.name && m.name === img.name) || (m.path && m.path === img.path));\n              return updated ? updated : img;\n            });\n          }\n        } catch (e) {\n          toast.error('Some images could not be finalized.');\n        }\n\n        // Upload videos/documents to final paths\n        try {\n          setProgressPercent(55);\n          setProgressMessage('Uploading videos and documents...');\n          const [videoUploadResult2, documentUploadResult2] = await Promise.all([\n            false\n              ? storageService.uploadMultipleFiles(\n                  [],\n                  `properties/${newId}/videos`,\n                  { customMetadata: { uploadedBy: user?.id || user?.uid, type: 'property_video', propertyId: newId } }\n                )\n              : Promise.resolve({ success: true, successful: [] }),\n            false\n              ? storageService.uploadMultipleFiles(\n                  [],\n                  `properties/${newId}/documents`,\n                  { customMetadata: { uploadedBy: user?.id || user?.uid, type: 'property_document', propertyId: newId } }\n                )\n              : Promise.resolve({ success: true, successful: [] })\n          ]);\n\n          const uploadedVideos2 = (videoUploadResult2.successful || []).map((r, index) => ({ url: r.url, isPrimary: index === 0, caption: r.name }));\n          const uploadedDocuments2 = (documentUploadResult2.successful || []).map((r, index) => ({ url: r.url, isPrimary: index === 0, caption: r.name }));\n\n          await updateProperty(newId, {\n            images: finalImages,\n            videos: uploadedVideos2,\n            documentation: uploadedDocuments2\n          });\n          toast.success('Media uploaded successfully');\n          setProgressPercent(100);\n          setProgressMessage('Done');\n        } catch (e) {\n          toast.error('Property saved, but media upload failed.');\n        }\n\n        // Persist lightweight record for Vendor Dashboard \"My Properties\" list\n        try {\n          const vendorKey = user ? `vendor_properties_${user.id || user.uid}` : null;\n          if (vendorKey) {\n            const stored = JSON.parse(localStorage.getItem(vendorKey) || '[]');\n            const created = {\n              id: newId,\n              title: propertyData.title,\n              price: Number(propertyData.price) || 0,\n              location: propertyData.location?.address || propertyData.location?.city || propertyData.location?.googleMapsUrl || 'Location not specified',\n              bedrooms: Number(propertyData.details?.bedrooms) || 0,\n              bathrooms: Number(propertyData.details?.bathrooms) || 0,\n              area: Number(propertyData.details?.sqft) || 0,\n              image: (propertyData.images && propertyData.images[0]?.url) || 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=400&h=300&fit=crop',\n              status: 'pending',\n              views: 0,\n              inquiries: 0,\n              favorites: 0,\n              dateListed: new Date().toISOString(),\n              lastUpdated: new Date().toISOString()\n            };\n            localStorage.setItem(vendorKey, JSON.stringify([created, ...stored]));\n          }\n        } catch (_) {}\n\n        // Clear auto-saved data after successful submission\n        clearSavedData();\n        \n        // Navigate to Vendor \"My Properties\" so the new listing is visible immediately\n        if (location.pathname.includes('/vendor/')) {\n          navigate('/vendor/properties');\n        } else {\n          navigate('/dashboard');\n        }\n      } else {\n        setErrors({ general: result.message });\n        toast.error(result.message || 'Failed to create property');\n      }\n    } catch (error) {\n      setErrors({ general: error.message });\n    } finally {\n      setLoading(false);\n      setTimeout(() => { setProgressPercent(0); setProgressMessage(''); }, 500);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12\">\n      <div className=\"max-w-6xl mx-auto px-6\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <div className=\"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg\">\n            <FaHome className=\"text-white text-3xl\" />\n          </div>\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Add New Property</h1>\n          <p className=\"text-xl text-gray-600\">List your property with comprehensive details</p>\n        </div>\n\n        {/* Form Container */}\n        <div className=\"bg-white rounded-2xl shadow-xl border border-gray-100 p-8\">\n          <form onSubmit={handleSubmit} className=\"space-y-8\">\n            {errors.general && (\n              <div className=\"bg-red-50 border border-red-200 text-red-600 px-6 py-4 rounded-xl\">\n                <p className=\"font-medium\">{errors.general}</p>\n              </div>\n            )}\n\n            {/* Agent/Owner Selection */}\n            <AgentPropertyListing\n              isAgent={isAgent}\n              isPropertyOwner={isPropertyOwner}\n              isListingAsAgent={isListingAsAgent}\n              setIsListingAsAgent={setIsListingAsAgent}\n              attestationLetter={attestationLetter}\n              setAttestationLetter={setAttestationLetter}\n              documentStatus={documentStatus}\n              onAttestationUpload={handleAttestationUpload}\n              errors={errors}\n            />\n\n            {/* Basic Information */}\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center space-x-3 mb-6\">\n                <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n                  <FaBuilding className=\"text-white text-lg\" />\n                </div>\n                <h3 className=\"text-2xl font-bold text-gray-900\">Basic Information</h3>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Property Title</label>\n                  <div className=\"relative\">\n                    <MemoryInput\n                      fieldKey=\"title\"\n                      value={formData.title}\n                      onChange={(val) => setFormData((p) => ({ ...p, title: val }))}\n                      placeholder=\"e.g., Beautiful 3-bedroom house\"\n                      className=\"pl-12\"\n                    />\n                    <FaHome className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg pointer-events-none\" />\n                  </div>\n                  {errors.title && <p className=\"mt-2 text-sm text-red-600\">{errors.title}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Property Type</label>\n                  <div className=\"relative\">\n                    <select\n                      name=\"type\"\n                      value={formData.type}\n                      onChange={handleChange}\n                      className={`w-full pl-12 pr-4 py-4 border-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 ${\n                        errors.type ? 'border-red-300 focus:border-red-500' : 'border-gray-200 focus:border-blue-500'\n                      }`}\n                    >\n                      <option value=\"\">Select type</option>\n                      {propertyTypes.map(type => (\n                        <option key={type} value={type}>{type.charAt(0).toUpperCase() + type.slice(1)}</option>\n                      ))}\n                    </select>\n                    <FaBuilding className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg pointer-events-none\" />\n                  </div>\n                  {errors.type && <p className=\"mt-2 text-sm text-red-600\">{errors.type}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Property Status</label>\n                  <div className=\"relative\">\n                    <select\n                      name=\"status\"\n                      value={formData.status}\n                      onChange={handleChange}\n                      className={`w-full pl-12 pr-4 py-4 border-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 ${\n                        errors.status ? 'border-red-300 focus:border-red-500' : 'border-gray-200 focus:border-blue-500'\n                      }`}\n                    >\n                      <option value=\"\">Select status</option>\n                      {propertyStatuses.map(status => (\n                        <option key={status} value={status}>\n                          {status === 'for-sale' ? 'For Sale' : \n                           status === 'for-rent' ? 'For Rent' : \n                           status === 'for-lease' ? 'For Lease' :\n                           status === 'for-mortgage' ? 'For Mortgage' : 'For Investment'}\n                        </option>\n                      ))}\n                    </select>\n                    <FaCheck className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg pointer-events-none\" />\n                  </div>\n                  {errors.status && <p className=\"mt-2 text-sm text-red-600\">{errors.status}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Price ()</label>\n                  <div className=\"relative\">\n                    <MemoryInput\n                      type=\"number\"\n                      fieldKey=\"price\"\n                      value={formData.price}\n                      onChange={(val) => setFormData((p) => ({ ...p, price: val }))}\n                      placeholder=\"50000000\"\n                      className=\"pl-12\"\n                    />\n                    <span className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg font-bold\"></span>\n                  </div>\n                  {errors.price && <p className=\"mt-2 text-sm text-red-600\">{errors.price}</p>}\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Description</label>\n                <MemoryInput\n                  fieldKey=\"description\"\n                  value={formData.description}\n                  onChange={(val) => setFormData((p) => ({ ...p, description: val }))}\n                  multiline\n                  rows={4}\n                  placeholder=\"Describe your property in detail...\"\n                />\n                {errors.description && <p className=\"mt-2 text-sm text-red-600\">{errors.description}</p>}\n              </div>\n            </div>\n\n            {/* Location Information */}\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center space-x-3 mb-6\">\n                <div className=\"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-600 rounded-lg flex items-center justify-center\">\n                  <FaMapMarkerAlt className=\"text-white text-lg\" />\n                </div>\n                <h3 className=\"text-2xl font-bold text-gray-900\">Location Information</h3>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Address</label>\n                  <GoogleMapsAutocomplete\n                      value={formData.location.address}\n                    onChange={(value) => {\n                      setFormData(prev => ({\n                        ...prev,\n                        location: {\n                          ...prev.location,\n                          address: value\n                        }\n                      }));\n                    }}\n                    onPlaceSelect={handleAddressSelect}\n                    placeholder=\"Start typing your address...\"\n                    error={!!errors['location.address']}\n                  />\n                  {errors['location.address'] && <p className=\"mt-2 text-sm text-red-600\">{errors['location.address']}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">City</label>\n                  <AddressMemory\n                    value={formData.location.city}\n                    onChange={(value) => {\n                      setFormData(prev => ({\n                        ...prev,\n                        location: { ...prev.location, city: value }\n                      }));\n                    }}\n                    placeholder=\"Enter city...\"\n                    fieldType=\"city\"\n                    error={!!errors['location.city']}\n                  />\n                  {errors['location.city'] && <p className=\"mt-2 text-sm text-red-600\">{errors['location.city']}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">State</label>\n                  <AddressMemory\n                    value={formData.location.state}\n                    onChange={(value) => {\n                      setFormData(prev => ({\n                        ...prev,\n                        location: { ...prev.location, state: value }\n                      }));\n                    }}\n                    placeholder=\"Enter state...\"\n                    fieldType=\"state\"\n                    error={!!errors['location.state']}\n                  />\n                  {errors['location.state'] && <p className=\"mt-2 text-sm text-red-600\">{errors['location.state']}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">ZIP Code</label>\n                  <AddressMemory\n                    value={formData.location.zipCode}\n                    onChange={(value) => {\n                      setFormData(prev => ({\n                        ...prev,\n                        location: { ...prev.location, zipCode: value }\n                      }));\n                    }}\n                    placeholder=\"Enter ZIP code...\"\n                    fieldType=\"zipCode\"\n                    error={!!errors['location.zipCode']}\n                  />\n                  {errors['location.zipCode'] && <p className=\"mt-2 text-sm text-red-600\">{errors['location.zipCode']}</p>}\n                </div>\n              </div>\n\n              {/* Geo Coordinates */}\n              <div className=\"space-y-4\">\n                <h4 className=\"text-lg font-semibold text-gray-700 flex items-center\">\n                  <FaMapPin className=\"mr-2 text-blue-600\" />\n                  Geographic Coordinates\n                </h4>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Latitude (optional)</label>\n                    <MemoryInput\n                      type=\"number\"\n                      fieldKey=\"coordinates.latitude\"\n                      value={formData.location.coordinates.latitude}\n                      onChange={(val) => setFormData((p) => ({ ...p, location: { ...p.location, coordinates: { ...p.location.coordinates, latitude: val } } }))}\n                      placeholder=\"40.7128\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Longitude (optional)</label>\n                    <MemoryInput\n                      type=\"number\"\n                      fieldKey=\"coordinates.longitude\"\n                      value={formData.location.coordinates.longitude}\n                      onChange={(val) => setFormData((p) => ({ ...p, location: { ...p.location, coordinates: { ...p.location.coordinates, longitude: val } } }))}\n                      placeholder=\"-74.0060\"\n                    />\n                  </div>\n                </div>\n                \n                {/* Google Maps Link */}\n                <div className=\"mt-4 p-4 bg-blue-50 rounded-xl border border-blue-200\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex-1\">\n                      <h5 className=\"text-sm font-semibold text-blue-800 mb-2\">Google Maps Link</h5>\n                      {formData.location.googleMapsUrl ? (\n                        <div className=\"space-y-2\">\n                          <p className=\"text-xs text-green-600 font-medium\"> Auto-populated from address selection</p>\n                          <MemoryInput\n                            fieldKey=\"location.googleMapsUrl\"\n                            value={formData.location.googleMapsUrl}\n                            onChange={(val) => setFormData((p) => ({ ...p, location: { ...p.location, googleMapsUrl: val } }))}\n                            placeholder=\"https://www.google.com/maps/...\"\n                          />\n                        </div>\n                      ) : (\n                        <div className=\"space-y-2\">\n                          <p className=\"text-xs text-gray-600\">Select an address above to auto-populate this field</p>\n                      <MemoryInput\n                        fieldKey=\"location.googleMapsUrl\"\n                        value={formData.location.googleMapsUrl}\n                        onChange={(val) => setFormData((p) => ({ ...p, location: { ...p.location, googleMapsUrl: val } }))}\n                        placeholder=\"https://www.google.com/maps/...\"\n                      />\n                    </div>\n                      )}\n                  </div>\n                  </div>\n                  {errors['location.googleMapsUrl'] && <p className=\"mt-2 text-sm text-red-600\">{errors['location.googleMapsUrl']}</p>}\n                  {(formData.location.googleMapsUrl || (formData.location.coordinates.latitude && formData.location.coordinates.longitude)) && (\n                    <div className=\"mt-4 rounded-lg overflow-hidden border border-blue-200 bg-white\">\n                      <iframe\n                        title=\"Property location preview\"\n                        src={formData.location.googleMapsUrl\n                          ? `https://www.google.com/maps?q=${encodeURIComponent(formData.location.googleMapsUrl)}&output=embed`\n                          : `https://www.google.com/maps?q=${encodeURIComponent(formData.location.coordinates.latitude + ',' + formData.location.coordinates.longitude)}&output=embed`}\n                        width=\"100%\"\n                        height=\"300\"\n                        style={{ border: 0 }}\n                        loading=\"lazy\"\n                        referrerPolicy=\"no-referrer-when-downgrade\"\n                      />\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Nearest Bus Stop */}\n              <div className=\"space-y-4\">\n                <h4 className=\"text-lg font-semibold text-gray-700 flex items-center\">\n                  <FaBus className=\"mr-2 text-green-600\" />\n                  Nearest Bus Stop\n                </h4>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Bus Stop Name</label>\n                    <AddressMemory\n                      value={formData.location.nearestBusStop.name}\n                      onChange={(value) => {\n                        setFormData(prev => ({\n                          ...prev,\n                          location: { \n                            ...prev.location, \n                            nearestBusStop: { ...prev.location.nearestBusStop, name: value }\n                          }\n                        }));\n                      }}\n                      placeholder=\"Enter bus stop name...\"\n                      fieldType=\"busStop\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Distance</label>\n                    <MemoryInput\n                      fieldKey=\"busStop.distance\"\n                      value={formData.location.nearestBusStop.distance}\n                      onChange={(val) => setFormData((p) => ({\n                        ...p,\n                        location: { ...p.location, nearestBusStop: { ...p.location.nearestBusStop, distance: val } }\n                      }))}\n                      placeholder=\"0.2 miles\"\n                    />\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Bus Stop Latitude (optional)</label>\n                    <MemoryInput\n                      type=\"number\"\n                      fieldKey=\"busStopCoordinates.latitude\"\n                      value={formData.location.nearestBusStop.coordinates.latitude}\n                      onChange={(val) => setFormData((p) => ({\n                        ...p,\n                        location: {\n                          ...p.location,\n                          nearestBusStop: {\n                            ...p.location.nearestBusStop,\n                            coordinates: {\n                              ...p.location.nearestBusStop.coordinates,\n                              latitude: val\n                            }\n                          }\n                        }\n                      }))}\n                      placeholder=\"40.7132\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Bus Stop Longitude (optional)</label>\n                    <MemoryInput\n                      type=\"number\"\n                      fieldKey=\"busStopCoordinates.longitude\"\n                      value={formData.location.nearestBusStop.coordinates.longitude}\n                      onChange={(val) => setFormData((p) => ({\n                        ...p,\n                        location: {\n                          ...p.location,\n                          nearestBusStop: {\n                            ...p.location.nearestBusStop,\n                            coordinates: {\n                              ...p.location.nearestBusStop.coordinates,\n                              longitude: val\n                            }\n                          }\n                        }\n                      }))}\n                      placeholder=\"-74.0059\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Property Details */}\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center space-x-3 mb-6\">\n                <div className=\"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center\">\n                  <FaRulerCombined className=\"text-white text-lg\" />\n                </div>\n                <h3 className=\"text-2xl font-bold text-gray-900\">Property Details</h3>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Bedrooms</label>\n                  <MemoryInput\n                    type=\"number\"\n                    fieldKey=\"bedrooms\"\n                    value={formData.details.bedrooms}\n                    onChange={(val) => setFormData((p) => ({ ...p, details: { ...p.details, bedrooms: val } }))}\n                    placeholder=\"3\"\n                  />\n                  {errors['details.bedrooms'] && <p className=\"mt-2 text-sm text-red-600\">{errors['details.bedrooms']}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Bathrooms</label>\n                  <MemoryInput\n                    type=\"number\"\n                    fieldKey=\"bathrooms\"\n                    value={formData.details.bathrooms}\n                    onChange={(val) => setFormData((p) => ({ ...p, details: { ...p.details, bathrooms: val } }))}\n                    placeholder=\"2\"\n                  />\n                  {errors['details.bathrooms'] && <p className=\"mt-2 text-sm text-red-600\">{errors['details.bathrooms']}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Square Feet</label>\n                  <MemoryInput\n                    type=\"number\"\n                    fieldKey=\"sqft\"\n                    value={formData.details.sqft}\n                    onChange={(val) => setFormData((p) => ({ ...p, details: { ...p.details, sqft: val } }))}\n                    placeholder=\"2000\"\n                  />\n                  {errors['details.sqft'] && <p className=\"mt-2 text-sm text-red-600\">{errors['details.sqft']}</p>}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Year Built</label>\n                  <MemoryInput\n                    type=\"number\"\n                    fieldKey=\"yearBuilt\"\n                    value={formData.details.yearBuilt}\n                    onChange={(val) => setFormData((p) => ({ ...p, details: { ...p.details, yearBuilt: val } }))}\n                    placeholder=\"2015\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Lot Size</label>\n                    <MemoryInput\n                      fieldKey=\"details.lotSize\"\n                      value={formData.details.lotSize}\n                      onChange={(val) => setFormData((p) => ({ ...p, details: { ...p.details, lotSize: val } }))}\n                      placeholder=\"0.25 acres\"\n                    />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Parking</label>\n                    <MemoryInput\n                      fieldKey=\"details.parking\"\n                      value={formData.details.parking}\n                      onChange={(val) => setFormData((p) => ({ ...p, details: { ...p.details, parking: val } }))}\n                      placeholder=\"2-car garage\"\n                    />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Heating</label>\n                    <MemoryInput\n                      fieldKey=\"details.heating\"\n                      value={formData.details.heating}\n                      onChange={(val) => setFormData((p) => ({ ...p, details: { ...p.details, heating: val } }))}\n                      placeholder=\"Central\"\n                    />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Cooling</label>\n                    <MemoryInput\n                      fieldKey=\"details.cooling\"\n                      value={formData.details.cooling}\n                      onChange={(val) => setFormData((p) => ({ ...p, details: { ...p.details, cooling: val } }))}\n                      placeholder=\"Central AC\"\n                    />\n                </div>\n              </div>\n            </div>\n\n            {/* Media Upload */}\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center space-x-3 mb-6\">\n                <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center\">\n                  <FaUpload className=\"text-white text-lg\" />\n                </div>\n                <h3 className=\"text-2xl font-bold text-gray-900\">Media & Documents</h3>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                {/* Image Upload */}\n                <div className=\"space-y-4\">\n                  <h4 className=\"text-lg font-semibold text-gray-700 flex items-center\">\n                    <FaImage className=\"mr-2 text-blue-600\" />\n                    Property Images\n                  </h4>\n                  <PropertyImageUpload\n                    propertyId={formData.id || 'temp'}\n                    onImagesChange={(images) => setFormData(prev => ({ ...prev, images }))}\n                    initialImages={formData.images || []}\n                    maxImages={10}\n                  />\n                </div>\n\n                {/* Video Upload */}\n                <div className=\"space-y-4\">\n                  <h4 className=\"text-lg font-semibold text-gray-700 flex items-center\">\n                    <FaVideo className=\"mr-2 text-red-600\" />\n                    Property Videos\n                  </h4>\n                  <PropertyVideoUpload\n                    propertyId={formData.id || 'temp'}\n                    onVideosChange={(videos) => setFormData(prev => ({ ...prev, videos }))}\n                    initialVideos={formData.videos || []}\n                    maxVideos={5}\n                  />\n                </div>\n\n                {/* Document Upload */}\n                <div className=\"space-y-4\">\n                  <h4 className=\"text-lg font-semibold text-gray-700 flex items-center\">\n                    <FaFileAlt className=\"mr-2 text-green-600\" />\n                    Documents\n                  </h4>\n                  <PropertyDocumentUpload\n                    propertyId={formData.id || 'temp'}\n                    onDocumentsChange={(documents) => setFormData(prev => ({ ...prev, documentation: documents }))}\n                    initialDocuments={formData.documentation || []}\n                    maxDocuments={10}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Amenities */}\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center space-x-3 mb-6\">\n                <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center\">\n                  <FaCheck className=\"text-white text-lg\" />\n                </div>\n                <h3 className=\"text-2xl font-bold text-gray-900\">Amenities</h3>\n              </div>\n              \n              <div className=\"space-y-4\">\n                <div className=\"flex gap-3\">\n                  <div className=\"flex-1 relative\">\n                    <input\n                      type=\"text\"\n                      value={amenityInput}\n                      onChange={(e) => setAmenityInput(e.target.value)}\n                      className=\"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300\"\n                      placeholder=\"Add custom amenity\"\n                      onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAmenityAdd())}\n                    />\n                    <FaPlus className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg\" />\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={handleAmenityAdd}\n                    className=\"px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:-translate-y-1 shadow-lg\"\n                  >\n                    Add\n                  </button>\n                </div>\n                \n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                  {commonAmenities.map(amenity => (\n                    <button\n                      key={amenity}\n                      type=\"button\"\n                      onClick={() => {\n                        if (!formData.amenities.includes(amenity)) {\n                          setFormData(prev => ({\n                            ...prev,\n                            amenities: [...prev.amenities, amenity]\n                          }));\n                        }\n                      }}\n                      className={`px-4 py-3 text-sm rounded-xl border-2 transition-all duration-300 ${\n                        formData.amenities.includes(amenity)\n                          ? 'bg-blue-50 border-blue-300 text-blue-700 shadow-md'\n                          : 'bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100 hover:border-gray-300'\n                      }`}\n                    >\n                      {amenity}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {formData.amenities.length > 0 && (\n                <div className=\"space-y-3\">\n                  <h4 className=\"text-lg font-semibold text-gray-700\">Selected Amenities:</h4>\n                  <div className=\"flex flex-wrap gap-3\">\n                    {formData.amenities.map((amenity, index) => (\n                      <span\n                        key={index}\n                        className=\"inline-flex items-center px-4 py-2 rounded-xl text-sm bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 border border-blue-200 shadow-sm\"\n                      >\n                        {amenity}\n                        <button\n                          type=\"button\"\n                          onClick={() => handleAmenityRemove(amenity)}\n                          className=\"ml-3 text-blue-600 hover:text-blue-800 transition-colors\"\n                        >\n                          <FaTimes className=\"text-sm\" />\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Mortgage Details (conditional) */}\n            {formData.status === 'for-mortgage' && (\n              <div className=\"space-y-6\">\n                <div className=\"flex items-center space-x-3 mb-6\">\n                  <div className=\"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-lg flex items-center justify-center\">\n                    <FaDollarSign className=\"text-white text-lg\" />\n                  </div>\n                  <h3 className=\"text-2xl font-bold text-gray-900\">Mortgage Details</h3>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Mortgage Provider</label>\n                    <MemoryInput\n                      fieldKey=\"mortgageDetails.mortgageProvider\"\n                      value={mortgageDetails.mortgageProvider}\n                      onChange={(val) => setMortgageDetails((p) => ({ ...p, mortgageProvider: val }))}\n                      placeholder=\"Bank of America\"\n                    />\n                    {errors.mortgageProvider && <p className=\"mt-2 text-sm text-red-600\">{errors.mortgageProvider}</p>}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Minimum Down Payment (%)</label>\n                    <MemoryInput\n                      type=\"number\"\n                      fieldKey=\"mortgageDetails.minDownPaymentPercent\"\n                      value={mortgageDetails.minDownPaymentPercent}\n                      onChange={(val) => setMortgageDetails((p) => ({ ...p, minDownPaymentPercent: val }))}\n                      placeholder=\"20\"\n                    />\n                    {errors.minDownPaymentPercent && <p className=\"mt-2 text-sm text-red-600\">{errors.minDownPaymentPercent}</p>}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Tenor (Months)</label>\n                    <MemoryInput\n                      type=\"number\"\n                      fieldKey=\"mortgageDetails.tenorMonths\"\n                      value={mortgageDetails.tenorMonths}\n                      onChange={(val) => setMortgageDetails((p) => ({ ...p, tenorMonths: val }))}\n                      placeholder=\"300\"\n                    />\n                    {errors.tenorMonths && <p className=\"mt-2 text-sm text-red-600\">{errors.tenorMonths}</p>}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Interest Rate (%)</label>\n                    <MemoryInput\n                      type=\"number\"\n                      fieldKey=\"mortgageDetails.interestRate\"\n                      value={mortgageDetails.interestRate}\n                      onChange={(val) => setMortgageDetails((p) => ({ ...p, interestRate: val }))}\n                      placeholder=\"3.5\"\n                    />\n                    {errors.interestRate && <p className=\"mt-2 text-sm text-red-600\">{errors.interestRate}</p>}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Monthly Income Requirement ()</label>\n                    <MemoryInput\n                      type=\"number\"\n                      fieldKey=\"mortgageDetails.monthlyIncomeRequirement\"\n                      value={mortgageDetails.monthlyIncomeRequirement}\n                      onChange={(val) => setMortgageDetails((p) => ({ ...p, monthlyIncomeRequirement: val }))}\n                      placeholder=\"300000\"\n                    />\n                    {errors.monthlyIncomeRequirement && <p className=\"mt-2 text-sm text-red-600\">{errors.monthlyIncomeRequirement}</p>}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Submit Buttons */}\n            <div className=\"flex flex-col sm:flex-row justify-end gap-4 pt-6\">\n              {loading && (\n                <div className=\"flex-1\">\n                  <div className=\"w-full bg-gray-100 rounded-full h-2 mb-2\">\n                    <div className=\"bg-blue-600 h-2 rounded-full transition-all\" style={{ width: `${progressPercent}%` }}></div>\n                  </div>\n                  <p className=\"text-xs text-gray-500\">{progressMessage}</p>\n                </div>\n              )}\n              <button\n                type=\"button\"\n                onClick={() => navigate('/dashboard')}\n                className=\"px-8 py-4 border-2 border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-300 font-semibold\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:-translate-y-1 shadow-lg font-semibold\"\n              >\n                {loading ? (\n                  <div className=\"flex items-center\">\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3\"></div>\n                    Adding Property...\n                  </div>\n                ) : (\n                  'Add Property'\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n      {showInvestmentModal && (\n        <InvestmentDetailsModal\n          isOpen={showInvestmentModal}\n          onClose={() => { setShowInvestmentModal(false); setInvestmentPayload(null); }}\n          onSubmit={(payload) => { setInvestmentPayload(payload); setShowInvestmentModal(false); setTimeout(() => { const fakeEvent = { preventDefault: () => {} }; handleSubmit(fakeEvent); }, 0); }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default AddProperty; ","import React, { useCallback, useMemo, useState } from 'react';\nimport { FaHistory, FaTimes } from 'react-icons/fa';\n\nconst MemoryInput = ({\n  value,\n  onChange,\n  placeholder = '',\n  className = '',\n  error = false,\n  fieldKey, // unique storage key per field, e.g., 'title', 'price'\n  type = 'text',\n  min,\n  max,\n  step,\n  multiline = false,\n  rows = 4,\n}) => {\n  const [showSuggestions, setShowSuggestions] = useState(false);\n\n  const storageKey = useMemo(() => `memory_${fieldKey}`, [fieldKey]);\n\n  const getMemory = useCallback(() => {\n    try {\n      const raw = localStorage.getItem(storageKey);\n      return raw ? JSON.parse(raw) : [];\n    } catch {\n      return [];\n    }\n  }, [storageKey]);\n\n  const filteredSuggestions = useMemo(() => {\n    const memory = getMemory();\n    if (!value || value.toString().length < 1) {\n      // Show all suggestions when field is empty\n      return memory.slice(0, 8);\n    }\n    const lower = value.toString().toLowerCase();\n    return memory\n      .filter((m) => m?.v?.toString().toLowerCase().includes(lower))\n      .slice(0, 8);\n  }, [value, getMemory]);\n\n  const saveToMemory = useCallback(\n    (val) => {\n      const trimmed = (val ?? '').toString().trim();\n      if (!trimmed) return;\n      try {\n        const memory = getMemory();\n        const newList = [\n          { v: trimmed, t: Date.now() },\n          ...memory.filter((m) => m?.v !== trimmed),\n        ].slice(0, 12);\n        localStorage.setItem(storageKey, JSON.stringify(newList));\n      } catch {\n        // ignore\n      }\n    },\n    [getMemory, storageKey]\n  );\n\n  const handleBlur = useCallback(() => {\n    saveToMemory(value);\n    setTimeout(() => setShowSuggestions(false), 200);\n  }, [saveToMemory, value]);\n\n  const handleFocus = useCallback(() => {\n    const memory = getMemory();\n    if (memory.length > 0) setShowSuggestions(true);\n  }, [getMemory]);\n\n  const handleSelect = useCallback(\n    (suggestion) => {\n      onChange(suggestion.v);\n      setShowSuggestions(false);\n    },\n    [onChange]\n  );\n\n  const clearMemory = useCallback(() => {\n    localStorage.removeItem(storageKey);\n    setShowSuggestions(false);\n  }, [storageKey]);\n\n  const commonProps = {\n    value: value || '', // Ensure value is never null/undefined\n    onChange: (e) => onChange(e.target.value),\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    placeholder,\n    className:\n      `w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 ${\n        error ? 'border-red-300 focus:border-red-500' : 'border-gray-200 focus:border-blue-500'\n      } ${className}`,\n  };\n\n  return (\n    <div className=\"relative\">\n      <div className=\"relative\">\n        {multiline ? (\n          <textarea rows={rows} {...commonProps} />\n        ) : (\n          <input type={type} min={min} max={max} step={step} {...commonProps} />\n        )}\n\n        {getMemory().length > 0 && (\n          <button\n            type=\"button\"\n            onClick={clearMemory}\n            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-500\"\n            title=\"Clear history\"\n          >\n            <FaTimes className=\"h-4 w-4\" />\n          </button>\n        )}\n      </div>\n\n      {showSuggestions && filteredSuggestions.length > 0 && (\n        <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-xl shadow-lg z-50 max-h-60 overflow-y-auto\">\n          <div className=\"px-4 py-2 bg-blue-50 border-b border-blue-200 flex items-center text-xs text-blue-700 uppercase tracking-wide font-semibold\">\n            <FaHistory className=\"mr-2\" /> Recent entries ({filteredSuggestions.length})\n          </div>\n          {filteredSuggestions.map((s, idx) => (\n            <button\n              key={`${storageKey}-${idx}`}\n              type=\"button\"\n              onClick={() => handleSelect(s)}\n              className=\"w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors text-sm\"\n            >\n              <span className=\"font-medium\">{s.v}</span>\n              <span className=\"text-xs text-gray-500 ml-2\">\n                {new Date(s.t).toLocaleDateString()}\n              </span>\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MemoryInput;\n\n\n"],"names":["uploadFile","file","path","metadata","arguments","length","undefined","_result$data","_result$data2","_result$data3","_result$data4","_result$data5","formData","FormData","append","JSON","stringify","response","fetch","method","headers","Authorization","localStorage","getItem","body","result","json","ok","success","Error","message","url","data","publicId","name","originalName","size","type","format","error","console","uploadMultipleFiles","files","basePath","_result$data6","_result$data7","_result$data8","forEach","successful","failed","total","moveFile","oldPath","newPath","split","pop","uploadPropertyImages","propertyId","userId","_result$data9","_result$data0","_result$data1","uploadUserAvatar","Date","now","validation","this","validateFile","valid","errors","join","avatarInfo","avatarUrl","uploadDate","toISOString","fileName","setItem","getFallbackAvatar","mockAvatarUrl","encodeURIComponent","isFallback","uploadEscrowDocument","escrowId","documentType","_result$data10","_result$data11","_result$data12","_result$data13","_result$data14","deleteFile","getFileMetadata","listFiles","getPropertyImages","getEscrowDocuments","allowedTypes","maxSize","includes","push","toFixed","formatFileSize","bytes","i","Math","floor","log","parseFloat","pow","_ref","onFilesChange","initialFiles","maxFiles","disabled","className","setFiles","useState","uploadingFiles","setUploadingFiles","Map","dragActive","setDragActive","previewIndex","setPreviewIndex","user","useAuth","config","getTypeConfig","configs","image","icon","FaUpload","accept","placeholder","subtext","video","FaPlay","document","FaFile","finalAllowedTypes","finalMaxSize","handleUpload","useCallback","async","fileArray","Array","from","fileList","toast","validFiles","invalidFiles","storageService","_ref2","fileId","random","prev","set","progress","status","uploadResult","uploadFileWithProgress","uid","newFile","id","isUploaded","isLocal","newMap","get","setTimeout","delete","localUrl","URL","createObjectURL","warn","folder","renderPreview","index","_jsx","children","src","alt","_jsxs","controls","onDragOver","e","preventDefault","onDragLeave","onDrop","dataTransfer","onClick","getElementById","click","multiple","onChange","target","value","renderUploadingFiles","uploadingArray","values","map","uploadingFile","FaCheck","FaExclamationTriangle","style","width","round","charAt","toUpperCase","slice","title","FaEye","fileToRemove","updatedFiles","filter","_","handleRemoveFile","FaTimes","renderPreviewModal","href","rel","onImagesChange","initialImages","maxImages","imageUrl","setImageUrl","handleAddImageUrl","trim","startsWith","newImage","currentImages","updatedImages","EnhancedFileUpload","onKeyPress","key","FaPlus","onVideosChange","initialVideos","maxVideos","onDocumentsChange","initialDocuments","maxDocuments","isOpen","onClose","onSubmit","form","setForm","roiPercent","durationUnit","durationValue","minAmount","payoutSchedule","riskLevel","redemptionTerms","startDate","maturityDate","summary","documents","setDocuments","setErrors","handleChange","FaPercent","FaDollarSign","FaCalendarAlt","rows","FaFileAlt","processed","htmlFor","doc","idx","removeDoc","submit","v","validate","Object","keys","investment","Number","investmentDocuments","isAgent","isPropertyOwner","isListingAsAgent","setIsListingAsAgent","attestationLetter","setAttestationLetter","documentStatus","onAttestationUpload","handleFileUpload","alert","handleDrag","stopPropagation","FaUser","checked","FaBuilding","getDocumentStatusColor","hasAttestationLetter","attestationStatus","getDocumentStatusIcon","getDocumentStatusText","onDragEnter","FaFileUpload","isLoaded","isLoading","loadPromise","servicesInitialized","preloadGoogleMapsAPI","apiKey","process","REACT_APP_GOOGLE_MAPS_API_KEY","loadGoogleMapsAPI","Promise","resolve","reject","window","google","maps","script","createElement","defer","preconnectLink","head","appendChild","dnsPrefetchLink","onload","onerror","isGoogleMapsLoaded","onPlaceSelect","suggestions","setSuggestions","showSuggestions","setShowSuggestions","setIsLoading","isGoogleMapsAvailable","setIsGoogleMapsAvailable","memorySuggestions","setMemorySuggestions","inputRef","useRef","suggestionsRef","autocompleteService","placesService","debounceTimer","requestId","addressCache","getAddressMemory","stored","parse","saveAddressToMemory","address","memory","newMemory","timestamp","item","getMemorySuggestions","input","toLowerCase","useEffect","initializeServices","places","AutocompleteSuggestion","current","AutocompleteService","Place","PlacesService","then","catch","getPlacePredictionsOptimized","_window$google","_window$google$maps","currentRequestId","cacheKey","has","cachedResults","request","types","componentRestrictions","country","getPlacePredictions","predictions","PlacesServiceStatus","OK","firstKey","next","getSuggestions","handleInputChange","inputValue","clearTimeout","handleInputBlur","_suggestionsRef$curre","contains","activeElement","handleSuggestionClick","suggestion","_window$google2","_window$google2$maps","placeId","place_id","fields","getDetails","place","_addressComponents$fi","_addressComponents$fi2","_addressComponents$fi3","_place$geometry","_place$geometry$locat","_place$geometry2","_place$geometry2$loca","addressComponents","address_components","city","find","component","long_name","state","zipCode","formatted_address","coordinates","latitude","geometry","location","lat","longitude","lng","googleMapsUrl","fetchFields","_addressComponents$fi4","_addressComponents$fi5","_addressComponents$fi6","_place$geometry3","_place$geometry3$loca","_place$geometry4","_place$geometry4$loca","handleMemorySuggestionClick","memorySuggestion","handleClearInput","_inputRef$current","focus","handleFocus","_suggestionsRef$curre2","ref","onBlur","onFocus","FaMapMarkerAlt","_Fragment","_suggestion$structure","_suggestion$structure2","structured_formatting","main_text","description","secondary_text","fieldType","setInputRef","handleInputFocus","clearMemory","removeItem","FaHistory","useAutoSave","storageKey","debounceMs","timeoutRef","isInitialMount","clearSavedData","loadSavedData","saved","AddProperty","navigate","useNavigate","useLocation","createProperty","updateProperty","useProperty","checkDocumentStatus","uploadAgentDocument","useVendor","setFormData","price","nearestBusStop","distance","details","bedrooms","bathrooms","sqft","yearBuilt","lotSize","parking","heating","cooling","amenities","images","videos","documentation","mortgageDetails","loading","setLoading","progressPercent","setProgressPercent","progressMessage","setProgressMessage","amenityInput","setAmenityInput","showInvestmentModal","setShowInvestmentModal","investmentPayload","setInvestmentPayload","setDocumentStatus","setMortgageDetails","mortgageProvider","minDownPaymentPercent","tenorMonths","interestRate","monthlyIncomeRequirement","_location$state","propertyToEdit","_parsed$location","parsed","duration","timeoutId","dataToSave","parent","child","coordType","busStopType","detailType","handleAmenityAdd","handleSubmit","newErrors","validateForm","hasCoords","Boolean","propertyData","vendorId","vendorName","displayName","firstName","lastName","email","isAgentListing","agentId","createdAt","listingType","moderationStatus","parseInt","newId","finalImages","imagesNeedingMove","img","moved","all","res","updated","m","videoUploadResult2","documentUploadResult2","uploadedVideos2","r","isPrimary","caption","uploadedDocuments2","vendorKey","_propertyData$locatio","_propertyData$locatio2","_propertyData$locatio3","_propertyData$details","_propertyData$details2","_propertyData$details3","_propertyData$images$","created","area","views","inquiries","favorites","dateListed","lastUpdated","pathname","general","FaHome","AgentPropertyListing","MemoryInput","fieldKey","val","p","multiline","GoogleMapsAutocomplete","placeData","AddressMemory","FaMapPin","height","border","referrerPolicy","FaBus","FaRulerCombined","FaImage","PropertyImageUpload","FaVideo","PropertyVideoUpload","PropertyDocumentUpload","amenity","a","handleAmenityRemove","InvestmentDetailsModal","payload","min","max","step","useMemo","getMemory","raw","filteredSuggestions","toString","lower","_m$v","saveToMemory","trimmed","newList","t","handleBlur","handleSelect","commonProps","s","toLocaleDateString"],"sourceRoot":""}