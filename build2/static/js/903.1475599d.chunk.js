"use strict";(self.webpackChunkreal_estate_marketplace=self.webpackChunkreal_estate_marketplace||[]).push([[903],{3903:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(5043),r=a(5016),i=a(5369),n=a(579);const l=()=>{const{user:e}=(0,r.As)(),[t,a]=(0,s.useState)([]),[l,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[x,u]=(0,s.useState)(!0),p=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=[{id:1,contact:{id:1,name:"Sarah Johnson",role:"Property Agent",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face",phone:"+234 801 234 5678",email:"sarah@propertyark.com",isOnline:!0},property:{id:1,title:"Luxury 4-Bedroom Villa in Victoria Island",image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=100&h=100&fit=crop"},lastMessage:{text:"I've scheduled the viewing for Saturday 2 PM. Please confirm if that works for you.",timestamp:"2024-01-15T14:30:00Z",sender:"agent",isRead:!0},unreadCount:0,isStarred:!0,isArchived:!1,messages:[{id:1,text:"Hi! I'm interested in the 4-bedroom villa in Victoria Island. Could you provide more details?",timestamp:"2024-01-15T10:30:00Z",sender:"user",isRead:!0},{id:2,text:"Hello! Thank you for your interest. The villa is a beautiful 4-bedroom property with a private pool, gym, and 24/7 security. It's located in a prime area of Victoria Island. Would you like to schedule a viewing?",timestamp:"2024-01-15T10:45:00Z",sender:"agent",isRead:!0},{id:3,text:"Yes, I'd love to see it. What are your available times this weekend?",timestamp:"2024-01-15T11:00:00Z",sender:"user",isRead:!0},{id:4,text:"I've scheduled the viewing for Saturday 2 PM. Please confirm if that works for you.",timestamp:"2024-01-15T14:30:00Z",sender:"agent",isRead:!0}]},{id:2,contact:{id:2,name:"Michael Adebayo",role:"Property Agent",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",phone:"+234 802 345 6789",email:"michael@propertyark.com",isOnline:!1},property:{id:2,title:"Modern 3-Bedroom Apartment in Ikoyi",image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=100&h=100&fit=crop"},lastMessage:{text:"The maintenance fee is \u20a6150,000 monthly and includes all amenities I mentioned.",timestamp:"2024-01-12T16:10:00Z",sender:"agent",isRead:!0},unreadCount:0,isStarred:!1,isArchived:!1,messages:[{id:1,text:"What are the maintenance fees for the Ikoyi apartment?",timestamp:"2024-01-12T09:15:00Z",sender:"user",isRead:!0},{id:2,text:"The monthly maintenance fee is \u20a6150,000 and includes: 24/7 security, generator backup, swimming pool, gym, children's playground, and regular maintenance of common areas.",timestamp:"2024-01-12T11:45:00Z",sender:"agent",isRead:!0},{id:3,text:"Thank you for the information. I'm also interested in the parking situation - how many parking spaces are allocated per unit?",timestamp:"2024-01-12T15:30:00Z",sender:"user",isRead:!0},{id:4,text:"Each unit comes with 2 covered parking spaces. There's also additional visitor parking available.",timestamp:"2024-01-12T16:10:00Z",sender:"agent",isRead:!0}]},{id:3,contact:{id:3,name:"Grace Okafor",role:"Property Agent",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face",phone:"+234 803 456 7890",email:"grace@propertyark.com",isOnline:!0},property:{id:3,title:"Elegant 2-Bedroom Penthouse in Lekki",image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=100&h=100&fit=crop"},lastMessage:{text:"I have a similar penthouse that just became available. Would you like me to send you the details?",timestamp:"2024-01-08T17:20:00Z",sender:"agent",isRead:!0},unreadCount:0,isStarred:!1,isArchived:!1,messages:[{id:1,text:"Is the Lekki penthouse still available? I'm looking to make an offer.",timestamp:"2024-01-08T16:45:00Z",sender:"user",isRead:!0},{id:2,text:"I'm sorry, but this property was sold yesterday. However, I have a similar penthouse in the same building that just became available. Would you like me to send you the details?",timestamp:"2024-01-08T17:20:00Z",sender:"agent",isRead:!0}]},{id:4,contact:{id:4,name:"David Okonkwo",role:"Property Agent",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",phone:"+234 804 567 8901",email:"david@propertyark.com",isOnline:!1},property:{id:4,title:"Spacious 5-Bedroom Duplex in Abuja",image:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=100&h=100&fit=crop"},lastMessage:{text:"I'll get back to you with the rental yield data for the Asokoro area.",timestamp:"2024-01-05T14:00:00Z",sender:"agent",isRead:!1},unreadCount:1,isStarred:!1,isArchived:!1,messages:[{id:1,text:"I'm interested in this property for investment purposes. What's the rental yield potential in this area?",timestamp:"2024-01-05T13:20:00Z",sender:"user",isRead:!0},{id:2,text:"I'll get back to you with the rental yield data for the Asokoro area.",timestamp:"2024-01-05T14:00:00Z",sender:"agent",isRead:!1}]}];setTimeout(()=>{a(e),u(!1)},1e3)},[]);const g=()=>{if(!d.trim()||!l)return;const e={id:Date.now(),text:d,timestamp:(new Date).toISOString(),sender:"user",isRead:!0};a(t=>t.map(t=>t.id===l.id?{...t,messages:[...t.messages,e],lastMessage:{text:d,timestamp:(new Date).toISOString(),sender:"user",isRead:!0}}:t)),c(""),setTimeout(()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)},y=e=>{const t=new Date(e),a=(new Date-t)/36e5;return a<24?t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):a<168?t.toLocaleDateString("en-US",{weekday:"short"}):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})},f=t.filter(e=>e.contact.name.toLowerCase().includes(m.toLowerCase())||e.property.title.toLowerCase().includes(m.toLowerCase())).sort((e,t)=>e.unreadCount>0&&0===t.unreadCount?-1:t.unreadCount>0&&0===e.unreadCount?1:new Date(t.lastMessage.timestamp)-new Date(e.lastMessage.timestamp));return x?(0,n.jsx)("div",{className:"p-6",children:(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue"})})}):(0,n.jsx)("div",{className:"p-6 h-full",children:(0,n.jsxs)("div",{className:"flex h-full bg-white rounded-lg shadow overflow-hidden",children:[(0,n.jsxs)("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[(0,n.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,n.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Messages"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(i.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Search conversations...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent"})]})]}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===f.length?(0,n.jsxs)("div",{className:"p-6 text-center",children:[(0,n.jsx)(i.maD,{className:"text-gray-300 text-4xl mx-auto mb-2"}),(0,n.jsx)("p",{className:"text-gray-500",children:"No conversations found"})]}):(0,n.jsx)("div",{className:"space-y-1",children:f.map(e=>(0,n.jsx)("div",{onClick:()=>o(e),className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors "+((null===l||void 0===l?void 0:l.id)===e.id?"bg-blue-50 border-r-2 border-brand-blue":""),children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("img",{src:e.contact.avatar,alt:e.contact.name,className:"w-12 h-12 rounded-full object-cover"}),e.contact.isOnline&&(0,n.jsx)(i.Qp1,{className:"absolute bottom-0 right-0 text-green-500 text-xs"})]}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:e.contact.name}),(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("button",{onClick:t=>{var s;t.stopPropagation(),s=e.id,a(e=>e.map(e=>e.id===s?{...e,isStarred:!e.isStarred}:e))},className:"text-gray-400 hover:text-yellow-500",children:(0,n.jsx)(i.gt3,{className:e.isStarred?"text-yellow-500":""})}),(0,n.jsx)("span",{className:"text-xs text-gray-500",children:y(e.lastMessage.timestamp)})]})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600 truncate mb-1",children:e.lastMessage.text}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.property.title}),e.unreadCount>0&&(0,n.jsx)("span",{className:"bg-brand-blue text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:e.unreadCount})]})]})]})},e.id))})})]}),(0,n.jsx)("div",{className:"flex-1 flex flex-col",children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("img",{src:l.contact.avatar,alt:l.contact.name,className:"w-10 h-10 rounded-full object-cover"}),l.contact.isOnline&&(0,n.jsx)(i.Qp1,{className:"absolute bottom-0 right-0 text-green-500 text-xs"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900",children:l.contact.name}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:l.contact.role})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200",children:(0,n.jsx)(i.Cab,{})}),(0,n.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200",children:(0,n.jsx)(i.HiP,{})}),(0,n.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200",children:(0,n.jsx)(i.H_v,{})})]})]})}),(0,n.jsx)("div",{className:"p-4 border-b border-gray-200 bg-blue-50",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("img",{src:l.property.image,alt:l.property.title,className:"w-12 h-12 rounded-lg object-cover"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:l.property.title}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Property Discussion"})]})]})}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.messages.map(e=>(0,n.jsx)("div",{className:"flex "+("user"===e.sender?"justify-end":"justify-start"),children:(0,n.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+("user"===e.sender?"bg-brand-blue text-white":"bg-gray-200 text-gray-900"),children:[(0,n.jsx)("p",{className:"text-sm",children:e.text}),(0,n.jsxs)("div",{className:"flex items-center justify-end mt-1 space-x-1 "+("user"===e.sender?"text-blue-100":"text-gray-500"),children:[(0,n.jsx)("span",{className:"text-xs",children:y(e.timestamp)}),"user"===e.sender&&(0,n.jsx)(i.flP,{className:"text-xs"})]})]})},e.id)),(0,n.jsx)("div",{ref:p})]}),(0,n.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200",children:(0,n.jsx)(i.dkL,{})}),(0,n.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200",children:(0,n.jsx)(i.Gp9,{})}),(0,n.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200",children:(0,n.jsx)(i.Ky9,{})}),(0,n.jsx)("div",{className:"flex-1 relative",children:(0,n.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g())},placeholder:"Type your message...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent resize-none",rows:"1"})}),(0,n.jsx)("button",{onClick:g,disabled:!d.trim(),className:"p-2 bg-brand-blue text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,n.jsx)(i.Cer,{})})]})})]}):(0,n.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(i.maD,{className:"text-gray-300 text-6xl mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select a Conversation"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Choose a conversation from the sidebar to start messaging"})]})})})]})})}}}]);
//# sourceMappingURL=903.1475599d.chunk.js.map